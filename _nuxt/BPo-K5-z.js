const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DZmKQ5YE.js","./CZ-fEcpL.js","./DIFfro1Y.js","./Dh1RFCXV.js","./LNDzZpPm.js","./entry.BpkB0Wh2.css","./ClxWKn9T.js","./BgvJAoK2.js","./CyofXtRf.js","./CqaOUC0Y.js","./scrollbar.wwf0UyhQ.css","./BcS6nOuf.js","./tag.C2CcED8f.css","./DuC4p7MX.js","./table.D1Uy_Ymd.css","./CAu_L1SH.js","./4BOpdlp6.js","./CdYdV4TG.js","./input-number.HwP0nlBD.css","./vmSyQCMq.js","./switch.DT829VzR.css","./DQUqQXp4.js","./select.CdhMYGFy.css","./slippageSet.BuiJxkhK.css","./slippageSetMarket.BkBYExOE.css","./B_bYtbjB.js","./alert.D1SEbdVP.css","./njOOFaJF.js","./Dmaw2k36.js","./color-picker-panel.EUD1Tu0U.css","./7PWpoxWf.js","./DsasURJA.js","./remind.B6TrAqUJ.css","./FG6gRdvh.js","./index.CqytFQQD.css","./CytQXV1W.js","./xIcon.-1kN8h6i.css","./saZFXB17.js","./BpVPSrXI.js","./arcProgress.C2KVeCWd.css","./BmJn-QVY.js","./BZp9YwGa.js","./tokenColumn.BMqJdPO-.css","./B4pLZScH.js","./progress.C2s-rdyf.css","./CHAOnMYe.js","./BrHgemS_.js","./dropdown.CsqGwJyz.css","./tabs.Bq1v7sO2.css","./Dl5uLHiY.js","./slider.LN1DrOuY.css","./FmdACanA.js","./vLoading.DzkBmIP9.css","./fQpEmYRS.js","./FpEH-fmd.js","./Ct3nesK2.js","./4ADxCC58.js","./index.f3TxibkY.css","./CzFZvokD.js","./radio-group.3FtdSGho.css","./D6I9a_bc.js","./dialogGroupManage.DGaQAbvV.css","./DfhoFjpW.js","./DSef3GLz.js","./DDjeFfx6.js","./-phAe-sd.js","./profitLoss.t0Kt4Iqe.css","./Cgr8_RvQ.js","./index._0toGhtS.css","./CbOm3EN8.js","./B3LPAxCs.js","./proTag.I_eSLysf.css","./index.lMypYYbp.css","./radio-button.CHRh4ZEq.css","./DDRvTLko.js","./index.D_-HExER.css","./CMmoLYVl.js","./index.CFiZcsKx.css"])))=>i.map(i=>d[i]);
import{_ as e,a as l,b as a}from"./CAu_L1SH.js";import{E as t}from"./CqaOUC0Y.js";import{c0 as n,cd as o,f as s,v as i,aE as r,I as u,g as d,ce as c,n as v,m,K as p,A as f,i as x,o as h,w as b,a as g,t as k,a8 as _,b as y,B as w,d as T,c as C,F as A,C as S,e as N,a6 as $,cf as F,cg as I,J as L,D as V,s as D,Q as M,_ as B,ch as P,ci as E,r as U,p as R,N as H,O,y as j,aj as z,b_ as W,V as q,W as Y,am as G,R as Q,cj as K,aQ as Z,a1 as X,ck as J,bv as ee,ab as le,aZ as ae,a_ as te,bQ as ne,a4 as oe,H as se,aB as ie,x as re,cl as ue,q as de,aM as ce,M as ve,cm as me,bV as pe,aA as fe,cn as xe,bd as he,bf as be,aJ as ge,bg as ke,a9 as _e,aV as ye,aW as we,G as Te,ar as Ce,P as Ae,ac as Se,aa as Ne,ae as $e,ah as Fe,af as Ie,bm as Le,bl as Ve,ag as De,bX as Me,a2 as Be,Y as Pe,$ as Ee,E as Ue,aD as Re,T as He,co as Oe,ap as je,cp as ze,cq as We,c6 as qe,cr as Ye,bY as Ge,cb as Qe,cs as Ke,k as Ze,ct as Xe,cu as Je,cv as el,bZ as ll,z as al,aL as tl,c2 as nl,c1 as ol,cw as sl,j as il,cx as rl,cy as ul,c5 as dl,c8 as cl,c7 as vl,cz as ml,c4 as pl,cA as fl,cB as xl,cC as hl,cc as bl,cD as gl,aq as kl,cE as _l,cF as yl,aK as wl,a7 as Tl,cG as Cl,aw as Al,U as Sl,ca as Nl,cH as $l,c9 as Fl,bq as Il,by as Ll,cI as Vl,cJ as Dl,cK as Ml,cL as Bl,cM as Pl,cN as El,cO as Ul,cP as Rl,cQ as Hl,cR as Ol,cS as jl,cT as zl,cU as Wl,cV as ql,cW as Yl,cX as Gl,cY as Ql,cZ as Kl,c_ as Zl,c$ as Xl,d0 as Jl,d1 as ea,d2 as la,d3 as aa,d4 as ta,d5 as na,d6 as oa,d7 as sa,d8 as ia,d9 as ra,da as ua,db as da,dc as ca,dd as va,de as ma,df as pa,dg as fa,dh as xa,di as ha,dj as ba,dk as ga,dl as ka,dm as _a,dn as ya,dp as wa,dq as Ta,dr as Ca,ds as Aa,dt as Sa,du as Na,dv as $a,dw as Fa,dx as Ia,dy as La,dz as Va,dA as Da,dB as Ma,dC as Ba,dD as Pa,dE as Ea,dF as Ua,dG as Ra,dH as Ha,dI as Oa,dJ as ja,dK as za,dL as Wa,dM as qa,dN as Ya,dO as Ga,dP as Qa,dQ as Ka,dR as Za,dS as Xa,dT as Ja,dU as et,dV as lt,dW as at,a5 as tt,dX as nt,dY as ot,dZ as st,d_ as it,d$ as rt,e0 as ut,e1 as dt,as as ct,ax as vt,e2 as mt,ay as pt,e3 as ft,a$ as xt,e4 as ht,e5 as bt,aN as gt,bi as kt,bh as _t,bk as yt,bj as wt,X as Tt,e6 as Ct,ai as At,az as St,e7 as Nt,e8 as $t,e9 as Ft,ea as It,eb as Lt,bB as Vt,bA as Dt,b$ as Mt,aT as Bt,aU as Pt,bU as Et,ec as Ut,ad as Rt,ed as Ht,bT as Ot,ee as jt,ef as zt,eg as Wt,bI as qt,an as Yt,eh as Gt,aF as Qt,ei as Kt,ej as Zt,ek as Xt,Z as Jt,el as en,em as ln,b6 as an,aR as tn,en as nn,eo as on,ep as sn,eq as rn,c3 as un,er as dn,es as cn,et as vn,eu as mn,ev as pn,ew as fn}from"./LNDzZpPm.js";import{E as xn}from"./B_bYtbjB.js";import{_ as hn,K as bn}from"./njOOFaJF.js";import{_ as gn,a as kn,b as _n}from"./CytQXV1W.js";import{b as yn,a as wn,E as Tn}from"./DQUqQXp4.js";import"./BcS6nOuf.js";import{_ as Cn}from"./saZFXB17.js";import{_ as An,a as Sn,c as Nn,E as $n,b as Fn}from"./DsasURJA.js";import{_ as In,E as Ln}from"./BpVPSrXI.js";import{E as Vn,a as Dn,u as Mn,S as Bn}from"./4BOpdlp6.js";import{a as Pn,_ as En,b as Un,c as Rn,g as Hn,u as On}from"./7PWpoxWf.js";import{_ as jn,a as zn,E as Wn,b as qn,c as Yn,d as Gn}from"./BmJn-QVY.js";import{E as Qn}from"./B4pLZScH.js";import{E as Kn,a as Zn}from"./CHAOnMYe.js";import{E as Xn,a as Jn,b as eo}from"./BrHgemS_.js";import{E as lo}from"./Dl5uLHiY.js";import{E as ao}from"./CdYdV4TG.js";import{V as to}from"./FmdACanA.js";import{r as no,u as oo,a as so,b as io}from"./fQpEmYRS.js";import{E as ro}from"./vmSyQCMq.js";import{a as uo,E as co}from"./CyofXtRf.js";import{u as vo}from"./FpEH-fmd.js";import{V as mo}from"./Ct3nesK2.js";import{_ as po}from"./4ADxCC58.js";import{u as fo}from"./FG6gRdvh.js";import{a as xo,b as ho}from"./CzFZvokD.js";import{U as bo}from"./D6I9a_bc.js";let go=[],ko=!1;let _o=0;const yo=()=>{if(0===go.length)return void(ko=!1);ko=!0;const e=go.shift(),l=Date.now()-_o,a=Math.max(0,500-l);setTimeout((()=>{n(e.options),_o=Date.now(),yo()}),a)};const wo={class:"filter-box"},To={class:"flex-start"},Co={class:"font_18 title"},Ao={class:"border mt-20px"},So={class:"holder"},No={class:"item"},$o=["src"],Fo={class:"flex-between mt-10px"},Io={class:"flex-start mt-10px"},Lo={class:"flex-start mt-10px"},Vo={class:"flex-start mt-10px"},Do={class:"flex-start mt-10px"},Mo={class:"mt-5px block text-10px color-[--secondary-text]"},Bo=s({__name:"top50",setup(e){var l;const{t:a}=i(),t=r(),n=u(!1),s=u([]),B=d((()=>{var e;return null==(e=t.params)?void 0:e.id})),{chain:P}=c(null==(l=t.params)?void 0:l.id);function E(e){return{1:{color:"#12B886",icon:"custom-top50-holders",text:a("top50Holders")},2:{color:"#00B00F",icon:"custom-top50-holders",text:a("top50Increase")},3:{color:"#F6465D",icon:"custom-top50-sold",text:a("top50SSoldOut")},4:{color:"#F6465D",icon:"custom-top50-partial",text:a("top50PartialSale")}}[e]||""}function U(){(function(e){const{$api:l}=o();return l("/v1api/v3/stats/earlyholders",{method:"get",query:{token_id:e}})})(B.value).then((e=>{const l=Array.isArray(e)?null==e?void 0:e.slice(0,50):[];s.value=null==l?void 0:l.map((e=>{var l;return{...e,new_tags:null==(l=e.new_tags)?void 0:l.filter((e=>["25","30","31"].includes((null==e?void 0:e.type)??"")))}}))})).catch((e=>{})).finally((()=>{}))}return v((()=>{U()})),m((()=>t.params.id),(()=>{U()})),(e,l)=>{var t;const o=w,i=_,r=N,u=M;return(null==(t=x(s))?void 0:t.length)>0?(h(),p(u,{key:0,visible:x(n),"onUpdate:visible":l[1]||(l[1]=e=>D(n)?n.value=e:null),placement:"bottom","popper-class":"chains-table-filter",title:"",width:370,trigger:"click"},{reference:b((()=>{var e,a,t,n,i,r;return[g("a",{class:"top50 bg-btn text-10px",href:"",onClick:l[0]||(l[0]=L((()=>{}),["stop","prevent"]))},[y(o,{name:"custom:top",class:"text-[--third-text] h-10px mr-2px"}),g("span",{class:V(["text-10px",{text:((null==(a=null==(e=x(s))?void 0:e.filter((e=>4==(null==e?void 0:e.tag_type)||1==(null==e?void 0:e.tag_type)||2==(null==e?void 0:e.tag_type))))?void 0:a.length)||0)/Math.min((null==(t=x(s))?void 0:t.length)||50)>1/3}])},k((null==(i=null==(n=x(s))?void 0:n.filter((e=>4==(null==e?void 0:e.tag_type)||1==(null==e?void 0:e.tag_type)||2==(null==e?void 0:e.tag_type))))?void 0:i.length)||0),3),T(" /"+k(Math.min((null==(r=x(s))?void 0:r.length)||50))+" ",1),y(o,{name:"material-symbols:arrow-forward-ios-rounded",class:"text-10px"})])]})),default:b((()=>{var e,t,n,u,d,c,v,m,_,w,N,L,V,D,M,B,U,R;return[g("div",wo,[g("div",To,[g("span",Co,k("early"==(null==(e=x(s)[0])?void 0:e.tag)?x(a)("top50TitleHold"):x(a)("top50TitleEarly")),1),"early"==(null==(t=x(s)[0])?void 0:t.tag)?(h(),p(i,{key:0,placement:"top","popper-class":"[&&]:[--el-text-color-primary:--dialog-list-hover]!"},{content:b((()=>[T(k(x(a)("top50TitleTip")),1)])),default:b((()=>[y(o,{class:"text-14px ml-5px mt-2px color-[--third-text] cursor-pointer",name:"mi:circle-warning"})])),_:1})):f("",!0)]),g("div",Ao,[g("div",So,[(h(!0),C(A,null,S(x(s),((e,l)=>(h(),C("div",{key:l},[E(e.tag_type)?(h(),p(i,{key:0,placement:"top","hide-after":0},{content:b((()=>{var l;return[T(k(null==(l=E(e.tag_type))?void 0:l.text),1)]})),default:b((()=>[y(r,{to:`/address/${e.account_address}/${x(P)}`},{default:b((()=>{var l,a,t,n;return[g("div",No,[y(o,{class:"dot iconfont font-10 mr-5px color-red-6",name:null==(l=E(e.tag_type))?void 0:l.icon,style:$({color:null==(a=E(e.tag_type))?void 0:a.color})},null,8,["name","style"]),(null==(t=null==e?void 0:e.new_tags)?void 0:t.length)>0?(h(),C("img",{key:0,style:{"max-width":"10px","max-height":"10px"},class:"mr-3",src:x(F)(null==(n=e.new_tags[0])?void 0:n.icon),alt:""},null,8,$o)):f("",!0)])]})),_:2},1032,["to"])])),_:2},1024)):f("",!0)])))),128))]),g("div",Fo,[g("div",null,[g("div",Io,[y(o,{class:"dot iconfont font-10 mr-5px color-red-6",name:null==(n=E(1))?void 0:n.icon,style:$({color:null==(u=E(1))?void 0:u.color})},null,8,["name","style"]),T(" "+k(x(a)("top50Holders"))+"："+k((null==(c=null==(d=x(s))?void 0:d.filter((e=>1==e.tag_type)))?void 0:c.length)||0),1)]),g("div",Lo,[y(o,{class:"dot iconfont font-10 mr-5px color-red-6",name:null==(v=E(3))?void 0:v.icon,style:$({color:null==(m=E(3))?void 0:m.color})},null,8,["name","style"]),T(" "+k(x(a)("top50SSoldOut"))+"："+k((null==(w=null==(_=x(s))?void 0:_.filter((e=>3==e.tag_type)))?void 0:w.length)||0),1)])]),g("div",null,[g("div",Vo,[y(o,{class:"dot iconfont font-10 mr-5px color-red-6",name:null==(N=E(2))?void 0:N.icon,style:$({color:null==(L=E(2))?void 0:L.color})},null,8,["name","style"]),T(" "+k(x(a)("top50Increase"))+"："+k((null==(D=null==(V=x(s))?void 0:V.filter((e=>2==e.tag_type)))?void 0:D.length)||0),1)]),g("div",Do,[y(o,{class:"dot iconfont font-10 mr-5px color-red-6",name:null==(M=E(4))?void 0:M.icon,style:$({color:null==(B=E(4))?void 0:B.color,"margin-top":"2px"})},null,8,["name","style"]),T(" "+k(x(a)("top50PartialSale"))+"："+k((null==(R=null==(U=x(s))?void 0:U.filter((e=>4==e.tag_type)))?void 0:R.length)||0),1)])])])]),l[2]||(l[2]=g("div",{class:"flex-start mt-20px"},[g("img",{src:I,style:{height:"17px"},height:"17",alt:"",srcset:""}),g("span",{class:"ml-5px font-14"},"Ave.ai")],-1)),g("span",Mo,k(x(a)("campaignTitle")),1)])]})),_:1},8,["visible"])):f("",!0)}}}),Po=B(Bo,[["__scopeId","data-v-c58689a9"]]),Eo="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748070261395'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='17677'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M509.085538%20357.612308v115.554461c0%2019.219692%2015.596308%2034.894769%2034.816%2034.894769h50.806154L475.451077%20640.393846V524.839385a34.816%2034.816%200%200%200-34.816-34.816H389.907692l119.177846-132.489847zM279.788308%20538.860308c5.671385%2012.603077%2018.116923%2020.716308%2031.822769%2020.716307h94.208v171.638154a34.894769%2034.894769%200%200%200%2060.731077%2023.315693l232.290461-258.12677a34.816%2034.816%200%200%200-25.993846-58.131692H578.796308V266.791385a34.737231%2034.737231%200%200%200-60.652308-23.394462l-232.369231%20258.126769a34.816%2034.816%200%200%200-5.907692%2037.415385z%20m595.731692-91.529846c0%20318.857846-298.141538%20448.748308-383.212308%20479.232C407.236923%20896.157538%20109.095385%20766.267077%20109.095385%20447.409231V202.279385c203.618462-42.535385%20287.428923-81.132308%20383.842461-128.787693%2090.742154%2045.528615%20177.152%2085.779692%20382.582154%20128.787693V447.409231z%20m41.747692-307.672616C688.285538%2093.892923%20609.043692%2053.878154%20508.691692%203.387077a38.045538%2038.045538%200%200%200-32.610461%200.630154C374.468923%2054.508308%20294.045538%2094.365538%2067.347692%20139.736615A34.816%2034.816%200%200%200%2039.384615%20173.843692V447.409231c0%20382.503385%20368.009846%20524.603077%20441.895385%20549.179077a34.894769%2034.894769%200%200%200%2022.055385%200c73.806769-24.576%20441.895385-166.675692%20441.895384-549.179077V173.843692a34.816%2034.816%200%200%200-28.041846-34.107077z'%20fill='%23EC4343'%20p-id='17678'%3e%3c/path%3e%3c/svg%3e",Uo="data:image/svg+xml,%3csvg%20width='128'%20height='128'%20viewBox='0%200%20128%20128'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M58.88%2077.0757L82.1071%2053.8388C82.9231%2053.0214%2083.3811%2051.9134%2083.3801%2050.7584C83.3792%2049.6034%2082.9195%2048.4961%2082.1022%2047.68C81.2848%2046.864%2080.1768%2046.406%2079.0218%2046.407C77.8668%2046.4079%2076.7594%2046.8676%2075.9434%2047.6849L55.7982%2067.8302L47.2616%2059.2936C46.8568%2058.8895%2046.3765%2058.5691%2045.848%2058.3507C45.3194%2058.1322%2044.753%2058.02%2044.1812%2058.0205C43.6093%2058.021%2043.0431%2058.1341%2042.5149%2058.3533C41.9867%2058.5726%2041.5069%2058.8938%2041.1028%2059.2985C40.6987%2059.7032%2040.3783%2060.1835%2040.1599%2060.7121C39.9415%2061.2406%2039.8293%2061.807%2039.8297%2062.3789C39.8302%2062.9508%2039.9433%2063.517%2040.1626%2064.0452C40.3818%2064.5734%2040.703%2065.0532%2041.1077%2065.4573L52.7262%2077.0757C53.5436%2077.8892%2054.6499%2078.3459%2055.8031%2078.3459C56.9563%2078.3459%2058.0626%2077.8892%2058.88%2077.0757ZM13.6369%2025.2849V55.9262C13.6369%2095.7834%2050.9046%20112.02%2061.5385%20115.84C72.1723%20112.02%20109.44%2095.7834%20109.44%2055.9262V25.2849C83.7711%2019.9089%2072.9797%2014.8776%2061.6369%209.18648C49.5656%2015.1434%2039.0892%2019.968%2013.6369%2025.2849ZM61.5385%20124.8C61.0697%20124.8%2060.6041%20124.724%2060.16%20124.574C50.9342%20121.502%204.9231%20103.739%204.9231%2055.9262V21.7305C4.9231%2019.6628%206.39017%2017.8708%208.42833%2017.4573C36.7557%2011.7957%2046.8086%206.81356%2059.5299%200.502175C60.1597%200.189175%2060.8511%200.0197618%2061.5542%200.00614108C62.2574%20-0.00747969%2062.9549%200.135031%2063.5963%200.423406C76.1502%206.74464%2086.0652%2011.7465%20114.649%2017.4573C115.637%2017.6551%20116.525%2018.1889%20117.164%2018.9678C117.803%2019.7468%20118.153%2020.723%20118.154%2021.7305V55.9262C118.154%20103.739%2072.1428%20121.502%2062.9169%20124.574C62.4729%20124.724%2062.0072%20124.8%2061.5385%20124.8Z'%20fill='%23CDF1DF'/%3e%3c/svg%3e",Ro="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748070249343'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='17535'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M471.04%20616.605538l185.816615-185.895384a34.816%2034.816%200%201%200-49.309538-49.230769L446.385231%20542.641231%20378.092308%20474.348308a34.816%2034.816%200%201%200-49.23077%2049.309538l92.947693%2092.947692a34.894769%2034.894769%200%200%200%2049.230769%200M109.095385%20202.279385V447.409231c0%20318.857846%20298.141538%20448.748308%20383.212307%20479.310769%2085.070769-30.562462%20383.212308-160.452923%20383.212308-479.310769V202.279385C670.168615%20159.271385%20583.837538%20119.020308%20493.095385%2073.491692%20396.524308%20121.147077%20312.713846%20159.744%20109.095385%20202.279385M492.307692%20998.4a34.422154%2034.422154%200%200%201-11.027692-1.811692C407.473231%20972.012308%2039.384615%20829.912615%2039.384615%20447.409231V173.843692c0-16.541538%2011.736615-30.877538%2028.041847-34.185846C294.045538%2094.365538%20374.468923%2054.508308%20476.238769%204.017231a38.045538%2038.045538%200%200%201%2032.531693-0.630154c100.430769%2050.569846%20179.751385%2090.584615%20408.418461%20136.270769a34.894769%2034.894769%200%200%201%2028.041846%2034.185846V447.409231c0%20382.503385-368.088615%20524.603077-441.895384%20549.179077a34.422154%2034.422154%200%200%201-11.027693%201.811692'%20fill='%2337C882'%20p-id='17536'%3e%3c/path%3e%3c/svg%3e",Ho="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748070216443'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='17112'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M539.647107%20638.358305a46.472345%2046.472345%200%200%200-46.472345-46.472344h-0.4726a46.236045%2046.236045%200%200%200-46.157278%2046.472344c0%2025.67794%2021.030705%2046.472345%2046.629878%2046.472345a46.472345%2046.472345%200%200%200%2046.472345-46.472345m-14.414304-110.74596c0.393833-0.787667%204.095868-9.294469%2029.458741-26.15054%2045.763445-30.403941%2066.164016-74.040685%2057.578447-122.954797a122.954797%20122.954797%200%200%200-98.14329-98.222057c-36.153909-6.301335-72.465351%203.386967-100.191225%2026.62314a121.69453%20121.69453%200%200%200-43.557977%2093.417289%2034.814875%2034.814875%200%200%200%2069.62975%200%2052.143546%2052.143546%200%200%201%2061.989382-51.355879%2052.77368%2052.77368%200%200%201%2041.746343%2041.58881c2.363001%2013.232803%201.969167%2033.160775-27.56834%2052.77368-20.006738%2013.390337-47.496312%2034.184742-56.869547%2061.989382a34.342275%2034.342275%200%200%200%2032.845708%2045.290844%2035.523775%2035.523775%200%200%200%2033.082008-22.999872M109.029634%20202.305932V447.427858c0%20318.847545%20298.131907%20448.73381%20383.278695%20479.216518%2085.068021-30.482707%20383.199927-160.368973%20383.199927-479.216518V202.305932C670.163505%20159.299321%20583.677684%20119.049545%20492.938462%2073.5224%20396.528038%20121.176245%20312.720284%20159.771921%20109.029634%20202.305932M492.308329%20998.400827a34.421042%2034.421042%200%200%201-11.027337-1.811634C407.476608%20972.013987%2039.399884%20829.918886%2039.399884%20447.427858V173.871158c0-16.541004%2011.65747-30.876541%2027.962174-34.105975C294.05258%2094.395572%20374.3946%2054.539629%20476.161158%203.971416A38.044309%2038.044309%200%200%201%20508.849333%203.42005c100.348758%2050.568212%20179.588044%2090.581689%20408.3265%20136.266366a34.736109%2034.736109%200%200%201%2027.962173%2034.184742V447.427858c0%20382.491027-367.997957%20524.586129-441.802341%20549.161335a34.499808%2034.499808%200%200%201-11.027336%201.811634'%20fill='%23848E9C'%20p-id='17113'%3e%3c/path%3e%3c/svg%3e",Oo="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748070227205'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='17254'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M492.307692%20301.607385c19.219692%200%2034.816%2015.596308%2034.816%2034.816v139.421538a34.816%2034.816%200%200%201-69.632%200V336.344615c0-19.219692%2015.596308-34.816%2034.816-34.816z%20m47.419077%20313.501538a46.473846%2046.473846%200%200%201-46.473846%2046.473846%2046.631385%2046.631385%200%200%201-46.710154-46.473846c0-25.6%2020.558769-46.473846%2046.237539-46.473846h0.472615a46.473846%2046.473846%200%200%201%2046.473846%2046.473846z%20m335.793231-167.699692c0%20318.857846-298.141538%20448.748308-383.212308%20479.232C407.236923%20896.157538%20109.095385%20766.267077%20109.095385%20447.409231V202.279385c203.697231-42.535385%20287.428923-81.132308%20383.92123-128.787693%2090.820923%2045.528615%20177.230769%2085.858462%20382.503385%20128.787693V447.409231z%20m41.747692-307.672616C688.443077%2093.971692%20609.201231%2053.956923%20508.691692%203.387077a38.045538%2038.045538%200%200%200-32.610461%200.630154C374.468923%2054.508308%20294.045538%2094.365538%2067.347692%20139.736615A34.816%2034.816%200%200%200%2039.384615%20173.843692V447.409231c0%20382.503385%20368.088615%20524.603077%20441.895385%20549.179077a34.422154%2034.422154%200%200%200%2022.055385%200c73.806769-24.576%20441.895385-166.675692%20441.895384-549.179077V173.843692a34.816%2034.816%200%200%200-28.041846-34.107077z'%20fill='%23FFA622'%20p-id='17255'%3e%3c/path%3e%3c/svg%3e",jo="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748092276934'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='18385'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M512.877714%200l23.625143%2011.849143%2023.405714%2011.556571C649.508571%2067.145143%20743.131429%20104.740571%20950.857143%20146.285714v287.085715c0%20325.12-276.333714%20487.643429-438.857143%20541.842285-162.596571-54.198857-438.857143-216.722286-438.857143-541.842285V146.285714C280.868571%20104.740571%20374.491429%2067.145143%20465.188571%2023.405714l23.698286-11.556571L512.877714%200z%20m62.025143%20221.037714a24.356571%2024.356571%200%200%200-26.843428%206.436572L304.274286%20498.395429a24.356571%2024.356571%200%200%200%2018.139428%2040.667428h111.030857V731.428571a24.356571%2024.356571%200%200%200%2042.496%2016.310858L719.798857%20476.891429a24.356571%2024.356571%200%200%200-18.139428-40.667429H590.628571v-192.365714a24.356571%2024.356571%200%200%200-15.725714-22.747429z'%20fill='%23848E9C'%20p-id='18386'%3e%3c/path%3e%3c/svg%3e",zo="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748092282851'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='18527'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M513.024%20768a51.436308%2051.436308%200%200%201-51.515077-51.2c0-28.278154%2022.685538-51.2%2050.963692-51.2h0.551385a51.2%2051.2%200%201%201%200%20102.4z%20m-39.384615-409.6a38.439385%2038.439385%200%200%201%2076.72123%200v204.8a38.360615%2038.360615%200%201%201-76.8%200v-204.8z%20m530.195692%20366.119385L665.6%2092.002462c-65.536-122.643692-241.664-122.643692-307.2%200L20.164923%20724.440615c-60.100923%20112.482462%2021.504%20248.280615%20149.188923%20248.280616h685.292308c127.684923%200%20209.368615-135.798154%20149.188923-248.280616z'%20fill='%23848E9C'%20p-id='18528'%3e%3c/path%3e%3c/svg%3e",Wo="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748092257447'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='18243'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M577.536%20490.130286c-26.624%2017.700571-30.573714%2026.550857-30.939429%2027.428571a37.376%2037.376%200%200%201-46.738285%2022.235429%2036.059429%2036.059429%200%200%201-22.528-45.568c9.801143-29.257143%2038.765714-51.053714%2059.684571-65.097143%2031.085714-20.553143%2031.451429-41.472%2028.964572-55.369143a55.442286%2055.442286%200%200%200-43.739429-43.739429%2054.710857%2054.710857%200%200%200-65.097143%2053.906286%2036.571429%2036.571429%200%200%201-73.142857%200c0-37.814857%2016.676571-73.654857%2045.714286-98.011428%2029.037714-24.283429%2067.291429-34.523429%20105.179428-27.940572a129.097143%20129.097143%200%200%201%20103.131429%20103.131429c8.996571%2051.273143-12.507429%2097.133714-60.489143%20129.024z%20m-64.585143%20192.512a49.005714%2049.005714%200%200%201-49.005714-48.786286c0-26.916571%2021.577143-48.713143%2048.493714-48.713143h0.512a48.713143%2048.713143%200%201%201%200%2097.499429zM950.857143%20146.285714C706.998857%2097.499429%20620.397714%2054.125714%20512.877714%200%20403.602286%2054.125714%20316.928%2097.499429%2073.142857%20146.285714v287.158857c0%20325.046857%20276.333714%20487.570286%20438.857143%20541.769143%20162.523429-54.125714%20438.857143-216.722286%20438.857143-541.769143V146.285714z'%20fill='%233F80F7'%20p-id='18244'%3e%3c/path%3e%3c/svg%3e",qo="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748102247370'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='20164'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M673.024%20699.221333H321.578667c-16.085333%200-29.44%209.130667-29.44%2020.48%200%2011.392%2012.970667%2020.565333%2029.44%2020.565334h351.445333c16.085333%200%2029.44-9.173333%2029.44-20.522667%200-11.392-13.354667-20.522667-29.44-20.522667z'%20fill='%23999999'%20p-id='20165'%3e%3c/path%3e%3cpath%20d='M665.6%2042.752v0.896c-3.669333%200-19.84-1.322667-60.501333-0.853333H249.045333C182.058667%2042.752%20128%2096%20128%20161.408v665.258667c0%2065.450667%2054.058667%20118.698667%20121.045333%20118.698666h537.557334c66.986667%200%20121.045333-53.248%20121.045333-118.698666V280.149333L665.6%2042.794667z%20m183.338667%20239.232l-123.306667-1.792h4.181333c-28.16%200-67.882667-26.666667-67.882666-59.136l-0.938667-122.794667%20187.946667%20183.722667z%20m6.485333%20553.301333c0%2033.408-27.690667%2060.928-61.866667%2060.928H242.090667c-34.218667%200-61.866667-27.093333-61.866667-60.928V153.344c0-33.408%2027.648-60.928%2061.866667-60.928h363.946666c-0.341333%2040.448%200%2080.938667%200.896%20121.429333%200%2067.242667%2055.466667%20121.386667%20124.245334%20121.386667h124.245333v500.053333z'%20fill='%23999999'%20p-id='20166'%3e%3c/path%3e%3cpath%20d='M673.024%20495.573333H321.578667c-16.085333%200-29.44%208.832-29.44%2019.712%200%2010.965333%2012.970667%2019.797333%2029.44%2019.797334h351.445333c16.085333%200%2029.44-8.832%2029.44-19.797334%200-10.88-13.354667-19.712-29.44-19.712z%20m-144.213333-165.674666H310.442667c-10.368%200-18.346667%208.832-18.346667%2019.797333%200%2010.922667%208.021333%2019.712%2018.304%2019.712h218.325333c10.24%200%2018.346667-8.789333%2018.346667-19.712%200-10.965333-8.106667-19.797333-18.346667-19.797333z'%20fill='%23999999'%20p-id='20167'%3e%3c/path%3e%3c/svg%3e",Yo=""+new URL("unlock.CdYdhxfn.png",import.meta.url).href,Go={class:"code-block"},Qo={class:"flex-end"},Ko={key:0,class:"code-scroll"},Zo=s({__name:"code",props:{code:{},show:{type:Boolean}},setup(e){P(E);const l=e,a=U(null),t=()=>{a.value&&E.highlightBlock(a.value)};return v((()=>{t()})),m((()=>l.code),(async()=>{await R(),t()})),(e,t)=>{const n=w,o=H("copy");return h(),C("div",Go,[g("div",Qo,[O(y(n,{name:"bxs:copy",class:"clickable text-14px color-[--third-text]"},null,512),[[o,l.code]])]),l.show?(h(),C("div",Ko,[g("pre",null,[t[0]||(t[0]=T("        ")),g("code",{ref_key:"codeEl",ref:a,class:"language-solidity"},k(l.code),513),t[1]||(t[1]=T("\n      "))])])):f("",!0)])}}}),Xo=B(Zo,[["__scopeId","data-v-8bbc1d4b"]]),Jo={class:"AI"},es={key:0,class:"mt-20px"},ls={class:"title"},as={class:"mt-10px relative text-wrapper"},ts={key:1,class:"mt-20px"},ns={class:"title"},os={class:"mt-10px"},ss={class:"tax"},is={key:0},rs={key:1},us={key:2},ds={key:3},cs={key:4},vs={key:2,class:"mt-20px"},ms={class:"flex-between"},ps={class:"title"},fs={class:"card-t"},xs={class:"mt-10px"},hs={class:"flex-start"},bs={style:{width:"20px"}},gs=["src"],ks={class:"color-999 text-12px"},_s={key:3,class:"mt-20px"},ys={class:"title"},ws={class:"mt-10px color-999 text-12px"},Ts=s({__name:"ai",props:{obj:{},riskList:{}},setup(e){var l;const a=e,t=j(),n=d((()=>t.lang)),o=d((()=>"zh-cn"===n.value||"zh-tw"===n.value)),s={1:"normal1",0:"normal1","-1":"normal-half","-2":"warning1","-3":"danger1"},i=U(!1),r=U(!1),u=U(null),c=U((null==(l=a.riskList)?void 0:l.map((e=>e.risk_level<-1)))||[]),m=d((()=>o.value?a.obj.mechanism_zh||"":a.obj.mechanism_en||"")),b=d((()=>{var e;return(null==(e=a.obj.ownerControl)?void 0:e.join("、"))||""})),_=()=>{i.value=!i.value},y=()=>{R((()=>{const e=u.value;if(!e)return;const l=3*parseFloat(getComputedStyle(e).lineHeight);r.value=e.scrollHeight>l+1}))};function N(e){var l;const a=Object.assign({"/assets/images/check-danger1.svg":Eo,"/assets/images/check-normal-half.svg":Uo,"/assets/images/check-normal1.svg":Ro,"/assets/images/check-unknownRisk1.svg":Ho,"/assets/images/check-warning1.svg":Oo});return(null==(l=Object.entries(a).find((([l])=>l.endsWith(`check-${e}.svg`))))?void 0:l[1])||""}return v((()=>{y(),window.addEventListener("resize",y)})),z((()=>{window.removeEventListener("resize",y)})),(e,l)=>{var t,n,d,v,y;const F=w;return h(),C("div",Jo,[x(m)?(h(),C("div",es,[g("span",ls,k(e.$t("AIOverview")),1),g("div",as,[g("div",{ref_key:"textEl",ref:u,class:V([{collapsed:!x(i)},"text"])},k(x(m)),3),x(r)?(h(),C("a",{key:0,href:"",onClick:L(_,["stop","prevent"]),class:"toggle-btn"},k(x(i)?e.$t("Collapse"):e.$t("Expand")),1)):f("",!0)])])):f("",!0),a.obj.fee_structure?(h(),C("div",ts,[g("span",ns,k(e.$t("AITax")),1),g("div",os,[g("ul",ss,[a.obj.fee_structure.buy_fee?(h(),C("li",is,[g("span",null,k(e.$t("buyTax"))+"：",1),T(k(a.obj.fee_structure.buy_fee),1)])):f("",!0),a.obj.fee_structure.sell_fee?(h(),C("li",rs,[g("span",null,k(e.$t("sellTax"))+"：",1),T(k(a.obj.fee_structure.sell_fee),1)])):f("",!0),a.obj.fee_structure.transfer_fee?(h(),C("li",us,[g("span",null,k(e.$t("TransferTax"))+"：",1),T(k(a.obj.fee_structure.transfer_fee),1)])):f("",!0),a.obj.fee_structure.max_tx_amount?(h(),C("li",ds,[g("span",null,k(e.$t("MaxTxAmount"))+"：",1),T(k(a.obj.fee_structure.max_tx_amount),1)])):f("",!0),a.obj.fee_structure.max_wallet_amount?(h(),C("li",cs,[g("span",null,k(e.$t("MaxWalletAmount"))+"：",1),T(k(a.obj.fee_structure.max_wallet_amount),1)])):f("",!0)])])])):f("",!0),(null==(t=a.riskList)?void 0:t.length)>0?(h(),C("div",vs,[g("div",ms,[g("span",ps,k(e.$t("AIRiskCheck")),1),g("span",fs,[g("span",{class:V((null==(n=e.riskList.filter((e=>-3===(null==e?void 0:e.risk_level))))?void 0:n.length)>0?"red":"")},k((null==(d=e.riskList.filter((e=>-3===(null==e?void 0:e.risk_level))))?void 0:d.length)||0),3),T(" /"+k(e.riskList.length),1)])]),g("ul",xs,[(h(!0),C(A,null,S(e.riskList,((a,t)=>(h(),C("li",{key:t,class:"card-list-item"},[g("div",hs,[g("div",bs,[g("img",{class:"align-middle",src:N(s[a.risk_level]),width:"12px",alt:""},null,8,gs)]),g("div",null,[g("span",{class:"risk-message",style:$({color:-3==(null==a?void 0:a.risk_level)?"var(--main-text)":"var(--secondary-text)"})},k(x(o)?a.name_zh||"":a.name_en||"")+" "+k(1===(null==a?void 0:a.risk_removed)?`(${e.$t("riskRemoved")})`:""),5)]),l[0]||(l[0]=g("span",{style:{flex:"1"}},null,-1)),a.code_snippet?(h(),C(A,{key:0},[x(c)[t]?(h(),p(F,{key:0,class:"ml-5 text-14px",name:"material-symbols:keyboard-arrow-down-rounded",color:"#999",onClick:e=>x(c)[t]=!x(c)[t]},null,8,["onClick"])):(h(),p(F,{key:1,class:"ml-5 text-14px",name:"material-symbols:keyboard-arrow-up-rounded",color:"#999",onClick:e=>x(c)[t]=!x(c)[t]},null,8,["onClick"]))],64)):f("",!0)]),x(c)[t]?(h(),C(A,{key:0},[a.code_snippet?(h(),p(Xo,{key:0,code:a.code_snippet,show:x(c)[t],language:"solidity"},null,8,["code","show"])):f("",!0),g("div",ks,k(x(o)?a.description_zh||"":a.description_en||""),1)],64)):f("",!0)])))),128))])])):f("",!0),x(b)?(h(),C("div",_s,[g("span",ys,[T(k(e.$t("AIAdmin"))+" ",1),1===(null==(y=null==(v=a.obj)?void 0:v.summary)?void 0:y.is_owner_renounced)?(h(),C(A,{key:0},[T(" ("+k(e.$t("Renounced"))+") ",1)],64)):f("",!0)]),g("div",ws,k(x(b)),1)])):f("",!0)])}}}),Cs=B(Ts,[["__scopeId","data-v-66cd7ac5"]]),As={class:"check-container bg-[--dialog-bg] color-[--main-text]"},Ss={class:"flex items-center justify-between text-20px p-20px sticky top-0 bg-[--dialog-bg] z-1"},Ns={key:0,class:"flex-start"},$s={key:1},Fs={class:"check-content"},Is={class:"flex-center width_100"},Ls={class:"audit-progress relative"},Vs={key:0,class:"danbao-bg-absolute"},Ds={class:"danbao-bg"},Ms=["href"],Bs={class:"audit-bg"},Ps={key:0,class:"risk-statics"},Es={class:"item1"},Us={key:0,height:16,src:An},Rs={key:1,height:16,src:jo},Hs={class:"num"},Os={class:"item1"},js={key:0,src:Sn,height:16},zs={key:1,height:16,src:zo},Ws={class:"num"},qs={class:"item1"},Ys={key:0,height:16,src:Wo},Gs={key:1,height:16,src:Nn},Qs={class:"num"},Ks={key:1,class:"risk-statics"},Zs={class:"item1"},Xs={key:0,height:16,src:An},Js={key:1,height:16,src:jo},ei={class:"num"},li={class:"item1"},ai={key:0,src:Sn,height:16},ti={key:1,height:16,src:zo},ni={class:"num"},oi={class:"item1"},si={key:0,height:16,src:Wo},ii={key:1,height:16,src:Nn},ri={class:"num"},ui={class:"card card1"},di={key:0,class:"card-list-item flex-start hover"},ci={class:"inline-flex items-center color-[currentColor]"},vi=["src"],mi={class:"color-[--secondary-text] ml-5px"},pi=["src"],fi={key:1,class:"remark"},xi={class:"card basic"},hi={class:"flex items-start justify-between"},bi={class:"flex-1 pr-15px border-r border-[#97979733]"},gi={key:0,class:"py-5px"},ki={class:"ml-15px"},_i={key:0,class:"card-list-item in"},yi={class:"gray"},wi={key:1,class:"card-list-item in"},Ti={class:"gray"},Ci={key:2,class:"card-list-item in"},Ai={class:"gray"},Si={key:3,class:"card-list-item in"},Ni={class:"gray"},$i={key:4,class:"card-list-item in"},Fi={class:"gray"},Ii={key:5,class:"card-list-item in"},Li={class:"gray"},Vi={key:6,class:"card-list-item in"},Di={class:"gray"},Mi={key:7,class:"card-list-item in"},Bi={class:"gray"},Pi={style:{flex:"1"}},Ei={key:0,class:"py-5px"},Ui={class:"indent"},Ri={key:0,class:"card-list-item in"},Hi={class:"gray"},Oi={key:1,class:"card-list-item in"},ji={class:"gray"},zi={key:2,class:"card-list-item in"},Wi={class:"gray"},qi={key:3,class:"card-list-item in"},Yi={class:"gray"},Gi={key:4,class:"card-list-item in"},Qi={class:"gray"},Ki={key:5,class:"card-list-item in"},Zi={class:"gray"},Xi={key:6,class:"card-list-item in"},Ji={class:"gray"},er={key:7,class:"card-list-item in"},lr={class:"gray"},ar={key:0,class:"flex justify-between mt-10px"},tr={class:"flex-1 mr-5px pr-5px border-r border-[#97979733]"},nr={key:0,class:"card-list-item in"},or={key:1,class:"card-list-item in"},sr={class:"danger"},ir={style:{flex:"1"}},rr={key:0,class:"card-list-item in"},ur={key:1,class:"card-list-item in"},dr={class:"danger"},cr={key:1,class:"mt-10px"},vr={key:0,class:"card-list-item cursor"},mr={key:1,class:"card-list-item"},pr={class:"danger"},fr={key:2,class:"card-list-item"},xr=["href"],hr={key:3,class:"card-list-item"},br={class:"flex items-center"},gr=["href"],kr={key:4,class:"card-list-item"},_r={class:"flex items-center"},yr=["href"],wr={key:5,class:"card-list-item"},Tr=["href"],Cr={key:6,class:"card-list-item"},Ar={key:7,class:"card-list-item"},Sr={key:8,class:"card-list-item"},Nr={style:{"word-break":"keep-all"}},$r=["innerHTML"],Fr={class:"text-14px mt-10px"},Ir={class:"card card1"},Lr={class:"flex-s"},Vr={class:"label"},Dr={class:"range-text"},Mr={class:"flex-s flex items-center"},Br={class:"label"},Pr={class:"range-text"},Er={class:"range"},Ur={class:"mt-10px"},Rr=["href"],Hr={key:2,src:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748102199171'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='20007'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M694.0672%2051.2l0.512%200.512a136.5504%20136.5504%200%200%201%2084.992%2039.4752l102.0416%20102.0928c22.8864%2022.8352%2036.8128%2052.992%2039.4752%2084.992l0.512%200.512V824.832a136.5504%20136.5504%200%200%201-136.5504%20136.5504H238.9504A136.5504%20136.5504%200%200%201%20102.4%20824.832V187.7504A136.5504%20136.5504%200%200%201%20238.9504%2051.2h455.1168z%20m-45.568%2091.0336h-409.6a45.5168%2045.5168%200%200%200-45.4656%2045.5168V824.832c0%2025.1392%2020.3776%2045.5168%2045.5168%2045.5168h546.0992c25.1392%200%2045.568-20.3776%2045.568-45.5168V324.2496h-91.0848a91.0336%2091.0336%200%200%201-90.9824-90.9824V142.2336z'%20fill='%23F57559'%20p-id='20008'%3e%3c/path%3e%3cpath%20d='M300.3904%20384.8192H401.408v223.8976h83.7632v79.616h-184.832zM607.488%20384.8192c19.456%200%2037.5808%202.0992%2054.3744%206.3488%2016.896%204.2496%2031.5904%2010.9056%2044.1856%2020.0192%2012.5952%209.1136%2022.528%2020.992%2029.7984%2035.7376%207.2704%2014.6944%2010.9056%2032.512%2010.9056%2053.4528%200%2020.992-3.584%2038.7584-10.9056%2053.504-7.2704%2014.6944-17.2032%2026.624-29.7984%2035.7376a127.8976%20127.8976%200%200%201-44.1856%2019.968%20221.8496%20221.8496%200%200%201-54.3744%206.4v72.3456H510.5664V384.8192h96.9216z%20m4.096%2081.92h-4.096v67.328h4.096c12.8%200%2021.9136-2.9696%2027.5456-8.8576%205.632-5.9392%208.3968-14.1824%208.3968-24.832%200-10.5984-2.7648-18.8928-8.3968-24.7808-5.632-5.9392-14.7968-8.8576-27.5456-8.8576z'%20fill='%23F57559'%20p-id='20009'%3e%3c/path%3e%3c/svg%3e",width:12,alt:""},Or={key:3,src:qo,width:12,alt:""},jr={class:"flex items-center"},zr={key:0,class:"color-[--third-text]"},Wr={key:0,class:"table-lock"},qr={key:0},Yr={key:1},Gr={key:2},Qr={key:0,class:"remark"},Kr={class:"text-14px"},Zr={class:"card card1"},Xr={class:"flex-s"},Jr={class:"label"},eu={class:"range-text"},lu={class:"flex-s flex items-center"},au={class:"label mr-auto"},tu={class:"range-text"},nu={class:"range"},ou={class:"mt-10px"},su=["href"],iu={key:0,style:{height:"15px"},src:Yo,alt:"",srcset:""},ru={key:2,src:qo,width:12,alt:""},uu={class:"flex items-center"},du={key:0,class:"color-[--third-text]"},cu={key:0,class:"table-lock"},vu={key:0},mu={key:1},pu={key:2},fu={class:"risk-addition"},xu={key:0,class:"warning"},hu={key:1,class:"warning"},bu={key:2,class:"warning"},gu={key:3,class:"warning"},ku={key:4,class:"warning"},_u={key:5,class:"warning"},yu={key:6,class:"warning"},wu={key:0,class:"remark"},Tu={key:0,class:"text-12px"},Cu={key:1,class:"card card1"},Au=["onClick"],Su={class:"top"},Nu={class:"ellipsis"},$u={class:"color-777e90"},Fu={class:"color-777e90 date"},Iu={key:0,class:"bottom"},Lu={class:"color-777e90 van-ellipsis"},Vu={key:0,class:"color-777e90",style:{color:"#f6465d"}},Du={key:1,class:"color-777e90 flex",style:{color:"#ff9f00"}},Mu={key:2,class:"color-777e90"},Bu={key:1,class:"color-777e90"},Pu={key:2,class:"color-777e90"},Eu={key:0,class:"block ml_10"},Uu={key:3,class:"color-777e90"},Ru={class:"card card1 simulate"},Hu={class:"text-14px"},Ou={class:"rd-4px"},ju={class:"block color-[--third-text]"},zu={class:"block"},Wu={class:"block color-[--third-text]"},qu={class:"block"},Yu={class:"block"},Gu={class:"color-[--third-text]"},Qu={colspan:"3",class:"tl"},Ku={class:"color-[--third-text]"},Zu={class:"color-[--third-text]"},Xu={class:"color-[--third-text]"},Ju={class:"risk-addition"},ed={class:"card card1"},ld={class:"text-14px"},ad={class:"community-container mt-20px"},td={class:"thumbs-label"},nd={class:"range-container"},od={class:"range"},sd={class:"range-label"},id={class:"thumbs-label"},rd={class:"remark",style:{"padding-top":"0.2rem"}},ud=B(s({__name:"check",props:{modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:l}){const a=W(),t=q(),n=Y(),{checkResult:o,showResult:s,hasLpLock:N,progress:F}=G(Pn()),I=Pn(),{t:M}=i(),B=Q(),P=r(),E=l,U=u(!1),R=u(!0),j=u(!0),z={0:"normal1",.5:"normal1",.6:"unknownRisk1",1:"warning1",2:"danger1"},ie=u(!1),re=d((()=>{var e,l;return[{name:M("holders1"),id:1},{name:M("poolInfo"),id:2},...(null==(l=null==(e=null==o?void 0:o.value)?void 0:e.owner_txs)?void 0:l.length)?[{name:M("ownerTxs"),id:3}]:[]]})),ue=d({get:()=>e.modelValue,set(e){E("update:modelValue",e)}}),de=d((()=>{var e,l;let a=(null==(l=null==(e=o.value)?void 0:e.ai_report)?void 0:l.risk)||[];return a=null==a?void 0:a.map((e=>({...e,risk_level:1==e.risk_removed?"1":null==e?void 0:e.risk_level}))),a})),ce=d((()=>{var e,l,a,t,n,s,i,r,u,d,c;return!((null==(e=null==o?void 0:o.value)?void 0:e.owner)&&!(null==(a=null==(l=null==o?void 0:o.value)?void 0:l.owner)?void 0:a.startsWith("0x00000"))&&!(null==(n=null==(t=null==o?void 0:o.value)?void 0:t.owner)?void 0:n.startsWith("T9yD14Nj9j7x"))&&"Contract"!==(null==(s=null==o?void 0:o.value)?void 0:s.owner_type)||null!=(null==(i=null==o?void 0:o.value)?void 0:i.can_take_back_ownership)&&"0"!==(null==(r=null==o?void 0:o.value)?void 0:r.can_take_back_ownership)||null!=(null==(u=null==o?void 0:o.value)?void 0:u.hidden_owner)&&"1"===(null==(d=null==o?void 0:o.value)?void 0:d.hidden_owner)||""===(null==(c=null==o?void 0:o.value)?void 0:c.owner))})),ve=d((()=>(null==o?void 0:o.value)&&function(e){var l,a,t,n;if(!s||!(null==e?void 0:e.risk_score))return[];const o=[],i={"-1":M("noLookLike"),0:M("checkFailed"),1:M("isHoneypot")};let r=0;r=0===e.is_honeypot?1:1===e.is_honeypot?2:0;void 0!==e.is_honeypot&&o.push([r,i[e.is_honeypot]]);const u=0===e.has_code?2:0,d=0===e.has_code?M("open-source"):M("openSource");void 0!==e.has_code&&"solana"!==(null==e?void 0:e.chain)&&o.push([u,d]);const c="1"===e.owner_change_balance?2:0,v="1"===e.owner_change_balance?M("ownerChangeBalance"):M("ownerNoChangeBalance");void 0!==e.owner_change_balance&&o.push([c,v]);let m="1"===e.is_proxy?2:0,p="1"===e.is_proxy?M("isProxy"):M("isNotProxy");2===m&&ce&&(1===e.has_owner_removed_risk?(m=.5,p=M("hasNoAuth")+M("isProxyNoAuth")):m=.6);void 0!==e.is_proxy&&o.push([m,p]);let f=1===(null==e?void 0:e.slippage_modifiable)?1:0,x=1===e.slippage_modifiable?M("slippageModifiable"):M("noSlippageModifiable");1===f&&ce&&(1===e.has_owner_removed_risk?(f=.5,x=M("hasNoAuth")+M("noSlippageModifiable")):f=.6);void 0!==e.slippage_modifiable&&o.push([f,x]);let h=1===e.has_white_method?1:0,b=1===e.has_white_method?M("whitelist"):M("noWhitelist");h>0&&ce&&(1===e.has_owner_removed_risk?(h=.5,b=M("hasNoAuth")+M("whitelistNoAuth")):h=.6);void 0!==e.has_white_method&&o.push([h,b]);let g=1===e.has_black_method?1:0,k=1===e.has_black_method?M("blacklist"):M("noBlacklist");g>0&&ce&&(1===e.has_owner_removed_risk?(g=.5,k=M("hasNoAuth")+M("blacklistNoAuth")):g=.6);void 0!==e.has_black_method&&o.push([g,k]);if(""!==e.owner&&"-"!==e.owner){const l=ce.value?0:1,a=ce.value?M("dropContractAuth1"):M("dropContractAuth");(null==e?void 0:e.audit_pass_by)&&!ce||o.push([l,a])}let _=1===e.has_mint_method?1:0,y=1===e.has_mint_method?M("canMint"):M("canNotMint");_>0&&ce&&(1===e.has_owner_removed_risk?(_=.5,y=M("hasNoAuth")+M("canNotMint")):_=.6);void 0!==e.has_mint_method&&o.push([_,y]);const w=N?0:1,T=M(N?"hasLpLock":"hasNoLpLock");void 0!==e.hasLpLock&&o.push([w,T]);const C="1"===e.can_take_back_ownership?1:0,A="1"===e.can_take_back_ownership?M("canTakeBackOwnership"):M("canNotTakeBackOwnership");void 0!==e.can_take_back_ownership&&o.push([C,A]);const S="1"===e.trading_cooldown?1:0,$="1"===e.trading_cooldown?M("tradingCoolDown"):M("noTradingCoolDown");void 0!==e.trading_cooldown&&o.push([S,$]);"1"===e.hidden_owner&&o.push([2,M("hasHiddenOwner")]);e.other_potential_risks&&o.push([1,e.other_potential_risks]);e.note&&o.push([1,e.note]);"1"===e.external_call&&o.push([2,M("externalCall")]);e.is_safu_contract&&o.push([0,M("isSafuContract")]);(null==e?void 0:e.is_recidivist)>=1&&o.push([2,M("isRecidivist")]);1==(null==e?void 0:e.has_malicious_code)&&o.push([2,M("has_malicious_code")]);1==(null==e?void 0:e.has_sell_max_limit)&&o.push([.6,M("has_sell_max_limit")]);1===(null==e?void 0:e.can_remove_liqudity)&&o.push([2,M("can_remove_liqudity")]);!(null==e?void 0:e.liquidity_provider)||Number(null==e?void 0:e.pair_lock_percent)||(null==(a=null==(l=null==e?void 0:e.liquidity_provider)?void 0:l.startsWith)?void 0:a.call(l,"0x00000"))||(null==(n=null==(t=null==e?void 0:e.liquidity_provider)?void 0:t.startsWith)?void 0:n.call(t,"T9yD14Nj9j7x"))||o.push([1,M("liquidity_provider")]);"solana"==(null==e?void 0:e.chain)&&(1===(null==e?void 0:e.has_top10_holder_amount_over_30)&&o.push([2,M("has_top10_holder_amount_over_30")]),0===(null==e?void 0:e.has_top10_holder_amount_over_30)&&o.push([0,M("has_top10_holder_amount_lt_30")]),1===(null==e?void 0:e.has_not_burned_lp)&&o.push([1,M("has_not_burned_lp")]),0===(null==e?void 0:e.has_not_burned_lp)&&o.push([0,M("has_burned_lp")]));1===e.is_low_liquidity&&o.push([1,M("is_low_liquidity")]);return o.sort(((e,l)=>l[0]-e[0]))}(o.value)||[])),me=d((()=>{var e,l;return(null==(e=null==o?void 0:o.value)?void 0:e.ave_remarks)?JSON.parse(null==(l=null==o?void 0:o.value)?void 0:l.ave_remarks):{}})),pe=d((()=>(null==me?void 0:me.value.lp_remark)||"")),fe=d((()=>(null==me?void 0:me.value.holder_remark)||"")),xe=d((()=>(null==me?void 0:me.value.risk_remark)||"")),he=d((()=>{var e,l;const a=((null==(e=null==o?void 0:o.value)?void 0:e.token_holders_rank)||[]).reduce(((e,l)=>e+Number(l.quantity)),0)/Number(null==(l=null==o?void 0:o.value)?void 0:l.total);return[{name:"tokenHolders",value:a},{name:"default",value:1-a}]})),be=d((()=>{var e,l;return(null==(l=null==(e=null==he?void 0:he.value)?void 0:e[0])?void 0:l.value)||0})),ge=d((()=>{var e;const l=((null==(e=null==o?void 0:o.value)?void 0:e.pair_holders_rank)||[]).reduce(((e,l)=>{var a;let t=0;return $e(l)&&(t=Number(null==l?void 0:l.percent)||Number(null==l?void 0:l.quantity)/((null==(a=null==o?void 0:o.value)?void 0:a.pair_total)??1)),e+t}),0);return[{name:"pairHolders",value:l},{name:"default",value:1-l}]})),ke=d((()=>{var e,l;return(null==(l=null==(e=null==ge?void 0:ge.value)?void 0:e[0])?void 0:l.value)||0})),_e=d((()=>{var e,l,a,t,n,s;const i=[];return((null==(l=null==(e=null==o?void 0:o.value)?void 0:e.holder_analysis)?void 0:l.sell_failure)??0)>0&&1==(null==(a=null==o?void 0:o.value)?void 0:a.some_users_are_blocked)&&i.push([2,M("some_users_are_blocked")]),((null==(n=null==(t=null==o?void 0:o.value)?void 0:t.holder_analysis)?void 0:n.balance_disappeared)??0)>0&&1==(null==(s=null==o?void 0:o.value)?void 0:s.some_users_balance_are_tampered)&&i.push([1,M("some_users_balance_are_tampered")]),i})),ye=d((()=>{var e,l,a,t;let n=(null==(l=null==(e=null==ve?void 0:ve.value)?void 0:e.filter((e=>2==e[0])))?void 0:l.length)||0;return(null==_e?void 0:_e.value)&&(null==(a=null==_e?void 0:_e.value)||a.forEach((e=>{2==e[0]&&(n+=1)}))),(null==(t=null==o?void 0:o.value)?void 0:t.audit_pass_by)?0:n})),we=d((()=>function(e){const l=[];"1"===(null==e?void 0:e.is_anti_whale)&&l.push(M("isAntiWhale"));"1"===(null==e?void 0:e.anti_whale_modifiable)&&l.push(M("antiWhaleModifiable"));"1"===(null==e?void 0:e.cannot_sell_all)&&l.push(M("cannotSellAll"));((null==e?void 0:e.wallet_count_24h_buy)&&((null==e?void 0:e.wallet_count_24h_buy)||0)<10||(null==e?void 0:e.wallet_count_24h_sell)&&((null==e?void 0:e.wallet_count_24h_sell)||0)<10)&&l.push(M("txNoActive"));((null==e?void 0:e.wallet_count_24h_sell)&&((null==e?void 0:e.wallet_count_24h_buy)||0)/(null==e?void 0:e.wallet_count_24h_sell)>8||!(null==e?void 0:e.wallet_count_24h_sell)&&(null==e?void 0:e.wallet_count_24h_buy))&&l.push(M("highBuyLowSell"));(null==e?void 0:e.vol_24h_top100)&&Number((null==e?void 0:e.vol_24h_top10)||0)/(null==e?void 0:e.vol_24h_top100)>.75&&l.push(M("volumeConcentrated"));const a=(null==e?void 0:e.vote_support)||0,t=(null==e?void 0:e.vote_against)||0;a+t>30&&t/(t+a)>.7&&l.push(M("lowCommunityScore"));"1"===(null==e?void 0:e.personal_slippage_modifiable)&&l.push(M("personalSlippageModifiable"));"1"===(null==e?void 0:e.selfdestruct)&&l.push(M("selfdeStruct"));return l}((null==o?void 0:o.value)??void 0)||[])),Te=d((()=>{var e,l,a,t,n,s,i,r,u,d,c,v;let m=we.value.length;return Number(null==(e=null==o?void 0:o.value)?void 0:e.sell_gas)>=.1&&"#f81111"===K(Number(null==(l=null==o?void 0:o.value)?void 0:l.sell_gas),null==(a=null==o?void 0:o.value)?void 0:a.chain)&&(m+=1),Number(null==(t=null==o?void 0:o.value)?void 0:t.buy_gas)>=.1&&"#f81111"===K(Number(null==(n=null==o?void 0:o.value)?void 0:n.buy_gas),null==(s=null==o?void 0:o.value)?void 0:s.chain)&&(m+=1),Number(null==(i=null==o?void 0:o.value)?void 0:i.approve_gas)>=.1&&"#f81111"===K(Number(null==(r=null==o?void 0:o.value)?void 0:r.approve_gas),null==(u=null==o?void 0:o.value)?void 0:u.chain)&&(m+=1),m+=null==(c=null==(d=null==ve?void 0:ve.value)?void 0:d.filter((e=>.6==e[0])))?void 0:c.length,(null==(v=null==o?void 0:o.value)?void 0:v.audit_pass_by)?0:m})),Ce=d((()=>{var e,l,a,t,n,s,i,r,u,d,c,v,m,p;let f=0;return Number((null==(e=null==o?void 0:o.value)?void 0:e.analysis_creator_gt_5percent)||0)>5&&(f+=1),"1"===(null==(l=null==o?void 0:o.value)?void 0:l.analysis_scam_wallet)&&(f+=1),Number((null==(a=null==o?void 0:o.value)?void 0:a.analysis_lp_creator_gt_5percent)||0)>5&&(f+=1),"1"===(null==(t=null==o?void 0:o.value)?void 0:t.analysis_big_wallet)&&(f+=1),(null==(n=null==o?void 0:o.value)?void 0:n.analysis_lp_locked_or_burned_gt_15days)&&Number(null==(s=null==o?void 0:o.value)?void 0:s.analysis_lp_locked_or_burned_gt_15days)<50&&(f+=1),(null==(i=null==o?void 0:o.value)?void 0:i.analysis_lp_current_adequate)&&"0"==(null==(r=null==o?void 0:o.value)?void 0:r.analysis_lp_current_adequate)&&(f+=1),(null==(u=null==o?void 0:o.value)?void 0:u.big_lp_without_any_lock)&&1==(null==(d=null==o?void 0:o.value)?void 0:d.big_lp_without_any_lock)&&(f+=1),f+=null==(v=null==(c=null==ve?void 0:ve.value)?void 0:c.filter((e=>1==e[0])))?void 0:v.length,(null==_e?void 0:_e.value)&&(null==(m=null==_e?void 0:_e.value)||m.forEach((e=>{1==e[0]&&(f+=1)}))),(null==(p=null==o?void 0:o.value)?void 0:p.audit_pass_by)?0:f})),Ae=d((()=>{var e;const l=c(P.params.id);return(null==l?void 0:l.chain)||(null==(e=a.token)?void 0:e.chain)||""})),Se=d((()=>{var e,l;if(t.evmAddress){const a=null==(l=null==(e=t.userInfo)?void 0:e.addresses)?void 0:l.find((e=>e.chain==Ae.value));return a?a.address:null==t?void 0:t.evmAddress}return(null==n?void 0:n.address)||""}));function Ne(e){var l;const a=Object.assign({"/assets/images/check-danger1.svg":Eo,"/assets/images/check-normal-half.svg":Uo,"/assets/images/check-normal1.svg":Ro,"/assets/images/check-unknownRisk1.svg":Ho,"/assets/images/check-warning1.svg":Oo});return(null==(l=Object.entries(a).find((([l])=>l.endsWith(`check-${e}.svg`))))?void 0:l[1])||""}function $e(e){return(null==e?void 0:e.lock)||/lock|null|(black hole)/gi.test((null==e?void 0:e.mark)||"")}function Fe(e){let{vote_support:l=0,vote_against:a=0}=e??{};if(l=l||0,a=a||0,0===l&&0===a)return[0,0,0];const t=l+a;return[l/t||0,a/t,t||0]}function Ie(e){let{vote_support:l=0,vote_against:a=0}=e??{};if(l=l||0,a=a||0,0===l&&0===a)return[.5,.5,0];const t=l+a;return[l/t||0,a/t,t||0]}function Le(){var e;if(Z().currentAddress||q().changeConnectVisible(!0),0!==(null==(e=null==o?void 0:o.value)?void 0:e.my_vote))return void oe.error(M("voted"));se.confirm(M("voteTips"),{confirmButtonText:M("confirm1"),cancelButtonText:M("cancel"),type:"warning"}).then((()=>{(()=>{const e=P.params.id;ie.value=!0,Un(e,Se.value).then((()=>{var e;0===(null==(e=null==o?void 0:o.value)?void 0:e.my_vote)?oe.success(M("voteSuccess")):oe.success(M("success")),De()})).catch((e=>{oe.error(e.message||e)})).finally((()=>{ie.value=!1}))})()})).catch((()=>{}))}function Ve(){var e;if(Z().currentAddress||q().changeConnectVisible(!0),0!==(null==(e=null==o?void 0:o.value)?void 0:e.my_vote))return void oe.error(M("voted"));se.confirm(M("voteTips"),{confirmButtonText:M("confirm1"),cancelButtonText:M("cancel"),type:"warning"}).then((()=>{(()=>{const e=P.params.id;ie.value=!0,Rn(e,Se.value).then((()=>{var e;0===(null==(e=null==o?void 0:o.value)?void 0:e.my_vote)?oe.success(M("voteSuccess")):oe.success(M("success")),De()})).catch((e=>{oe.error(e.message||e)})).finally((()=>{ie.value=!1}))})()})).catch((()=>{}))}function De(){if(!ue.value||!Z().currentAddress)return;const e=P.params.id;En(e,Se.value).then((e=>{Object.keys(e).forEach((l=>{o.value&&(o.value[l]=e[l])}))}))}return m(ye,(e=>{I.statistics_risk_store=e})),m(Ce,(e=>{I.statistics_warning_store=e})),m(Te,(e=>{I.statistics_unknown_store=e})),m((()=>ue.value),(e=>{e&&De()})),v((()=>{De()})),m((()=>Z().currentAddress),(()=>{De()})),(e,l)=>{const a=w,t=In,n=Dn,i=yn,r=_,u=Vn,d=$n,c=ne,v=H("tooltip"),m=H("copy");return h(),p(c,{modelValue:x(ue),"onUpdate:modelValue":l[6]||(l[6]=e=>D(ue)?ue.value=e:null),"append-to-body":"","with-header":!1,size:480,class:"draw-right"},{default:b((()=>{var c;return[g("div",As,[g("div",Ss,[(null==(c=x(o))?void 0:c.ai_report)?(h(),C("div",Ns,[l[7]||(l[7]=g("img",{src:"data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.0002%200C10.3036%203.65386e-05%2010.5959%200.112414%2010.8206%200.314453C11.0451%200.516434%2011.1865%200.793616%2011.2161%201.09277C11.2456%201.3921%2011.1617%201.69223%2010.9807%201.93359C10.7997%202.17496%2010.5342%202.3412%2010.2366%202.39941V3.52148C12.2395%203.58399%2014.1592%204.4363%2015.6653%205.94336C17.3937%207.66451%2018.363%209.99524%2018.3596%2012.4238L18.3538%2014.1523C18.3413%2017.9779%2015.584%2020%2010.3801%2020H9.62622C4.42243%2020%201.6652%2017.9779%201.65259%2014.1523L1.64673%2012.4229C1.64351%209.99465%202.61196%207.6642%204.34009%205.94336C5.84483%204.43792%207.76316%203.58476%209.76392%203.52148V2.39941C9.46629%202.34121%209.2008%202.17491%209.01978%201.93359C8.83875%201.69222%208.75492%201.39212%208.78442%201.09277C8.81399%200.793794%208.95461%200.516399%209.17896%200.314453C9.40368%200.112381%209.69684%200%2010.0002%200ZM9.81567%2015.9561C9.63227%2015.9922%209.46354%2016.0808%209.3313%2016.2119C9.19904%2016.343%209.109%2016.5105%209.07251%2016.6924C9.03611%2016.874%209.05482%2017.0623%209.12622%2017.2334C9.1978%2017.4047%209.31934%2017.5513%209.47485%2017.6543C9.63037%2017.7573%209.81321%2017.8125%2010.0002%2017.8125C10.251%2017.8125%2010.4919%2017.7139%2010.6692%2017.5381C10.8465%2017.3623%2010.9456%2017.1236%2010.9456%2016.875C10.9455%2016.6897%2010.8902%2016.5086%2010.7864%2016.3545C10.6825%2016.2003%2010.5344%2016.0797%2010.3616%2016.0088C10.1889%2015.938%209.99897%2015.9199%209.81567%2015.9561ZM10.0002%205.78125C6.14201%205.78125%203.39649%209.10304%203.80298%2012.8711C3.87489%2013.5606%204.20146%2014.1999%204.71997%2014.665C5.23849%2015.13%205.91237%2015.3884%206.61157%2015.3906C8.30574%2015.3859%208.30595%2014.4531%2010.0002%2014.4531C11.6944%2014.4532%2011.6946%2015.3859%2013.3889%2015.3906C14.0882%2015.3884%2014.762%2015.1301%2015.2805%2014.665C15.799%2014.1999%2016.1256%2013.5607%2016.1975%2012.8711C16.604%209.10309%2013.8584%205.78134%2010.0002%205.78125ZM1.66724%208.56543C1.71372%208.57291%201.75682%208.59414%201.79126%208.62598C1.82576%208.65793%201.84992%208.69952%201.8606%208.74512C1.87123%208.79058%201.86846%208.83819%201.85181%208.88184C1.39582%2010.0072%201.16562%2011.2101%201.17407%2012.4229L1.17896%2014.1543C1.17975%2014.4041%201.19347%2014.6551%201.21899%2014.9004C1.22301%2014.9465%201.21297%2014.9926%201.19067%2015.0332C1.16829%2015.0739%201.13436%2015.1072%201.09302%2015.1289C1.05167%2015.1506%201.00479%2015.1599%200.958252%2015.1553C0.911787%2015.1507%200.867483%2015.1328%200.831299%2015.1035C0.75616%2015.0416%200.684886%2014.9752%200.618408%2014.9043C-0.055234%2014.1771%20-0.024199%2013.2542%200.0197754%2011.9775C0.0627959%2010.7094%200.0940511%209.7937%200.821533%209.0752C1.02776%208.87299%201.26715%208.70655%201.52954%208.58398C1.57244%208.56443%201.62062%208.55796%201.66724%208.56543ZM18.4709%208.58398C18.7333%208.70655%2018.9728%208.87303%2019.179%209.0752C19.9062%209.79371%2019.9377%2010.7094%2019.9807%2011.9775C20.0241%2013.2542%2020.0547%2014.1771%2019.3811%2014.9043C19.3147%2014.9751%2019.2433%2015.0417%2019.1682%2015.1035C19.132%2015.1327%2019.0877%2015.1507%2019.0413%2015.1553C18.9949%2015.1598%2018.9477%2015.1505%2018.9065%2015.1289C18.8654%2015.1072%2018.8311%2015.0738%2018.8088%2015.0332C18.7866%2014.9926%2018.7775%2014.9464%2018.7815%2014.9004C18.807%2014.6552%2018.8205%2014.4042%2018.8206%2014.1543L18.8264%2012.4229C18.8349%2011.2101%2018.6046%2010.0072%2018.1487%208.88184C18.132%208.83818%2018.1293%208.79061%2018.1399%208.74512C18.1506%208.69952%2018.1747%208.65793%2018.2092%208.62598C18.2437%208.59411%2018.2867%208.57289%2018.3333%208.56543C18.3799%208.55796%2018.428%208.56443%2018.4709%208.58398Z'%20fill='%233F80F7'/%3e%3cpath%20d='M12%208H12.8193V13H12V8Z'%20fill='%23333333'/%3e%3cpath%20d='M7.91176%208H8.84314L10.7549%2013H9.87955L9.42437%2011.7465H7.33053L6.87535%2013H6L7.91176%208ZM7.57563%2011.0742H9.17927L8.39496%208.88235H8.36695L7.57563%2011.0742Z'%20fill='%23333333'/%3e%3c/svg%3e",alt:"",width:20,class:"mr-5px"},null,-1)),T(k(e.$t("AI")),1)])):(h(),C("span",$s,k(e.$t("check2")),1)),y(a,{name:"ri:close-large-fill",class:"clickable",onClick:l[0]||(l[0]=L((e=>ue.value=!1),["stop"]))})]),g("div",Fs,[x(s)?(h(),p(u,{key:0,gutter:20},{default:b((()=>{var s,u,d;return[y(n,{span:24},{default:b((()=>{var l,a,n,s,i,r;return[g("div",Is,[g("div",null,[g("div",Ls,[(null==(l=x(o))?void 0:l.is_safu_contract)?(h(),C("div",Vs,[g("div",Ds,[g("div",null,[g("span",null,k(e.$t("SAFU")),1),g("span",null,k(1==(null==(a=x(o))?void 0:a.is_safu_contract)?"PinkSale":null==(n=x(o))?void 0:n.is_safu_contract),1)])])])):f("",!0),y(t,{progress:x(F),width:140,height:80,thickness:7,big:!1,class:"arc-progress",fontSize:"24px",textHeight:40},null,8,["progress"]),(null==(s=x(o))?void 0:s.audit_pass_by)?(h(),C("a",{key:1,class:"audit-bg-absolute",href:null==(i=x(o))?void 0:i.audit_link,target:"_blank"},[g("div",Bs,[g("div",null,[g("span",null,k(e.$t("audited")),1),g("span",null,k(null==(r=x(o))?void 0:r.audit_pass_by),1)])])],8,Ms)):f("",!0)])])])]})),_:1}),y(n,{span:24},{default:b((()=>{var e,l,a,t,n,s,i,r,u;return[(null==(e=x(o))?void 0:e.ai_report)?(h(),C("div",Ps,[g("div",Es,[(null==(a=null==(l=x(de))?void 0:l.filter((e=>-3==Number(null==e?void 0:e.risk_level))))?void 0:a.length)>0?(h(),C("img",Us)):(h(),C("img",Rs)),g("span",Hs,k((null==(n=null==(t=x(de))?void 0:t.filter((e=>-3==Number(null==e?void 0:e.risk_level))))?void 0:n.length)||0),1)]),g("div",Os,[(null==(s=x(de).filter((e=>-2==Number(null==e?void 0:e.risk_level))))?void 0:s.length)>0?(h(),C("img",js)):(h(),C("img",zs)),g("span",Ws,k(null==(i=x(de).filter((e=>-2==Number(null==e?void 0:e.risk_level))))?void 0:i.length),1)]),g("div",qs,[(null==(r=x(de).filter((e=>-1!==Number(null==e?void 0:e.risk_level))))?void 0:r.length)>0?(h(),C("img",Ys)):(h(),C("img",Gs)),g("span",Qs,k(null==(u=x(de).filter((e=>-1==Number(null==e?void 0:e.risk_level))))?void 0:u.length),1)])])):(h(),C("div",Ks,[g("div",Zs,[x(ye)?(h(),C("img",Xs)):(h(),C("img",Js)),g("span",ei,k(x(ye)||0),1)]),g("div",li,[x(Ce)?(h(),C("img",ai)):(h(),C("img",ti)),g("span",ni,k(x(Ce)),1)]),g("div",oi,[x(Te)?(h(),C("img",si)):(h(),C("img",ii)),g("span",ri,k(x(Te)),1)])]))]})),_:1}),(null==(s=x(o))?void 0:s.ai_report)?f("",!0):(h(),p(n,{key:0,span:24},{default:b((()=>{var e,t,n;return[g("div",ui,[g("ul",null,[(h(!0),C(A,null,S(x(U)||"solana"===(null==(e=x(o))?void 0:e.chain)?x(ve):null==(t=x(ve))?void 0:t.slice(0,2),((e,l)=>(h(),C(A,{key:l},[.6===e[0]?(h(),C("li",di,[O((h(),C("div",ci,[g("img",{src:Ne(z[e[0]]),width:"12px",alt:""},null,8,vi),g("span",mi,k(e[1]),1)])),[[v,x(M)("notSurePermissionRemovalRemovesRisk")]])])):(h(),C("li",{key:1,class:V(["card-list-item flex-start",`${z[e[0]]}`])},[g("img",{src:Ne(z[e[0]]),width:"12px",alt:""},null,8,pi),g("span",{class:V(e[0]>1?"color-[--main-text] ml-5px":"color-[--secondary-text] ml-5px")},k(e[1]),3)],2))],64)))),128))]),x(ve).length>2&&"solana"!==(null==(n=x(o))?void 0:n.chain)?(h(),C("a",{key:0,class:"block text-center",href:"",style:{"font-size":"12px","text-decoration":"none"},onClick:l[1]||(l[1]=L((e=>U.value=!x(U)),["stop","prevent"]))},[y(a,{class:"text-24px color-[--third-text]",name:x(U)?"material-symbols:keyboard-arrow-up":"material-symbols:keyboard-arrow-down"},null,8,["name"])])):f("",!0),x(xe)?(h(),C("div",fi,k(x(M)("remark"))+": "+k(x(xe)),1)):f("",!0)])]})),_:1})),y(n,{span:24},{default:b((()=>{var t,n,s,i,r,u,d,c,v,_,w,A,S,N,F,I,D,M,B,P,E,U,H,z,W,q,Y,G,Q,Z,le,ae,te,ne,oe,se,ie,re,ue,de,ce,ve,me,pe,fe,xe,he,be,ge,ke,_e,ye,we,Te,Ce,Ae,Se,Ne,$e,Fe,Ie,Le,Ve,De,Me,Be;return[g("div",xi,[g("div",hi,[g("ul",bi,[g("li",{class:"card-list-item cursor-pointer",onClick:l[2]||(l[2]=L((e=>{R.value=!x(R),j.value=!x(j)}),["stop"]))},[g("span",null,k(e.$t("buyTax")),1),g("span",{class:V(["flex items-center",{danger:((null==(t=x(o))?void 0:t.buy_tax)??0)>0}])},[T(k(x(X)((null==(n=x(o))?void 0:n.buy_tax)||0,2))+"% ",1),Number(null==(s=x(o))?void 0:s.tm_buy_tax_for_lp)>0||Number(null==(i=x(o))?void 0:i.tm_buy_tax_for_burn)>0||Number(null==(r=x(o))?void 0:r.tm_buy_tax_for_fund)>0||Number(null==(u=x(o))?void 0:u.tm_buy_tax_for_holders)>0||Number(null==(d=x(o))?void 0:d.tm_buy_tax_for_lp_holders)>0||Number(null==(c=x(o))?void 0:c.tm_buy_tax_for_team)>0||Number(null==(v=x(o))?void 0:v.tm_buy_tax_for_inviter)>0||Number(null==(_=x(o))?void 0:_.tm_buy_tax_for_other)>0?(h(),p(a,{key:0,class:"text-20px color-[--secondary-text]",name:x(R)?"material-symbols:keyboard-arrow-up":"material-symbols:keyboard-arrow-down"},null,8,["name"])):f("",!0)],2)]),y(J,null,{default:b((()=>{var l,a,t,n,s,i,r,u,d,c,v,m,p,b,_,y,w,T,A,S,N,$,F,I;return[x(R)&&(Number(null==(l=x(o))?void 0:l.tm_buy_tax_for_lp)>0||Number(null==(a=x(o))?void 0:a.tm_buy_tax_for_burn)>0||Number(null==(t=x(o))?void 0:t.tm_buy_tax_for_fund)>0||Number(null==(n=x(o))?void 0:n.tm_buy_tax_for_holders)>0||Number(null==(s=x(o))?void 0:s.tm_buy_tax_for_lp_holders)>0||Number(null==(i=x(o))?void 0:i.tm_buy_tax_for_team)>0||Number(null==(r=x(o))?void 0:r.tm_buy_tax_for_inviter)>0||Number(null==(u=x(o))?void 0:u.tm_buy_tax_for_other)>0)?(h(),C("li",gi,[g("ul",ki,[Number(null==(d=x(o))?void 0:d.tm_buy_tax_for_lp)>0?(h(),C("li",_i,[g("span",null,k(e.$t("tm_buy_tax_for_lp")),1),g("span",yi,k(x(X)((null==(c=x(o))?void 0:c.tm_buy_tax_for_lp)||0,2))+"% ",1)])):f("",!0),Number(null==(v=x(o))?void 0:v.tm_buy_tax_for_burn)>0?(h(),C("li",wi,[g("span",null,k(e.$t("tm_buy_tax_for_burn")),1),g("span",Ti,k(x(X)((null==(m=x(o))?void 0:m.tm_buy_tax_for_burn)||0,2))+"% ",1)])):f("",!0),Number(null==(p=x(o))?void 0:p.tm_buy_tax_for_fund)>0?(h(),C("li",Ci,[g("span",null,k(e.$t("tm_buy_tax_for_fund")),1),g("span",Ai,k(x(X)((null==(b=x(o))?void 0:b.tm_buy_tax_for_fund)||0,2))+"% ",1)])):f("",!0),Number(null==(_=x(o))?void 0:_.tm_buy_tax_for_holders)>0?(h(),C("li",Si,[g("span",null,k(e.$t("tm_buy_tax_for_holders")),1),g("span",Ni,k(x(X)((null==(y=x(o))?void 0:y.tm_buy_tax_for_holders)||0,2))+"% ",1)])):f("",!0),Number(null==(w=x(o))?void 0:w.tm_buy_tax_for_lp_holders)>0?(h(),C("li",$i,[g("span",null,k(e.$t("tm_buy_tax_for_lp_holders")),1),g("span",Fi,k(x(X)((null==(T=x(o))?void 0:T.tm_buy_tax_for_lp_holders)||0,2))+"% ",1)])):f("",!0),Number(null==(A=x(o))?void 0:A.tm_buy_tax_for_team)>0?(h(),C("li",Ii,[g("span",null,k(e.$t("tm_buy_tax_for_team")),1),g("span",Li,k(x(X)((null==(S=x(o))?void 0:S.tm_buy_tax_for_team)||0,2))+"% ",1)])):f("",!0),Number(null==(N=x(o))?void 0:N.tm_buy_tax_for_inviter)>0?(h(),C("li",Vi,[g("span",null,k(e.$t("tm_buy_tax_for_inviter")),1),g("span",Di,k(x(X)((null==($=x(o))?void 0:$.tm_buy_tax_for_inviter)||0,2))+"% ",1)])):f("",!0),Number(null==(F=x(o))?void 0:F.tm_buy_tax_for_other)>0?(h(),C("li",Mi,[g("span",null,k(e.$t("tm_buy_tax_for_other")),1),g("span",Bi,k(x(X)((null==(I=x(o))?void 0:I.tm_buy_tax_for_other)||0,2))+"% ",1)])):f("",!0)])])):f("",!0)]})),_:1})]),g("ul",Pi,[g("li",{class:"card-list-item cursor-pointer",onClick:l[3]||(l[3]=L((e=>{R.value=!x(R),j.value=!x(j)}),["stop"]))},[g("span",null,k(e.$t("sellTax")),1),g("span",{class:V(["flex items-center",{danger:(null==(w=x(o))?void 0:w.sell_tax)??!1}])},[T(k(x(X)((null==(A=x(o))?void 0:A.sell_tax)||0,2))+"% ",1),Number(null==(S=x(o))?void 0:S.tm_sell_tax_for_lp)>0||Number(null==(N=x(o))?void 0:N.tm_sell_tax_for_burn)>0||Number(null==(F=x(o))?void 0:F.tm_sell_tax_for_fund)>0||Number(null==(I=x(o))?void 0:I.tm_sell_tax_for_holders)>0||Number(null==(D=x(o))?void 0:D.tm_sell_tax_for_lp_holders)>0||Number(null==(M=x(o))?void 0:M.tm_sell_tax_for_team)>0||Number(null==(B=x(o))?void 0:B.tm_sell_tax_for_inviter)>0||Number(null==(P=x(o))?void 0:P.tm_sell_tax_for_other)>0?(h(),p(a,{key:0,class:"text-20px color-[--secondary-text]",name:x(j)?"material-symbols:keyboard-arrow-up":"material-symbols:keyboard-arrow-down"},null,8,["name"])):f("",!0)],2)]),y(J,null,{default:b((()=>{var l,a,t,n,s,i,r,u,d,c,v,m,p,b,_,y,w,T,A,S,N,$,F,I;return[x(j)&&(Number(null==(l=x(o))?void 0:l.tm_sell_tax_for_lp)>0||Number(null==(a=x(o))?void 0:a.tm_sell_tax_for_burn)>0||Number(null==(t=x(o))?void 0:t.tm_sell_tax_for_fund)>0||Number(null==(n=x(o))?void 0:n.tm_sell_tax_for_holders)>0||Number(null==(s=x(o))?void 0:s.tm_sell_tax_for_lp_holders)>0||Number(null==(i=x(o))?void 0:i.tm_sell_tax_for_team)>0||Number(null==(r=x(o))?void 0:r.tm_sell_tax_for_inviter)>0||Number(null==(u=x(o))?void 0:u.tm_sell_tax_for_other)>0)?(h(),C("li",Ei,[g("ul",Ui,[Number(null==(d=x(o))?void 0:d.tm_sell_tax_for_lp)>0?(h(),C("li",Ri,[g("span",null,k(e.$t("tm_sell_tax_for_lp")),1),g("span",Hi,k(x(X)((null==(c=x(o))?void 0:c.tm_sell_tax_for_lp)||0,2))+"% ",1)])):f("",!0),Number(null==(v=x(o))?void 0:v.tm_sell_tax_for_burn)>0?(h(),C("li",Oi,[g("span",null,k(e.$t("tm_sell_tax_for_burn")),1),g("span",ji,k(x(X)((null==(m=x(o))?void 0:m.tm_sell_tax_for_burn)||0,2))+"% ",1)])):f("",!0),Number(null==(p=x(o))?void 0:p.tm_sell_tax_for_fund)>0?(h(),C("li",zi,[g("span",null,k(e.$t("tm_sell_tax_for_fund")),1),g("span",Wi,k(x(X)((null==(b=x(o))?void 0:b.tm_sell_tax_for_fund)||0,2))+"% ",1)])):f("",!0),Number(null==(_=x(o))?void 0:_.tm_sell_tax_for_holders)>0?(h(),C("li",qi,[g("span",null,k(e.$t("tm_sell_tax_for_holders")),1),g("span",Yi,k(x(X)((null==(y=x(o))?void 0:y.tm_sell_tax_for_holders)||0,2))+"% ",1)])):f("",!0),Number(null==(w=x(o))?void 0:w.tm_sell_tax_for_lp_holders)>0?(h(),C("li",Gi,[g("span",null,k(e.$t("tm_sell_tax_for_lp_holders")),1),g("span",Qi,k(x(X)((null==(T=x(o))?void 0:T.tm_sell_tax_for_lp_holders)||0,2))+"% ",1)])):f("",!0),Number(null==(A=x(o))?void 0:A.tm_sell_tax_for_team)>0?(h(),C("li",Ki,[g("span",null,k(e.$t("tm_sell_tax_for_team")),1),g("span",Zi,k(x(X)((null==(S=x(o))?void 0:S.tm_sell_tax_for_team)||0,2))+"% ",1)])):f("",!0),Number(null==(N=x(o))?void 0:N.tm_sell_tax_for_inviter)>0?(h(),C("li",Xi,[g("span",null,k(e.$t("tm_sell_tax_for_inviter")),1),g("span",Ji,k(x(X)((null==($=x(o))?void 0:$.tm_sell_tax_for_inviter)||0,2))+"% ",1)])):f("",!0),Number((null==(F=x(o))?void 0:F.tm_sell_tax_for_other)||0)>0?(h(),C("li",er,[g("span",null,k(e.$t("tm_sell_tax_for_other")),1),g("span",lr,k(x(X)((null==(I=x(o))?void 0:I.tm_sell_tax_for_other)||0,2))+"% ",1)])):f("",!0)])])):f("",!0)]})),_:1})])]),Number((null==(E=x(o))?void 0:E.buy_gas)||0)>=.1||(null==(U=x(o))?void 0:U.buy_max_amount_per_tx)||Number((null==(H=x(o))?void 0:H.sell_gas)||0)>=.1||(null==(z=x(o))?void 0:z.sell_max_amount_per_tx)?(h(),C("div",ar,[g("ul",tr,[Number(null==(W=x(o))?void 0:W.buy_gas)>=.1?(h(),C("li",nr,[g("span",null,k(e.$t("buy_gas")),1),g("span",{style:$({color:x(K)(Number((null==(q=x(o))?void 0:q.buy_gas)||0),(null==(Y=x(o))?void 0:Y.chain)||"")})}," $"+k(x(X)((null==(G=x(o))?void 0:G.buy_gas)||0,2)),5)])):f("",!0),(null==(Q=x(o))?void 0:Q.buy_max_amount_per_tx)?(h(),C("li",or,[g("span",null,k(e.$t("buyMaxAmount")),1),g("span",sr,k(x(X)((null==(Z=x(o))?void 0:Z.buy_max_amount_per_tx)||0,0)),1)])):f("",!0)]),g("ul",ir,[Number((null==(le=x(o))?void 0:le.sell_gas)||0)>=.1?(h(),C("li",rr,[g("span",null,k(e.$t("sell_gas")),1),g("span",{style:$({color:x(K)(Number((null==(ae=x(o))?void 0:ae.sell_gas)||0),(null==(te=x(o))?void 0:te.chain)||"")})}," $"+k(x(X)((null==(ne=x(o))?void 0:ne.sell_gas)||0,2)),5)])):f("",!0),(null==(oe=x(o))?void 0:oe.sell_max_amount_per_tx)?(h(),C("li",ur,[g("span",null,k(e.$t("sellMaxAmount")),1),g("span",dr,k(x(X)((null==(se=x(o))?void 0:se.sell_max_amount_per_tx)||0,0)),1)])):f("",!0)])])):f("",!0),Number((null==(ie=x(o))?void 0:ie.approve_gas)||0)>=.1||(null==(re=x(o))?void 0:re.tm_max_hold_amount_per_wallet)||(null==(ue=x(o))?void 0:ue.tm_bonus_token_name)||(null==(de=x(o))?void 0:de.tm_bonus_token_for_lp_holders)||(null==(ce=x(o))?void 0:ce.market_wallet)||(null==(ve=x(o))?void 0:ve.team_wallet)||(null==(me=x(o))?void 0:me.tm_kill_block_after_open)||(null==(pe=x(o))?void 0:pe.tm_start_trade_at_block)||(null==(fe=x(o))?void 0:fe.mechanism_intro)?(h(),C("ul",cr,[Number((null==(xe=x(o))?void 0:xe.approve_gas)||0)>=.1?(h(),C("li",vr,[g("span",null,k(e.$t("approve_gas")),1),g("span",{style:$({color:x(K)(Number((null==(he=x(o))?void 0:he.approve_gas)||0),(null==(be=x(o))?void 0:be.chain)||"")})}," $"+k(x(X)((null==(ge=x(o))?void 0:ge.approve_gas)||0,2)),5)])):f("",!0),(null==(ke=x(o))?void 0:ke.tm_max_hold_amount_per_wallet)?(h(),C("li",mr,[g("span",null,k(e.$t("tm_max_hold_amount_per_wallet")),1),g("span",pr,k(x(X)(x(o).tm_max_hold_amount_per_wallet,0)),1)])):f("",!0),(null==(_e=x(o))?void 0:_e.tm_bonus_token_name)?(h(),C("li",fr,[g("span",null,k(e.$t("tm_bonus_token_name")),1),g("a",{href:x(ee)((null==(ye=x(o))?void 0:ye.chain)||"",(null==(we=x(o))?void 0:we.tm_bonus_token_for_holders)||""),target:"_blank"},k(x(o).tm_bonus_token_name),9,xr)])):f("",!0),(null==(Te=x(o))?void 0:Te.tm_bonus_token_for_lp_holders)?(h(),C("li",hr,[g("span",null,k(e.$t("tm_bonus_token_name_for_lp")),1),g("div",br,[g("a",{href:x(ee)(x(o).chain||"",x(o).tm_bonus_token_for_lp_holders||"","address"),target:"_blank"},k((null==(Ce=x(o))?void 0:Ce.tm_bonus_token_name_for_lp)||((null==(Ae=x(o))?void 0:Ae.tm_bonus_token_for_lp_holders)||"").replace(new RegExp("(^.{6})(.+)(.{4}$)"),"$1...$3")),9,gr)])])):f("",!0),(null==(Se=x(o))?void 0:Se.market_wallet)?(h(),C("li",kr,[g("span",null,k(e.$t("fundWallet")),1),g("div",_r,[g("a",{href:x(ee)((null==(Ne=x(o))?void 0:Ne.chain)||"",(null==($e=x(o))?void 0:$e.market_wallet)||"","address"),target:"_blank"},k((x(o).market_wallet||"").replace(new RegExp("(^.{6})(.+)(.{4}$)"),"$1...$3")),9,yr),O(y(a,{name:"bxs:copy",class:"text-12px ml-2px clickable color-#999",onClick:l[4]||(l[4]=L((()=>{}),["stop","prevent"]))},null,512),[[m,x(o).market_wallet||""]])])])):f("",!0),(null==(Fe=x(o))?void 0:Fe.team_wallet)?(h(),C("li",wr,[g("span",null,k(e.$t("teamWallet")),1),g("div",null,[g("a",{href:x(ee)(x(o).chain||"",x(o).team_wallet||"","address"),target:"_blank"},k((x(o).team_wallet||"").replace(new RegExp("(^.{6})(.+)(.{4}$)"),"$1...$3")),9,Tr),O(y(a,{name:"bxs:copy",class:"text-12px ml-2px clickable color-#999",onClick:l[5]||(l[5]=L((()=>{}),["stop","prevent"]))},null,512),[[m,x(o).team_wallet||""]])])])):f("",!0),(null==(Ie=x(o))?void 0:Ie.tm_kill_block_after_open)?(h(),C("li",Cr,[g("span",null,k(e.$t("tm_kill_block_after_open")),1),g("span",null,k(x(X)(x(o).tm_kill_block_after_open,0)),1)])):f("",!0),(null==(Le=x(o))?void 0:Le.tm_start_trade_at_block)?(h(),C("li",Ar,[g("span",null,k(e.$t("tm_start_trade_at_block")),1),g("span",null,k(x(X)(x(o).tm_start_trade_at_block,0)),1)])):f("",!0),(null==(Ve=x(o))?void 0:Ve.mechanism_intro)?(h(),C("li",Sr,[g("span",Nr,k(e.$t("mechanism_intro")),1),g("span",{class:"",innerHTML:null==(Be=null==(Me=null==(De=x(o))?void 0:De.mechanism_intro)?void 0:Me.replace)?void 0:Be.call(Me,/\n/g,"<br/>")},null,8,$r)])):f("",!0)])):f("",!0)])]})),_:1}),(null==(u=x(o))?void 0:u.ai_report)?(h(),p(n,{key:1,span:24},{default:b((()=>{var e;return[y(Cs,{obj:null==(e=x(o))?void 0:e.ai_report,riskList:x(de)},null,8,["obj","riskList"])]})),_:1})):f("",!0),y(n,{span:24},{default:b((()=>{var t,n,s,u,d,c,v,m,_,w,N,F,I,L,D,M,B,P,E,U,R,H,O,j,z,W,q,Y,G,Q;return[g("div",Fr,k(null==(n=null==(t=x(re))?void 0:t[0])?void 0:n.name)+"("+k(x(X)((null==(s=x(o))?void 0:s.holders)||0))+") ",1),g("div",Ir,[g("div",Lr,[g("span",Vr,k(e.$t("totalSupply1")),1),g("span",Dr,k(x(X)((null==(u=x(o))?void 0:u.total)||0)),1)]),g("div",Mr,[g("span",Br,k(e.$t("top10Holder")),1),l[8]||(l[8]=g("span",{style:{flex:"1"}},null,-1)),g("span",Pr,k(x(X)(100*x(be),1))+"%",1),g("div",Er,[g("span",{class:"range-bar",style:$({width:x(X)(100*x(be))+"%"})},null,4)])]),g("ul",Ur,[(h(!0),C(A,null,S((null==(d=x(o))?void 0:d.token_holders_rank)||[],((t,n)=>{var s,r,u;return h(),C(A,{key:n},[g("li",{class:V(["card-list-item holder-item",{"bg-warning":1===Number(null==t?void 0:t.analysis_show_warning)}])},[g("a",{class:"flex items-center justify-items-start",href:x(ee)((null==(s=x(o))?void 0:s.chain)||"",t.address||"","address"),target:"_blank"},[g("span",null,k(n+1)+".",1),1===Number(null==t?void 0:t.analysis_show_creator)?(h(),p(i,{key:0,type:"primary",round:"",size:"small",class:"mr-3px"},{default:b((()=>[T(k(e.$t("contractCreator")),1)])),_:1})):f("",!0),t.lock||/lock|null/gi.test(t.mark||"")?(h(),p(a,{key:1,class:"text-14px",color:"#B3920E",name:"material-symbols-light:lock"})):f("",!0),1===t.is_lp?(h(),C("img",Hr)):f("",!0),(null==t?void 0:t.is_contract)&&1===(null==t?void 0:t.is_contract)?(h(),C("img",Or)):f("",!0),t.mark?(h(),C(A,{key:5},[T(k(t.mark),1)],64)):(h(),C(A,{key:4},[T(k((t.address||"").slice(0,2)+"..."+(t.address||"").slice(-4)),1)],64)),t.lock&&t.lock.length>0&&t.lock.every((e=>1e3*((null==e?void 0:e.unlockDate)??0)<=Date.now()))?(h(),C(A,{key:6},[l[9]||(l[9]=g("br",null,null,-1)),T(" "+k(e.$t("unlocked")),1)],64)):f("",!0)],8,Rr),g("div",jr,[g("span",null,k(x(X)(t.quantity||0,2)),1),(null==(r=x(o))?void 0:r.total)&&(null==t?void 0:t.quantity)?(h(),C("span",zr," ("+k(x(X)(100*Number(null==t?void 0:t.quantity)/Number(null==(u=x(o))?void 0:u.total)||0,2))+"%) ",1)):f("",!0)])],2),t.lock&&t.lock.length>0?(h(),C("table",Wr,[g("thead",null,[g("tr",null,[g("th",null,k(e.$t("amount")),1),g("th",null,k(e.$t("lockDate")),1),g("th",null,k(e.$t("unlockDateStart")),1),g("th",null,k(e.$t("unlockDateEnd")),1)])]),(h(!0),C(A,null,S(t.lock,((e,l)=>(h(),C("tr",{key:l},[g("td",null,k(x(X)((null==e?void 0:e.amount)||0,2)),1),(null==e?void 0:e.lockDate)?(h(),C("td",qr,k(x(le)(null==e?void 0:e.lockDate,"YYYY-MM-DD")),1)):f("",!0),(null==e?void 0:e.unlockDate)?(h(),C("td",Yr,k(x(le)(null==e?void 0:e.unlockDate,"YYYY-MM-DD")),1)):f("",!0),(null==e?void 0:e.vesting_end)||(null==e?void 0:e.unlockDate)?(h(),C("td",Gr,k(x(le)((null==e?void 0:e.vesting_end)||(null==e?void 0:e.unlockDate)||0,"YYYY-MM-DD")),1)):f("",!0)])))),128))])):f("",!0)],64)})),128))]),x(fe)?(h(),C("div",Qr,k(e.$t("remark"))+": "+k(x(fe)),1)):f("",!0)]),g("div",Kr,k(null==(v=null==(c=x(re))?void 0:c[1])?void 0:v.name)+"("+k(x(X)((null==(m=x(o))?void 0:m.pair_holders)||0))+") ",1),g("div",Zr,[g("div",Xr,[g("span",Jr,k(e.$t("totalSupply1")),1),g("span",eu,k(x(X)((null==(_=x(o))?void 0:_.pair_total)||0)),1)]),g("div",lu,[g("span",au,k(e.$t("LPLocked")),1),g("span",tu,k(x(X)(100*x(ke),1))+"%",1),g("div",nu,[g("span",{class:"range-bar",style:$({width:x(X)(100*x(ke))+"%"})},null,4)])]),g("ul",ou,[(h(!0),C(A,null,S((null==(w=x(o))?void 0:w.pair_holders_rank)||[],((l,t)=>{var n,s,r,u,d,c,v;return h(),C(A,{key:t},[g("li",{class:V(["card-list-item holder-item",{"bg-warning":1===Number(null==l?void 0:l.analysis_show_warning)}])},[g("a",{href:x(ee)((null==(n=x(o))?void 0:n.chain)||"",(null==l?void 0:l.address)||"","address"),target:"_blank",style:{display:"flex","align-items":"center"}},[g("span",null,k(t+1)+".",1),1===Number(null==l?void 0:l.analysis_show_creator)?(h(),p(i,{key:0,type:"info",round:"",size:"small",class:"mr-3px",effect:"plain"},{default:b((()=>[T(k(e.$t("contractCreator")),1)])),_:1})):f("",!0),$e(l)?(h(),C(A,{key:1},[((null==(s=null==l?void 0:l.lock)?void 0:s.length)??0)>0&&(null==(u=null==(r=null==l?void 0:l.lock)?void 0:r.every)?void 0:u.call(r,(e=>1e3*(e.unlockDate??0)<=Date.now())))?(h(),C("img",iu)):(h(),p(a,{key:1,class:"text-14px",color:"#B3920E",name:"material-symbols-light:lock"}))],64)):f("",!0),(null==l?void 0:l.is_contract)&&1===(null==l?void 0:l.is_contract)?(h(),C("img",ru)):f("",!0),(null==l?void 0:l.mark)?(h(),C(A,{key:4},[T(k(null==l?void 0:l.mark),1)],64)):(h(),C(A,{key:3},[T(k(((null==l?void 0:l.address)||"").slice(0,2)+"..."+((null==l?void 0:l.address)||"").slice(-4)),1)],64))],8,su),g("div",uu,[g("span",null,k(x(X)((null==l?void 0:l.quantity)||0)),1),(null==(d=x(o))?void 0:d.pair_total)&&(null==l?void 0:l.quantity)||(null==l?void 0:l.percent)?(h(),C("span",du," ("+k(l.percent&&Number(null==l?void 0:l.percent)?x(X)(100*Number((null==l?void 0:l.percent)||0),2):x(X)(100*Number(l.quantity)/Number(null==(c=x(o))?void 0:c.pair_total)||0,2))+"%) ",1)):f("",!0)])],2),(null==l?void 0:l.lock)&&(null==(v=null==l?void 0:l.lock)?void 0:v.length)>0?(h(),C("table",cu,[g("thead",null,[g("tr",null,[g("th",null,k(e.$t("amount")),1),g("th",null,k(e.$t("lockDate")),1),g("th",null,k(e.$t("unlockDateStart")),1),g("th",null,k(e.$t("unlockDateEnd")),1)])]),g("tbody",null,[(h(!0),C(A,null,S(l.lock,((e,l)=>(h(),C("tr",{key:l,style:$({color:e.unlockDate??0<=Date.now()?"#FF9F00":""})},[g("td",null,k(x(X)(e.amount||0)),1),e.lockDate?(h(),C("td",vu,k(x(le)(e.lockDate,"YYYY-MM-DD")),1)):f("",!0),e.unlockDate?(h(),C("td",mu,k(x(le)(e.unlockDate,"YYYY-MM-DD")),1)):f("",!0),e.vesting_end||e.unlockDate?(h(),C("td",pu,k(x(le)(e.vesting_end||e.unlockDate||0,"YYYY-MM-DD")),1)):f("",!0)],4)))),128))])])):f("",!0)],64)})),128))]),g("ul",fu,[Number((null==(N=x(o))?void 0:N.analysis_creator_gt_5percent)||0)>5?(h(),C("li",xu,k(e.$t("analysis_creator_gt_5percent"))+"("+k(x(X)((null==(F=x(o))?void 0:F.analysis_creator_gt_5percent)||0,2))+"%) ",1)):f("",!0),"1"===(null==(I=x(o))?void 0:I.analysis_scam_wallet)?(h(),C("li",hu,k(e.$t("analysis_scam_wallet")),1)):f("",!0),Number((null==(L=x(o))?void 0:L.analysis_lp_creator_gt_5percent)||0)>5?(h(),C("li",bu,k(e.$t("analysis_lp_creator_gt_5percent"))+"("+k(x(X)((null==(D=x(o))?void 0:D.analysis_lp_creator_gt_5percent)||0,2))+"%) ",1)):f("",!0),"1"===(null==(M=x(o))?void 0:M.analysis_big_wallet)?(h(),C("li",gu,k(e.$t("analysis_big_wallet")),1)):f("",!0),(null==(B=x(o))?void 0:B.analysis_lp_locked_or_burned_gt_15days)&&Number(null==(P=x(o))?void 0:P.analysis_lp_locked_or_burned_gt_15days)<50?(h(),C("li",ku,k(e.$t("analysis_lp_locked_or_burned_gt_15days"))+" ("+k(x(X)((null==(E=x(o))?void 0:E.analysis_lp_locked_or_burned_gt_15days)||0,2))+"%) ",1)):f("",!0),(null==(U=x(o))?void 0:U.analysis_lp_current_adequate)&&"0"==(null==(R=x(o))?void 0:R.analysis_lp_current_adequate)?(h(),C("li",_u,k(e.$t("analysis_lp_current_adequate")),1)):f("",!0),(null==(H=x(o))?void 0:H.big_lp_without_any_lock)&&1==(null==(O=x(o))?void 0:O.big_lp_without_any_lock)?(h(),C("li",yu,k(e.$t("big_lp_without_any_lock")),1)):f("",!0)]),x(pe)?(h(),C("div",wu,k(e.$t("remark"))+": "+k(x(pe)),1)):f("",!0)]),(null==(j=x(re))?void 0:j[2])?(h(),C("div",Tu,k(null==(W=null==(z=x(re))?void 0:z[2])?void 0:W.name)+"("+k(x(X)((null==(Y=null==(q=x(o))?void 0:q.owner_txs)?void 0:Y.length)||0))+") ",1)):f("",!0),(null==(G=x(re))?void 0:G[2])?(h(),C("div",Cu,[(h(!0),C(A,null,S(null==(Q=x(o))?void 0:Q.owner_txs,((t,n)=>{var s,i,u,d;return h(),C("div",{key:n,class:"ownerTxs",onClick:e=>function(e){var l;(null==e?void 0:e.tx_hash)&&(window.location=ee((null==(l=null==o?void 0:o.value)?void 0:l.chain)||"",(null==e?void 0:e.tx_hash)||"","tx"))}(t)},[g("div",Su,[g("span",Nu,[T(k(null==t?void 0:t.method_name)+" ",1),g("span",$u,[l[10]||(l[10]=T(" ( ")),l[11]||(l[11]=g("img",{src:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748182189947'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='20308'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M704.590769%20479.389538a39.936%2039.936%200%200%200-39.936-39.936H291.84a39.936%2039.936%200%200%200%200%2079.872h372.814769c22.055385%200%2039.936-17.880615%2039.936-39.936zM544.846769%20692.381538a39.936%2039.936%200%200%200-39.936-39.936H291.84a39.936%2039.936%200%200%200%200%2079.95077H504.910769c22.055385%200%2039.936-17.959385%2039.936-40.01477z%20m332.878769-332.878769v439.453539c0%20106.496-53.248%20159.744-159.822769%20159.744H238.670769C132.017231%20958.700308%2078.769231%20905.452308%2078.769231%20798.956308V159.822769C78.769231%2053.248%20132.017231%200%20238.592%200h279.630769v159.822769c0%20128.866462%2070.813538%20199.68%20199.68%20199.68h159.822769zM837.789538%20279.630769H717.902769c-84.125538%200-119.808-35.682462-119.808-119.808V39.936L837.789538%20279.630769z'%20fill='%23CCCCCC'%20p-id='20309'%3e%3c/path%3e%3c/svg%3e",width:12,alt:""},null,-1)),T(" "+k((null==(s=null==t?void 0:t.method_code)?void 0:s.slice(0,4))+"..."+(null==(i=null==t?void 0:t.method_code)?void 0:i.slice(-4)))+") ",1)])]),g("span",Fu,k((null==(u=String(null==t?void 0:t.timestamp))?void 0:u.length)>10?x(le)(((null==t?void 0:t.timestamp)??0)/1e3||0,"YYYY-MM-DD"):x(le)((null==t?void 0:t.timestamp)||0,"YYYY-MM-DD")),1)]),((null==(d=null==t?void 0:t.params)?void 0:d.length)??0)>0?(h(),C("div",Iu,[(h(!0),C(A,null,S(null==t?void 0:t.params,((t,n)=>{var o,s,i,u,d,c,v,m,p;return h(),C("div",{key:n,class:"flex-start"},[g("span",Lu,k(null==t?void 0:t.name)+"：",1),"address"==(null==t?void 0:t.type)?(h(),C(A,{key:0},[(null==t?void 0:t.value)==("useFollowStore"in e?e.useFollowStore:x(Z))().currentAddress||(null==t?void 0:t.value)==x(Se)?(h(),C("span",Vu,k((null==(o=null==t?void 0:t.value)?void 0:o.slice(0,8))+"..."+(null==(s=null==t?void 0:t.value)?void 0:s.slice(-4)))+" ("+k(e.$t("myWallet"))+") ",1)):1==(null==t?void 0:t.is_trader_addr)?(h(),C("span",Du,[T(k((null==(i=null==t?void 0:t.value)?void 0:i.slice(0,8))+"..."+(null==(u=null==t?void 0:t.value)?void 0:u.slice(-4)))+" ",1),y(r,{effect:"customized",content:e.$t("latestTrader"),placement:"top"},{default:b((()=>[y(a,{class:"text-14px",color:"#ff9f00",name:"ep:avatar"})])),_:1},8,["content"])])):(h(),C("span",Mu,k((null==(d=null==t?void 0:t.value)?void 0:d.slice(0,8))+"..."+(null==(c=null==t?void 0:t.value)?void 0:c.slice(-4))),1))],64)):"uint256"==(null==t?void 0:t.type)?(h(),C("span",Bu,k(x(X)((null==t?void 0:t.value)||0)),1)):"address[]"==(null==t?void 0:t.type)?(h(),C("div",Pu,[l[12]||(l[12]=g("strong",null,"[",-1)),(h(!0),C(A,null,S(null==(v=null==t?void 0:t.value)?void 0:v.slice(0,3),((e,l)=>(h(),C("span",{key:l,class:"block ml_10"}," '"+k((null==e?void 0:e.slice(0,4))+"..."+(null==e?void 0:e.slice(-4)))+"' ",1)))),128)),(null==(m=null==t?void 0:t.value)?void 0:m.length)>3?(h(),C("span",Eu," //"+k(e.$t("totalTxs",{n:null==(p=null==t?void 0:t.value)?void 0:p.length})),1)):f("",!0),l[13]||(l[13]=g("strong",null,"]",-1))])):(h(),C("span",Uu,k(null==t?void 0:t.value),1))])})),128))])):f("",!0)],8,Au)})),128))])):f("",!0)]})),_:1}),(null==(d=x(o))?void 0:d.holder_analysis)?(h(),p(n,{key:2,span:24},{default:b((()=>{var l,a,t,n,s,i,r,u,d,c,v,m,p,f,b,_,y,w,N;return[g("div",Ru,[g("span",Hu,k(e.$t("simulate")),1),g("table",Ou,[g("tbody",null,[g("tr",null,[g("td",null,[g("span",ju,k(e.$t("simulateHolders")),1),g("span",zu,k(x(X)((null==(a=null==(l=x(o))?void 0:l.holder_analysis)?void 0:a.simulate_holders)||0)),1)]),g("td",null,[g("span",Wu,k(e.$t("sellSuccessful")),1),g("span",qu,k(x(X)((null==(n=null==(t=x(o))?void 0:t.holder_analysis)?void 0:n.sell_successful)||0)),1)]),g("td",null,[g("span",{class:V(["block color-[--third-text]",{failedBg:((null==(i=null==(s=x(o))?void 0:s.holder_analysis)?void 0:i.sell_failure)??0)>0}])},k(e.$t("sellFailure")),3),g("span",{class:V(["block",{failedColor:((null==(u=null==(r=x(o))?void 0:r.holder_analysis)?void 0:u.sell_failure)??0)>0}])},k(x(X)((null==(c=null==(d=x(o))?void 0:d.holder_analysis)?void 0:c.sell_failure)||0)),3)]),g("td",null,[g("span",{class:V(["block color-[--third-text]",{balanceBg:((null==(m=null==(v=x(o))?void 0:v.holder_analysis)?void 0:m.balance_disappeared)??0)>0}])},k(e.$t("balanceDisappeared")),3),g("span",Yu,k(x(X)((null==(f=null==(p=x(o))?void 0:p.holder_analysis)?void 0:f.balance_disappeared)||0)),1)])]),g("tr",null,[g("td",null,[g("span",Gu,k(e.$t("sellSlippage")),1)]),g("td",Qu,[g("span",{class:V({avgBg:1==(null==(b=x(o))?void 0:b.avg_tax_too_high)})},[g("span",Ku,k(e.$t("averageTax")),1),T("  "+k(x(X)((null==(y=null==(_=x(o))?void 0:_.holder_analysis)?void 0:y.average_tax)||0))+"% ",1)],2),(h(!0),C(A,null,S(null==(N=null==(w=x(o))?void 0:w.holder_analysis)?void 0:N.tax_distribution,((l,a)=>(h(),C("div",{key:a,class:"flex-start"},[g("span",null,[g("span",Zu,k(e.$t("slippage1")),1),T("  "+k(x(X)(null==l?void 0:l.tax))+"% ",1)]),g("span",null,[g("span",Xu,k(e.$t("addressCount")),1),T("  "+k(null==l?void 0:l.count),1)])])))),128))])])])]),g("ul",Ju,[(h(!0),C(A,null,S(x(_e),((e,l)=>(h(),C("li",{key:l,class:V({warning:1==e[0],danger:2==e[0]})},k(e[1]),3)))),128))])])]})),_:1})):f("",!0),y(n,null,{default:b((()=>{var l,t,n,s,i;return[g("div",ed,[g("h3",ld,k(e.$t("communityTrust")),1),g("div",ad,[g("div",{class:"thumbs-container",onClick:L(Le,["stop"])},[y(a,{name:"garden:thumbs-up-fill-12",style:$({color:((null==(l=x(o))?void 0:l.my_vote)??0)>0?"#12B886":"var(--secondary-text)"})},null,8,["style"]),g("span",td,k(e.$t("support"))+"("+k(null==(t=x(o))?void 0:t.vote_support)+") ",1)]),g("div",nd,[g("div",od,[g("span",{class:"left",style:$({width:x(X)(100*(null==(n=Ie(x(o)))?void 0:n[0])||0)+"%"})},k(x(X)(100*Fe(x(o))[0]||0,1))+"% ",5),g("span",{class:"right",style:$({width:x(X)(100*Ie(x(o))[1]||0)+"%"})},k(x(X)(100*Fe(x(o))[1]||0,1))+"% ",5)]),g("div",sd," ("+k(Fe(x(o))[2])+" "+k(e.$t("votes"))+") ",1)]),g("div",{class:"thumbs-container",onClick:L(Ve,["stop"])},[y(a,{name:"garden:thumbs-down-fill-12",style:$({color:((null==(s=x(o))?void 0:s.my_vote)??0)<0?"#F6465D":"var(--secondary-text)"})},null,8,["style"]),g("span",id,k(e.$t("against"))+"("+k((null==(i=x(o))?void 0:i.vote_against)||0)+") ",1)])]),g("div",rd,k(e.$t("remark"))+": "+k(e.$t("checkRemark")),1)])]})),_:1})]})),_:1})):(h(),p(d,{key:1,image:"light"===x(B).theme?x(ae):x(te)},null,8,["image"]))])])]})),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-29dfbdb7"]]);var dd=Object.defineProperty,cd=Object.getOwnPropertySymbols,vd=Object.prototype.hasOwnProperty,md=Object.prototype.propertyIsEnumerable,pd=(e,l,a)=>l in e?dd(e,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[l]=a,fd=(e,l)=>{for(var a in l||(l={}))vd.call(l,a)&&pd(e,a,l[a]);if(cd)for(var a of cd(l))md.call(l,a)&&pd(e,a,l[a]);return e};class xd{constructor(){this.tag=null,this.config={zIndex:"999",projectId:"",conversationId:"",containerDomId:void 0,defaultOpen:!1,destroyOnClose:!1},this.onClose=e=>{var l,a;null==(a=(l=this.config).onClose)||a.call(l),this.config.destroyOnClose&&(e.preventDefault(),e.stopPropagation(),this.destroy())}}static getInstance(){return xd.instance||(xd.instance=new xd),xd.instance}initMain(e){this.config=fd(fd({},this.config),e),this.tag=document.createElement("debox-chat-widget"),this.tag.style.zIndex=this.config.zIndex,this.tag.projectId=this.config.projectId,this.tag.conversationId=this.config.conversationId,this.tag.setAttribute("defaultOpen",`${this.config.defaultOpen}`);let l=document.body;if(this.config.containerDomId){const e=document.getElementById(this.config.containerDomId);e&&(l=e)}l.appendChild(this.tag),this.addCloseEvent(),this.addToggleEvent()}async init(e){if(this.tag)throw new Error("DeBoxChatWidget is already initialized");this.initMain(e),typeof window<"u"&&await ie((()=>import("./DZmKQ5YE.js")),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)}destroy(){var e,l;this.tag&&(this.removeToggleEvent(),this.removeCloseEvent(),this.callbackFn&&this.removeEventListener(this.callbackFn),this.tag.remove(),this.tag=null),null==(l=(e=this.config).onDestroy)||l.call(e),this.config={zIndex:"999",projectId:"",conversationId:"",containerDomId:void 0,defaultOpen:!1,destroyOnClose:!1}}setConversation(e,l){if(!this.tag)throw new Error("DeBoxChatWidget is not initialized");this.config.conversationId=e,this.tag.conversationId=e,"boolean"==typeof l&&this.tag.toggleChat(l)}toggleChat(e){if(!this.tag)throw new Error("DeBoxChatWidget is not initialized");this.tag.toggleChat(e)}addEventListener(e){if(!this.tag)throw new Error("DeBoxChatWidget is not initialized");this.tag.addEventListener("debox-message-pushed",e),this.callbackFn=e}removeEventListener(e){if(!this.tag)throw new Error("DeBoxChatWidget is not initialized");this.tag.removeEventListener("debox-message-pushed",e),this.callbackFn=void 0}addToggleEvent(){const e=document.querySelector("debox-chat-widget");e&&this.config.onToggle&&(this.observer=new MutationObserver((()=>{var l,a;const t=e.hasAttribute("open");null==(a=(l=this.config).onToggle)||a.call(l,t)})),this.observer.observe(e,{attributes:!0,attributeFilter:["open"]}))}removeToggleEvent(){var e;null==(e=this.observer)||e.disconnect()}addCloseEvent(){var e;null==(e=this.tag)||e.addEventListener("debox-before-close",this.onClose)}removeCloseEvent(){var e;null==(e=this.tag)||e.removeEventListener("debox-before-close",this.onClose)}}const hd=xd.getInstance();const bd={class:"debox"},gd={id:"chat-deBox"},kd=B(s({__name:"deBox",setup(e){re("deboxCoversation",{},sessionStorage);const l=r(),a=u(""),t={solana:-200,eth:1,optimism:10,bsc:56,polygon:137,xlayer:196,ftm:250,zksync:324,merlin:4200,mantle:5e3,base:8453,arbitrum:42161,avalanche:43114,linea:59144,blast:81457,bitlayer:200901,scroll:534352},n=ue("showDeBox",!1),s=ue("isMin",!0),i=d((()=>{var e;return(null==(e=c(l.params.id))?void 0:e.chain)||""})),p=d((()=>{var e;return null==(e=c(l.params.id))?void 0:e.address}));async function b(){var e;t[i.value]&&n.value&&(a.value=await new Promise(((e,l)=>{(function(e){const{$api:l}=o();return l("/v1api/v1/ave_proxy/debox/openapi/chatwidget/conversation/id",{method:"post",body:e})})({chain_id:t[i.value],contract_address:p.value}).then((l=>{var t;a.value=null==(t=null==l?void 0:l.data)?void 0:t.cid,e(a.value),hd.tag&&hd.setConversation(a.value)})).catch((()=>{l("")}))}))||"",a.value&&(e=a.value,hd.tag?hd.setConversation(e,s.value):hd.init({projectId:"QMPwBXl11rZZlQp0",zIndex:"999",containerDomId:"chat-deBox",destroyOnClose:!0,defaultOpen:s.value,conversationId:e,onToggle:e=>{s.value=e},onDestroy:()=>{n.value=!1}})))}function k(){n.value=!n.value,n.value?b():hd.tag&&hd.destroy()}return m((()=>l.params.id),(()=>{hd.tag&&b()})),v((()=>{b()})),de((()=>{hd.tag&&hd.destroy()})),(e,l)=>{const a=w;return h(),C("div",bd,[t[x(i)]?(h(),C("a",{key:0,href:"",class:"p-2px radius-2px h-16px flex items-center bg-btn",onClick:L(k,["stop","prevent"])},[y(a,{name:"custom:debox",class:V(["color-[--third-text] text-12px",x(n)?"color-#21c161":""])},null,8,["class"])])):f("",!0),O(g("div",gd,null,512),[[ce,t[x(i)]&&x(n)]])])}}}),[["__scopeId","data-v-7896ee56"]]),_d={class:"info flex items-center bg-[--secondary-bg] mb-1px h-64px p-x-16px text-12px color-[--third-text]"},yd={class:"token-info ml-16px flex items-center color-[--third-text]"},wd=["src"],Td=["src"],Cd={key:0,class:"icon-token-container relative"},Ad=["src"],Sd=["src"],Nd=["src"],$d={class:"ml-8px"},Fd={class:"flex items-center"},Id={class:"text-16px leading-[1.25] color-[--main-text] font-500"},Ld={class:"ml-8px text-12px font-500 mr-8px"},Vd={class:"flex items-center justify-start"},Dd={key:0,class:"bg-btn",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAC7BJREFUeF7tnTGOFDkUht2tFSJhtw+B4AiE2xxgM2YTcsJNIAdySDYkn2Qh2wMMhBwBxCFmdxKEVt0rd0/N1PR0Vdmu56rn568lNBJju+z/+Zvfz+WuWjg+kypwsXqy9hfcuOV66ba/NhffOrf7/+azcO7jvtzik/+5dJuP984/7P6Pz3QKLKa7VL1X2kOxeHkIQaoiW7d47ev+cv7Xq9Q2qBemAICE6RRdShqKrg4AS3RooioASJRcw4WnAuOwJ4AyHJuUEgCSotqROnOBcQwU8hWhoDrnAERAy39Wv79auO1LgabEmvCOQo4yXk4AGaGhFtfoGsJ+J2z7mt2v9CADSKJ2Gl2jL5HHTdICDSAJupUERzM8llwJgSYHiRetRDiAJD7OTQ0cJEK7kuEAkohAt4oCSKBuFuAAksBgA0icUJbguF46bB+zuzU8D3CQAY38Vu7WLc6GpSyvxMIByVDUAGQQkJMzqUOGQ8GY+vf+Psm98/ePp75uSdcDkJ5oWVxaHQ6X7d9+XAGkR59/Vyfbkv7apfaVpVa3cgDSoU0N7tHa62ep1TEPAOSIMDXBwa4WS6zolcfFym5i3iUGCftxZXCQA11qdA9chBwk2EVqScyPCYKL3FYFB2lpUrN74CIssQZdpGb3aIvz8/l7/nBeCoIQl0LgHteIcPPwWgsAudQC97hpsLjIXg8Acc7hHrdXn7gIgFzNCtyjK0HltG/1DoJ79N4DqP4ISvWA4B5DRy3qdpGqAcE9Bne+fZJatYtUCwhwDMPBzcOKd7EAJAaQel2kSgcBjnA4aneRKgEhMU8BpE4XqQ4Q3CMejppdpDpAcI8xgNTnIlUBgnukw9HUrO0ISlWA4B7jAfEt1HSQsRpAcA8ZOHwrNblINYDgHnKA1OQiVQCCe8jCcfk9iSqOoFQBCO4hD8geEvsHGc0DgnvkgaMWFzENiOVXF+Sb9nEtW3cR04DgHnGTPaW09ePwZgEBjpTpnlbHsosASNqcoFZLAcsuYhIQ3GN6fq26iElA2NadAxCbBxnNAYJ7TA+H5ePw5gDBPeYExJ6LmAIE95gPDqvH4U0BgnvMD4i1g4xmAME9dMBh7Ti8GUBwDz2AWDrIaAIQ3EMXHJYOMpoABPfQB4gVFykeENxDJxxWXKRoQIBDLxxWbh4CiP45VnQPSz/IWCwguEc53JR8kLFYQC5WJ2db59blTJP+nm4ePdwV2Dx64Jafv7rl5y9Whlb0O0aKBMSSe/z3x2/O/zv2+enPv53/Z+FTqosUCYiFbV3vGB4M7xh9H+8mHpLSHaXUXKQ4QKy4x4/TF4NwNOB4SO48fVO8kZToIsUBYsE9+pZVXRRYWW6V9lzfogCx4h7fv71LcoO7958l1dNUqbTn+hYFiAX38LnHj9PnSXP2ztO3xecifuAluUgxgFhxj5TlVUOTFUBKcpFiALHgHn6ijwHESh5S0kHGIgCx4h4Acr2yLGXbtwhArLgHgNxMvUrY9lUPiCX3AJBDQPQ/BUU1INbgAJDbm3faXQRAkjZc0yuRpJflImoBsegeOMjxPyyaXUQtIJYS8/a0wEGOLbP05iIqAbHqHjhI99JUq4uoBMSqewBIHyA6XUQdIJbdA0D6Nzc0HkFRB4hl9wCQ4d0/bQcZVQFi3T0AZBgQbS6iChDr7gEgw4BoOw6vBpAa3ANAwgDRdJBRDSA1uAeAhAHiS2nZ9lUBSC3uASAxgOjY9p0dkIvVk/XWLc7CpSu7JHfSw+OnwUVmB6Qm98BBwuHYL7Pmd5FZAakNDgCJA0RDLgIg8TEbVYMlVpx8c7vIbIDU6B44SBwcTek5c5HZAKllW/dwSuAg8ZDM6SKzAFKre+Ag8XDM7SKzAFKrewDIGEDm2dGaHJCa3QNA0gHxNec4yDg5IDW7B4CMA8TXnvo4/KSA1O4eADIekKldZFJAancPABkPyNQ3DycDBPfYTw62ecdDMuW272SA4B4AMh6N6xamunk4CSC4x3VgcRAZTKZykeyAAMfNCQEgMoBMlYsAiFy8gloCkCCZggpN4SJZAcE9bscZQILmfnCh3LlIVkAuVidnW+fWwaOtoCCAyAY5t4tkAwT3OD4RAEQWkNy5SDZA2NYFEHkUjreY00WyAIJ7dE8NHCQPNrlykSyA4B4AkgeD/lZzHGQUBwT36A/i5tFD9+P0edL8sfSe9CQBBirlOMgoDgjukQ+QO0/fuuXnLznmlpk2pV1EFBDcI2yeff/2LqzgQam7958l1aupkrSLiAKCe4RNxZREneVVmLbS275igOAe4QH0JX+cvnCbRw+CKi0/f3V3nr4JKksh2ScyigGCe8RNTZ+seycZgsTD4d2D3CNOX6ltXxFAcI+44LVL9y23WFal6yp183A0IMCRHsR2Te8o3k28Y/gPjjFeVwkXAZDxcaAFpQpIuMgoQHAPpTODbl0pMNZFRgFCYs5M1K7AWBdJBgT30D416F+jwBgXSQYE92AClqLAGBdJAgT3KGVq0M9GgdQjKEmA4B5MvBIVSDnIGA0I7lHi1KDPXoEUF4kGBPdgspWsQKyLRAGCe5Q8Nei7VyA2YY8CBPdgkllQIGbbNxgQ3MPC1GAMsS4SBMjF6sl66xZnyCuvQHNI0f/0n+b4uz/J6z/NT/kr191iqIsEAYJ7yE+m0O+DNJAAimwMQnORQUCAQzYwvjW+ciuvaUqLIS4CICnKjqiTAkdzOb56O0L4I1VDXKQXENxDNiC+tdQnmjQ94VuGsjEZcpFeQNjWlQ3GGPdo94TnY8nFZchFOgHBPeSCsN+dSn+i4mFPWGrJxqbPRToBwT1kgyDlHr5XACIbmz4XOQoI7iEbgNSdq75e8JRF2Rh1HWQ8CgjuISu+by3mQXEhVycPCVEprsyxg4y3AME94kQNLQ0goUrNV+6Yi9wCBPfIEyBpQFhi5YnToYvcAAT3yCM6u1j5dJVu+dBFbgCCe0jLfd2e5DYvNwvzxcm33HaRK0Bwj7yiSybqLK/yxqp9X+QKENwjr+hSyyzcI3+c2vdFdoDwfY/8ojdXGHPDEDimi1PjIjtAWF5NJ7y/Ugok3D2fNkZNsn7pICdnW+fW03ah7qs13yT0sAx9cI4hheR/3yyzdoCQf8gLHNpiA0gDjK/XvCOEN0uFqpinnF9mLcg/8ohLq+UrsAOE/KP8QDKCPAr4PARA8mhLqwYU8HnI4mJFgm4glgwhgwI7QEjQMyhLk2YUABAzoWQgORQAkByq0qYZBQDETCgZSA4FACSHqrRpRgF2scyEkoFIK8A2r7SitGdKAQAxFU4GI60Ad9KlFaU9UwrsAOGwoqmYMhhBBXaA+Pa4my6oKk2ZUcA/vIEvTJkJJwORVODGF6Y4sCgpLW1ZUODgK7e8pNNCUBmDnAI3Htrgm8VF5MSlpfIVaB4ed/VcLHazyg8qI5BRoP34UQCR0ZRWDClw9NGjfnx8P91QlBlKkgK9D6/mnkiSplQypEDv6w9wEUORZijRCgS9QIcdrWhdqWBEgaBXsO0B4b6IkZgzjEAFol7iyVIrUFWKmVCgCw4/uM73pLPUMhF7BjGgQN870gcBARLml2UFhuAIBIR8xPIkqXls7VetdenQu8RqKpG01zyNbI49BI4gB2lD4tziJS/asTlhahmVX1Y5t3197/zDx5AxBzlIuyFO/YbIShmNCoTkHIf9jgaELWCNoadPQwr0beX21U0CBEiGwsHvtSgQu6QScZB2I5wA1jIV6MehAqmu0W4n2UEOOwMoTFAtCox1jSyANI0CipZpUlc/9lD4T/gOVYhCYg5yeDF/72TjluuF274M6QhlUCBWgVxQZHWQrkE2wPjfL9321x3rzq1jRaF8fQpcg+Dcxi0+Ld3mY+h9jLFqZXOQsR2jPgpoUABANESBPqhVAEDUhoaOaVAAQDREgT6oVQBA1IaGjmlQAEA0RIE+qFUAQNSGho5pUABANESBPqhVAEDUhoaOaVAAQDREgT6oVeB/CNFKt7xdpVUAAAAASUVORK5CYII=",width:12},Md={key:1,class:"flex text-20px"},Bd={key:0,class:"bg-btn"},Pd=["href"],Ed=["href"],Ud={class:"media-item bg-btn cursor-pointer"},Rd={class:"py-4px [&&]:m--12px flex flex-col"},Hd=["href"],Od=["href"],jd=["href"],zd=["src"],Wd={key:5,class:"media-item bg-btn clickable"},qd={class:"ml-2px ellipsis block",style:{"max-width":"140px"}},Yd={class:"filter-box"},Gd={class:"flex mt-10px"},Qd={class:"mt-20px flex-center"},Kd={class:"ml-2px ellipsis block",style:{"max-width":"140px"}},Zd={class:"filter-box"},Xd={class:"flex mt-10px"},Jd={class:"mt-20px flex-center"},ec={class:"text-12px flex items-center mt-4px"},lc=["href"],ac={class:"media-item bg-btn cursor-pointer"},tc={key:1,class:"ml-5px hover:color-[--main-text] leading-12px font-400 mr-8px"},nc={key:2,class:"flex-start bg-btn"},oc={key:0,class:"ml-2px",style:{color:"#959a9f"}},sc={key:4,class:"minor flex-end color-text-2 tag-btn signal cursor-pointer mr-4px bg-btn text-10px"},ic={class:"mr-2px text-10px"},rc={class:"media-item bg-btn cursor-pointer"},uc={width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},dc=["fill"],cc={class:"text-[--main-text] text-10px ml-2px mt-1px"},vc={class:"py-4px [&&]:m--12px flex flex-col"},mc={class:"flex items-center justify-between text-12px py-4px px-8px color-[--third-text]"},pc={class:"text-[--main-text]"},fc={class:"flex items-center justify-between text-12px py-4px px-8px color-[--third-text]"},xc={class:"text-[--main-text]"},hc={class:"flex items-center justify-between text-12px py-4px px-8px color-[--third-text]"},bc={class:"text-[--main-text]"},gc={class:"item ml-24px items-end!"},kc={class:"text-20px color-[--main-text]"},_c={key:0,class:"item ml-24px"},yc={class:"block mt-8px color-[--main-text]"},wc={class:"item ml-24px"},Tc={class:"block mt-8px color-[--main-text]"},Cc={class:"item ml-24px"},Ac={class:"block mt-8px color-[--main-text]"},Sc={class:"item ml-24px"},Nc={class:"block mt-8px color-[--main-text]"},$c={class:"item ml-24px"},Fc={class:"flex-start"},Ic={class:"color-text-1 mt-8px font-500 text-14px flex-start"},Lc={key:0,width:12,class:"icon-svg1",src:An},Vc={key:1,width:12,class:"icon-svg1",src:Sn},Dc={key:2,width:12,class:"icon-svg1",src:Fn},Mc={key:3,class:"icon-svg1",width:12,src:Nn},Bc=B(s({__name:"index",setup(e){const{token_logo_url:l}=ve(),a=W(),{collected:t}=G(W()),{evmAddress:n}=G(q()),o=Q(),{t:s}=i(),N=r(),{mode:F,dialogVisible_search:I,dialogSearchText:B}=G(j()),P=u(!1),E=u(0),R=u(0),z=u(!1),K=u(!1),Z=u([]),J=u(!1),ae=u(""),te=me("aiSummary"),ne=u(""),se=u(!1);u(!1);const ie=U({all_tag_rate:0,rates:{rugged_rate:0}}),re=u(!1),ue=pe(Me.FAV_DIALOG);ue.on(He);const ce=u({total_tokens:0,total_migrated:0}),Be=pe(Me.TOP_FAV_CHANGE),Pe=pe(Me.TOP_ADD_GROUP),Ee=pe(Me.DEV_TOKENS_TAB);function Ue(){Ee.emit(),oe.success(s("devTokensDisplayed"))}async function Re(){const e={token_id:Ye.value,pageNO:1,pageSize:1},l=await zn(e);ce.value=l}function He({tokenId:e,type:l,groupId:a}){"changeFavoriteGroupName"===l||"removeFavoriteGroup"===l||"delete"===l?ul():e===Ye.value&&ol(),a&&Number(a)===R.value&&(R.value=0)}m((()=>se.value),(e=>{e&&Pn().getContractCheckResult(N.params.id,je.value)})),m((()=>N.params.id),(()=>{N.params.id&&Re()})),de((()=>{Be.off(Ue),ue.off(He)}));const Oe=Y();d((()=>{var e,l;return(null==(e=Pn().checkResult)?void 0:e.owner)||(null==(l=Ge.value)?void 0:l.owner)||""}));const je=d((()=>n.value||Oe.address)),{statistics_risk_store:ze,statistics_warning_store:We,statistics_unknown_store:qe}=G(Pn()),Ye=d((()=>N.params.id)),Ge=d((()=>a.token)),Qe=d((()=>a.pair)),Ke=d((()=>a.price)),Ze=d((()=>a.priceChangeV2||0)),Xe=d((()=>a.marketCap||0)),Je=d((()=>{var e,l;return(null==(e=a.pair)?void 0:e.volume_u)||(null==(l=a.tokenInfoExtra)?void 0:l.volume_24)||0})),el=d((()=>a.tokenInfoExtra)),ll=d((()=>{var e;return fe(null==(e=Ge.value)?void 0:e.appendix)})),al=d((()=>{var e,l;return 0==E.value?s("defaultGroup"):null==(l=null==(e=Z.value)?void 0:e.find((e=>e.group_id==E.value)))?void 0:l.name})),tl=d((()=>{const{chain:e}=c(Ye.value,0);return e}));v((()=>{je.value&&(ol(),ul()),N.params.id&&Re(),"solana"==tl.value&&ml()})),m(je,(e=>{e?(ol(),ul()):(t.value=!1,ae.value="",ne.value="",E.value=0,R.value=0)})),m((()=>N.params.id),(()=>{je.value&&(ol(),ul()),"solana"==tl.value&&ml()}));const nl=u(!1);function ol(){xe(Ye.value,je.value).then((e=>{t.value=!!(null==e?void 0:e.address),ae.value=(null==e?void 0:e.remark)||"",ne.value=(null==e?void 0:e.remark)||"",E.value=(null==e?void 0:e.group_id)||0,R.value=(null==e?void 0:e.group_id)||0})).catch((e=>{})).finally((()=>{}))}function sl(e){$e(e,je.value).then((l=>{Pe.emit(),l&&(il(Number(l)),Z.value.push({group_id:Number(l),name:e}))}))}function il(e){nl.value=!0,Fe(Ye.value,je.value,e||0).then((()=>{oe.success(s("collected")),ol(),Be.emit()})).catch((e=>{})).finally((()=>{nl.value=!1}))}async function rl(e){je.value?(Oe.address&&await Oe.signMessageForFavorite(),t.value?(nl.value=!0,De(Ye.value,je.value).then((()=>{oe.success(s("cancelled1")),t.value=!1,Be.emit(-1)})).catch((e=>{})).finally((()=>{nl.value=!1}))):il(e)):Ie()}async function ul(){try{z.value=!0;const e=await he(je.value);Z.value=(e||[]).filter((e=>!!e.name&&"token"===e.type))}catch(e){}finally{z.value=!1}}function dl(e,l=Ye.value,a=je.value){a&&(E.value!==e?(K.value=!0,Le(l,e,a).then((()=>{oe.success(s("success")),P.value=!1,ol(),Be.emit()})).catch((e=>{oe.error(s("fail"))})).finally((()=>{K.value=!1}))):(K.value=!1,P.value=!1))}function cl(){P.value&&(P.value=!1,R.value=E.value),J.value&&(J.value=!1,ne.value=ae.value)}function vl(e){var l,a,t,n,o,s,i,r,u,d;let c=[],v=[],m=[];if(null==e?void 0:e.dynamic_tag){const n=JSON.parse(null==e?void 0:e.dynamic_tag)||[],o=null==n?void 0:n.filter((e=>null==e?void 0:e.startsWith("signal")));c=null==o?void 0:o.map((e=>({tag:!(null==e?void 0:e.split("-")[5])||"whale_sell"!=(null==e?void 0:e.split("-")[1])&&"whale_buy"!=(null==e?void 0:e.split("-")[1])?null==e?void 0:e.split("-")[1]:`${null==e?void 0:e.split("-")[1]}_trump`,color:null==e?void 0:e.split("-")[2],n:null==e?void 0:e.split("-")[3],timestamp:null==e?void 0:e.split("-")[4]}))),null==c||c.sort(((e,l)=>l.timestamp-e.timestamp));const s=c.filter(((e,l)=>c.findIndex((e=>new RegExp("^kol_.*$","gi").test(e.tag)))==l)),i=c.filter(((e,l)=>c.findIndex((e=>new RegExp("^dev_.*$","gi").test(e.tag)))==l)),r=c.filter(((e,l)=>c.findIndex((e=>new RegExp("^smarter_.*$","gi").test(null==e?void 0:e.tag)))==l)),u=c.filter(((e,l)=>c.findIndex((e=>new RegExp("^whale_.*$","gi").test(e.tag)))==l)),d=null==c?void 0:c.filter((e=>!new RegExp("^dev_|kol_|smarter_|whale_.*$","gi").test(e.tag)));c=null==(t=null==(a=null==(l=null==s?void 0:s.concat(i))?void 0:l.concat(r))?void 0:a.concat(u))?void 0:t.concat(d),null==c||c.sort(((e,l)=>l.timestamp-e.timestamp)),m=n.filter((e=>!(null==e?void 0:e.startsWith("signal"))))}v=(null==m?void 0:m.map((e=>({tag:e,color:"green",showText:!1}))))||[];const p=(null==c?void 0:c.some((e=>new RegExp("rug_pull","gi").test(null==e?void 0:e.tag))))||(null==v?void 0:v.some((e=>new RegExp("rug_pull","gi").test(null==e?void 0:e.tag)))),f=(null==c?void 0:c.some((e=>new RegExp("shitcoin","gi").test(null==e?void 0:e.tag))))||(null==v?void 0:v.some((e=>new RegExp("shitcoin","gi").test(e.tag))));if(((null==e?void 0:e.risk_score)??0)>=100&&"solana"==(null==e?void 0:e.chain)?(e.lp_locked_percent=0,c=[],v=[{tag:"flag_dangerous",color:"red",showText:!0}]):p?(e.lp_locked_percent=0,c=[],v=[{tag:"flag_rug_pull",color:"red",showText:!0}]):f&&(e.lp_locked_percent=0,c=[],v=[{tag:"flag_shit_coins",color:"red",showText:!0}]),null==(n=null==Ge?void 0:Ge.value)?void 0:n.tag){const e=(null==(s=null==(o=null==Ge?void 0:Ge.value)?void 0:o.tag)?void 0:s.split(","))||[],l=null==e?void 0:e.filter((e=>""!==e&&"newcommunity"!==e));v=(null==l?void 0:l.map((e=>({tag:e,color:"green",showText:!1})))).concat(v)}const x=(null==(r=null==(i=null==Ge?void 0:Ge.value)?void 0:i.tag)?void 0:r.split(","))||[],h=null==(u=null==x?void 0:x.includes)?void 0:u.call(x,"newcommunity");return(1==(null==(d=null==Ge?void 0:Ge.value)?void 0:d.cto_flag)||h)&&v.unshift({tag:"cto_flag",color:"green",showText:!1}),{normal_tag:v,signal_arr:c}}function ml(){re.value=!0,jn(Ye.value).then((e=>{var l,a,t,n,o,s,i,r;ie.value.dev=(null==e?void 0:e.dev)||"",ie.value.all_tag_rate=null==(t=null==(a=null==(l=null==e?void 0:e.rates)?void 0:l.rateList)?void 0:a.find((e=>"icon_all_tag_rate"==(null==e?void 0:e.icon))))?void 0:t.rate,ie.value.all_tag_rate=Number((null==(n=ie.value.all_tag_rate)?void 0:n.toFixed(1))||0)||0,ie.value.rates=null==e?void 0:e.rates,ie.value.rateList=null==(s=null==(o=null==e?void 0:e.rates)?void 0:o.rateList)?void 0:s.filter((e=>"icon_all_tag_rate"!==e.icon)),ie.value.rateList=null==(r=null==(i=ie.value)?void 0:i.rateList)?void 0:r.map((e=>{var l;return{...e,rate:Number((null==(l=e.rate)?void 0:l.toFixed(1))||0)}}))})).catch((e=>{})).finally((()=>{re.value=!1}))}function pl(){const e=N.params.id;a.tokenWarningObj[e]=!0}async function fl(){var e;I.value=!0,await Promise.resolve(),B.value=(null==(e=Ge.value)?void 0:e.symbol)||""}return(e,n)=>{var i,r,u,d,c,v,m,I,B,E,U,j,z,W,q,Y,G,Q,ie,re,ue,de,ve,me,pe,fe,xe,he,$e,Fe,Le,De,Me,Pe,Ee,Re,He,Oe,tl,nl,ol,il,ul,ml,xl,hl,bl,gl,kl,_l,yl,wl,Tl,Cl;const Al=xn,Sl=hn,Nl=ge,$l=_,Fl=w,Il=_n,Ll=M,Vl=Tn,Dl=wn,Ml=Te,Bl=Ae,Pl=H("tooltip"),El=Ce,Ul=H("copy");return h(),C(A,null,[((null==(r=null==(i=x(a))?void 0:i.token)?void 0:r.risk_level)??0)<0?(h(),p(Al,{key:0,class:"myTxs-notice",type:"warning",title:e.$t("riskWarning")+": "+e.$t("riskWarningContent1"),"show-icon":"",style:$({backgroundColor:"light"===x(F)?"#ffa94d0d":"#36131C",color:"#f00",border:"none",fontSize:"12px"}),closable:!1},null,8,["title","style"])):x(a).warningStatus?(h(),p(Al,{key:1,class:"myTxs-notice",type:"warning",title:x(s)("alertNotice"),"show-icon":"",closable:"",style:$({backgroundColor:"light"===x(F)?"#ffa94d0d":"#3b1e0c",color:"#ED6A0C",border:"none",fontSize:"12px"}),onClose:pl},null,8,["title","style"])):f("",!0),g("div",_d,[y(Sl,{iconClass:"text-16px cursor-pointer",isCollected:x(t),userFavoriteGroups:x(Z),onConfirmSwitchGroup:dl,onCollect:rl,onNewGroupAndCollect:sl},null,8,["isCollected","userFavoriteGroups"]),g("div",yd,[x(be)(x(Ge))?(h(),p($l,{key:0,"popper-class":"tooltip-pd-0",placement:"bottom-start","show-arrow":!1},{content:b((()=>[y(Nl,{class:"token-icon h-228px w-228px items-center",src:x(be)(x(Ge)),lazy:""},{error:b((()=>{var e,l;return[g("img",{class:"token-icon h-228px w-228px",src:x(ke)(null==(e=x(Ge))?void 0:e.chain,null==(l=x(Ge))?void 0:l.symbol)},null,8,wd)]})),placeholder:b((()=>{var e,l;return[g("img",{class:"token-icon h-228px w-228px",src:x(ke)(null==(e=x(Ge))?void 0:e.chain,null==(l=x(Ge))?void 0:l.symbol)},null,8,Td)]})),_:1},8,["src"])])),default:b((()=>{var e,a;return[x(be)(x(Ge))?(h(),C("div",Cd,[y(Nl,{class:"token-icon rounded-100%",src:x(be)(x(Ge)),lazy:""},{error:b((()=>{var e,l;return[g("img",{class:"token-icon",src:x(ke)(null==(e=x(Ge))?void 0:e.chain,null==(l=x(Ge))?void 0:l.symbol)},null,8,Ad)]})),placeholder:b((()=>{var e,l;return[g("img",{class:"token-icon",src:x(ke)(null==(e=x(Ge))?void 0:e.chain,null==(l=x(Ge))?void 0:l.symbol)},null,8,Sd)]})),_:1},8,["src"]),(null==(e=x(Ge))?void 0:e.chain)?(h(),C("img",{key:0,class:"icon-symbol rounded-100%",src:`${x(l)}chain/${null==(a=x(Ge))?void 0:a.chain}.png`},null,8,Nd)):f("",!0)])):f("",!0)]})),_:1})):f("",!0),g("div",$d,[g("div",Fd,[g("span",Id,k(null==(u=x(Ge))?void 0:u.symbol),1),g("span",Ld,k(null==(d=x(Ge))?void 0:d.name),1),g("div",Vd,[((null==(c=x(Ge))?void 0:c.risk_level)??0)<0?(h(),C("img",Dd)):f("",!0),(null==(v=x(ll))?void 0:v.length)>0?(h(),C("div",Md,[(h(!0),C(A,null,S(x(ll),((e,l)=>(h(),C("div",{key:l,class:"tag-btn"},[e.url?(h(),C(A,{key:0},["QQ"===e.name?O((h(),C("span",Bd,[y(Fl,{name:`custom:${e.icon}`,class:"text-[--third-text] text-12px"},null,8,["name"])])),[[Pl,e.url]]):"twitter"===e.icon?(h(),p(kn,{key:1,tokenId:x(N).params.id,type:x(a).twitterType},{default:b((()=>[g("a",{href:e.url,target:"_blank",class:"bg-btn",onClick:n[0]||(n[0]=L((()=>{}),["stop"]))},[[1,2,3].includes(x(a).twitterType)?(h(),p(gn,{key:0,type:x(a).twitterType,class:"text-12px"},null,8,["type"])):(h(),p(Fl,{key:1,name:`custom:${e.icon}`,class:"text-[--third-text] text-12px"},null,8,["name"]))],8,Pd)])),_:2},1032,["tokenId","type"])):O((h(),C("a",{key:2,href:e.url,target:"_blank",class:"bg-btn",onClick:n[1]||(n[1]=L((()=>{}),["stop"]))},[y(Fl,{name:`custom:${e.icon}`,class:"text-[--third-text] text-12px"},null,8,["name"])],8,Ed)),[[Pl,e.url]])],64)):f("",!0)])))),128))])):f("",!0),(null==(m=x(Ge))?void 0:m.is_streaming)?(h(),p(Il,{key:2,tokenId:x(N).params.id},null,8,["tokenId"])):f("",!0),y(Ll,{"popper-class":"[--el-popover-bg-color:--border]"},{reference:b((()=>[g("span",Ud,[y(Fl,{class:"text-[--third-text] h-16px w-10px",name:"custom:search"})])])),default:b((()=>{var l,a,t;return[g("div",Rd,[g("a",{href:`https://x.com/search?q=${null==(l=x(Ge))?void 0:l.token}`,target:"_blank",class:"text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-tab-active]"},k(e.$t("tweetSearchContractAddress")),9,Hd),g("a",{href:`https://x.com/search?q=$${null==(a=x(Ge))?void 0:a.symbol}`,target:"_blank",class:"text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-tab-active]"},k(e.$t("tweetSearchContractAddress2")),9,Od),g("a",{href:`https://www.google.com/search?q=${null==(t=x(Ge))?void 0:t.symbol}&tbm=nws`,target:"_blank",class:"text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-tab-active]"},k(e.$t("tweetSearchContractAddress3")),9,jd),g("span",{class:"text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-tab-active] cursor-pointer",onClick:fl},k(e.$t("tweetSearchContractAddress4")),1)])]})),_:1}),x(Qe)&&(null==(B=null==(I=vl(x(Qe)))?void 0:I.normal_tag)?void 0:B.length)>0?(h(!0),C(A,{key:3},S(null==(E=vl(x(Qe)))?void 0:E.normal_tag,((l,a)=>(h(),C("div",{key:a,class:"bg-btn flex h-16px tag-btn"},[O((h(),p(Nl,{class:"token-icon-tag cursor-pointer h-100% max-w-16px",src:x(_e)(l.tag),lazy:""},{error:b((()=>n[14]||(n[14]=[g("img",{class:"token-icon-tag h-16px",src:Cn},null,-1)]))),placeholder:b((()=>n[15]||(n[15]=[g("img",{class:"token-icon-tag h-16px",src:Cn},null,-1)]))),_:2},1032,["src"])),[[Pl,e.$t(`${l.tag}`)]]),(null==l?void 0:l.showText)?(h(),C("span",{key:0,style:$({color:"green"==(null==l?void 0:l.color)?x(ye)[0]:x(we)[0]}),class:"text-10px mr-4px"},k(e.$t(null==l?void 0:l.tag)),5)):f("",!0)])))),128)):f("",!0),(null==(U=x(Ge))?void 0:U.launchpad)?O((h(),C("img",{key:4,class:"rounded-100% bg-btn cursor-pointer",src:x(_e)(x(Ge).launchpad),alt:"",width:12,style:{"border-radius":"100%"}},null,8,zd)),[[Pl,x(Ge).launchpad]]):f("",!0),(null==(j=x(te))?void 0:j.headline)||(null==(z=x(te))?void 0:z.summary)?O((h(),C("a",Wd,[y(Fl,{name:"custom:ai",class:"text-14px"})])),[[Pl,{content:`<div class='max-w-[400px]'>${x(te).headline||x(te).summary}</div>`,props:{placement:"top-start"}},void 0,{raw:!0}]]):f("",!0)]),y(kd),x(t)?(h(),p(Ll,{key:0,visible:x(P),"onUpdate:visible":n[6]||(n[6]=e=>D(P)?P.value=e:null),placement:"bottom","popper-class":"chains-table-filter",title:"",width:200,trigger:"click"},{reference:b((()=>[g("a",{class:"w-zu flex-start bg-btn",href:"",onClick:n[2]||(n[2]=L((()=>{}),["stop","prevent"]))},[y(Fl,{class:"text-[--third-text] text-12px",name:"custom:groups"}),g("span",qd,k(x(al)),1)])])),default:b((()=>[g("div",Yd,[g("span",null,k(e.$t("editGroup")),1),g("div",Gd,[y(Dl,{modelValue:x(R),"onUpdate:modelValue":n[3]||(n[3]=e=>D(R)?R.value=e:null),class:"select3",placeholder:e.$t("pleaseSelectGroup"),teleported:!1},{default:b((()=>[y(Vl,{label:e.$t("defaultGroup"),value:0},null,8,["label"]),(h(!0),C(A,null,S(x(Z),(e=>(h(),p(Vl,{key:e.group_id,label:e.name,value:e.group_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])]),g("div",Qd,[(h(),p(Ml,{key:x(o).theme,class:"flex-1",size:"default",style:{height:"30px","min-width":"70px","--el-button-font-weight":"400"},color:"var(--border)",onClick:n[4]||(n[4]=L((e=>cl()),["stop"]))},{default:b((()=>[T(k(e.$t("cancel")),1)])),_:1})),O((h(),p(Ml,{class:"flex-1",size:"default",style:{height:"30px","min-width":"70px","--el-button-font-weight":"400"},type:"primary",onClick:n[5]||(n[5]=L((e=>dl(x(R))),["stop"]))},{default:b((()=>[T(k(e.$t("confirm")),1)])),_:1})),[[El,x(K)]])])])])),_:1},8,["visible"])):f("",!0),x(t)?(h(),p(Ll,{key:1,visible:x(J),"onUpdate:visible":n[11]||(n[11]=e=>D(J)?J.value=e:null),placement:"bottom","popper-class":"chains-table-filter",title:"",width:200,trigger:"click"},{reference:b((()=>[g("a",{class:"w-zu flex-start bg-btn",href:"",onClick:n[7]||(n[7]=L((()=>{}),["stop","prevent"]))},[y(Fl,{class:"text-[--third-text] text-12px",name:"custom:remark"}),g("span",Kd,k(x(ae)),1)])])),default:b((()=>[g("div",Zd,[g("span",null,k(e.$t("editRemark")),1),g("div",Xd,[y(Bl,{modelValue:x(ne),"onUpdate:modelValue":n[8]||(n[8]=e=>D(ne)?ne.value=e:null),modelModifiers:{trim:!0},placeholder:x(ae),clearable:""},null,8,["modelValue","placeholder"])]),g("div",Jd,[(h(),p(Ml,{key:x(o).theme,class:"flex-1",size:"default",style:{height:"30px","min-width":"70px","margin-left":"auto","--el-button-font-weight":"400"},color:"var(--border)",onClick:n[9]||(n[9]=L((e=>cl()),["stop"]))},{default:b((()=>[T(k(e.$t("cancel")),1)])),_:1})),y(Ml,{class:"flex-1",size:"default",type:"primary",style:{height:"30px","min-width":"70px","--el-button-font-weight":"400"},onClick:n[10]||(n[10]=L((e=>function(e,l){if(je.value)return(null==l?void 0:l.length)>50?oe.error(s("maximum10characters")):void Ve(e,l,je.value).then((()=>{oe.success(s("success")),ae.value=l,J.value=!1,Be.emit()})).catch((e=>{oe.error(s("fail"))})).finally((()=>{}));Ie()}(x(Ye),x(ne))),["stop"]))},{default:b((()=>[T(k(e.$t("confirm")),1)])),_:1})])])])),_:1},8,["visible"])):f("",!0)]),g("div",ec,["0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"!==(null==(W=x(Ge))?void 0:W.token)?(h(),C("a",{key:0,class:"hover:color-[--main-text] leading-12px font-500",href:x(ee)(null==(q=x(Ge))?void 0:q.chain,null==(Y=x(Ge))?void 0:Y.token),target:"_blank"},k(null==(Q=null==(G=x(Ge))?void 0:G.token)?void 0:Q.replace(new RegExp("(.{4})(.+)(.{4}$)"),"$1...$3")),9,lc)):f("",!0),g("span",ac,[O(y(Fl,{name:"bxs:copy",class:"ml-5px clickable"},null,512),[[Ul,null==(ie=x(Ge))?void 0:ie.token]])]),x(Qe)?O((h(),C("span",tc,[T(k(("formatTimeFromNow"in e?e.formatTimeFromNow:x(Se))(null==(re=x(Qe))?void 0:re.created_at,!1,!0)),1)])),[[Pl,x(le)(null==(ue=x(Qe))?void 0:ue.created_at)]]):f("",!0),((null==(de=x(el))?void 0:de.buy_tax)??0)>0||((null==(ve=x(el))?void 0:ve.sell_tax)??0)>0?(h(),C("div",nc,[g("span",null,k(e.$t("tax"))+":",1),((null==(me=x(el))?void 0:me.buy_tax)??0)>0?(h(),C("span",{key:0,class:"text-12px tax-text",style:$({color:x(ye)[0]})},k(x(X)((null==(pe=x(el))?void 0:pe.buy_tax)||0,1))+"% ",5)):f("",!0),((null==(fe=x(el))?void 0:fe.sell_tax)??0)>0?(h(),C("span",{key:1,class:"text-12px tax-text ml-4px",style:$({color:x(we)[0]})},k(x(X)((null==(xe=x(el))?void 0:xe.sell_tax)||0,1))+"% ",5)):f("",!0)])):f("",!0),x(Qe)&&(null==($e=null==(he=vl(x(Qe)))?void 0:he.signal_arr)?void 0:$e.length)>0?(h(!0),C(A,{key:3},S(null==(Le=null==(Fe=vl(x(Qe)))?void 0:Fe.signal_arr)?void 0:Le.slice(0,3),((l,a)=>{var t,o,s,i,r,u;return O((h(),C("div",{key:a,class:"flex bg-btn signal pointer mr-4px text-10px"},[y(Nl,{class:"token-icon-signal-tag h-10px",src:x(_e)(l.tag),lazy:""},{error:b((()=>n[16]||(n[16]=[g("img",{class:"token-icon-signal-tag h-16px",src:Cn},null,-1)]))),placeholder:b((()=>n[17]||(n[17]=[g("img",{class:"token-icon-signal-tag h-16px",src:Cn},null,-1)]))),_:2},1032,["src"]),"smarter_buy"!=(null==l?void 0:l.tag)&&"smarter_sell"!=(null==l?void 0:l.tag)||!(((null==(t=x(Qe))?void 0:t.smart_money_buy_count_24h)??0)>0||(null==(o=x(Qe))?void 0:o.smart_money_sell_count_24h))?f("",!0):(h(),C("div",oc,[g("span",{style:$({color:((null==(s=x(Qe))?void 0:s.smart_money_buy_count_24h)??0)>0?x(ye)[0]:""})},k(x(X)((null==(i=x(Qe))?void 0:i.smart_money_buy_count_24h)||0,0)),5),n[18]||(n[18]=T("/")),g("span",{style:$({color:((null==(r=x(Qe))?void 0:r.smart_money_sell_count_24h)??0)>0?x(we)[0]:""})},k(x(X)((null==(u=x(Qe))?void 0:u.smart_money_sell_count_24h)||0,0)),5)])),g("span",{class:"ml-2px",style:$({color:"green"==l.color?x(ye)[0]:x(we)[0]})},[l.tag?(h(),C(A,{key:0},[new RegExp("_buy.*$","gi").test(l.tag)?(h(),C(A,{key:0},[T(k(e.$t("buy")),1)],64)):new RegExp("_sell.*$","gi").test(l.tag)?(h(),C(A,{key:1},[T(k(e.$t("sell")),1)],64)):(h(),C(A,{key:2},[T(k(e.$t(l.tag)),1)],64))],64)):f("",!0)],4)])),[[Pl,x(Ne)(l)+("smarter_buy"==l.tag||"smarter_sell"==l.tag?`（${e.$t("amountU")}>$10)`:"")]])})),128)):f("",!0),x(Qe)&&-1==(null==(Me=null==(De=vl(x(Qe)))?void 0:De.signal_arr)?void 0:Me.findIndex((e=>"smarter_buy"===(null==e?void 0:e.tag))))&&-1==(null==(Ee=null==(Pe=vl(x(Qe)))?void 0:Pe.signal_arr)?void 0:Ee.findIndex((e=>"smarter_sell"==(null==e?void 0:e.tag))))&&(((null==(Re=x(Qe))?void 0:Re.smart_money_buy_count_24h)??0)>0||((null==(He=x(Qe))?void 0:He.smart_money_sell_count_24h)??0)>0)?O((h(),C("div",sc,[y(Fl,{class:"text-[--third-text] h-12px w-12px mr-2px",name:"custom:smart"}),g("span",ic,k(e.$t("smarter")),1),g("span",{style:$({color:((null==(Oe=x(Qe))?void 0:Oe.smart_money_buy_count_24h)??0)>0?x(ye)[0]:"var(--custom-text-3-color)"})},k(x(X)((null==(tl=x(Qe))?void 0:tl.smart_money_buy_count_24h)||0,0)),5),n[19]||(n[19]=T("/")),g("span",{style:$({color:((null==(nl=x(Qe))?void 0:nl.smart_money_sell_count_24h)??0)>0?x(we)[0]:"var(--custom-text-3-color)"})},k(x(X)((null==(ol=x(Qe))?void 0:ol.smart_money_sell_count_24h)||0,0)),5)])),[[Pl,x(Ne)({smart_money_buy_count_24h:(null==(il=x(Qe))?void 0:il.smart_money_buy_count_24h)||0,smart_money_sell_count_24h:(null==(ul=x(Qe))?void 0:ul.smart_money_sell_count_24h)||0})]]):f("",!0),y(Po),y(Ll,{width:"120px","popper-class":"[--el-popover-bg-color:--border] !min-w-[120px]"},{reference:b((()=>{var e,l;return[g("span",rc,[(h(),C("svg",uc,[g("path",{fill:(null==(e=x(ce))?void 0:e.total_tokens)?"#F6465D":"#5A5E64",d:"M8.04273 10H1.94948C1.80865 10 1.69463 9.87378 1.69463 9.71787V8.05005H8.29757V9.71914C8.29648 9.87378 8.18246 10 8.04273 10ZM1.69463 7.43178V6.31448C0.714308 6.05962 0 5.07978 0 3.94159C0 2.59556 0.988135 1.50067 2.20322 1.50067C2.44801 1.50067 2.69172 1.54645 2.91975 1.63308C3.22493 0.669309 4.05656 1.3726e-10 4.99999 1.3726e-10C5.94342 -1.10678e-05 6.77507 0.66932 7.08025 1.63308C7.30942 1.54645 7.55198 1.50067 7.79678 1.50067C9.01187 1.50067 10 2.59556 10 3.94159C10 5.07978 9.2857 6.05842 8.30536 6.31448V7.43178H1.69463Z"},null,8,dc)])),g("span",cc,k(null==(l=x(ce))?void 0:l.total_tokens),1)])]})),default:b((()=>{var l;return[g("div",vc,[g("span",mc,[g("span",null,"Dev"+k(e.$t("migrated")),1),g("span",pc,k(x(ce).total_migrated),1)]),g("span",fc,[g("span",null,"Dev"+k(e.$t("totalTokens")),1),g("span",xc,k(x(ce).total_tokens),1)]),g("div",hc,[g("span",null,k(e.$t("migrationRate")),1),g("span",bc,k((null==(l=x(ce))?void 0:l.total_tokens)?((x(ce).total_migrated??0)/x(ce).total_tokens*100).toFixed(2):0)+"% ",1)]),g("span",{class:"flex items-center justify-between clickable text-12px py-4px px-8px color-[--third-text] hover:bg-[--dialog-tab-active]",onClick:Ue},[g("span",null,k(e.$t("viewDevTokens")),1)])])]})),_:1})])])]),n[21]||(n[21]=g("div",{class:"flex-1"},null,-1)),g("div",gc,[g("span",kc," $"+k(x(X)(x(Ke)||0,{decimals:4,limit:6})),1),g("span",{class:V(["block mt-4px",x(Ze)>0?`color-${x(ye)[0]}`:`color-${x(we)[0]}`])},k(x(Ze)>0?"+":"")+k(x(X)(x(Ze),{decimals:2,limit:10}))+"%",3)]),((null==(ml=x(Qe))?void 0:ml.progress)??0)>0&&((null==(xl=x(Qe))?void 0:xl.progress)??0)<100?(h(),C("div",_c,[g("span",null,k(e.$t("progress")),1),g("span",yc,k(x(X)((null==(hl=x(Qe))?void 0:hl.progress)||0,2))+"%",1)])):f("",!0),g("div",wc,[g("span",null,k(e.$t("mcap")),1),g("span",Tc,"$"+k(x(X)(x(Xe),2)),1)]),g("div",Cc,[g("span",null,k(e.$t("24Volume")),1),g("span",Ac,"$"+k(x(X)(x(Je),2)),1)]),g("div",Sc,[g("span",null,k(e.$t("holders")),1),g("span",Nc,k(x(X)((null==(bl=x(Ge))?void 0:bl.holders)||0,{limit:10})),1)]),g("div",$c,[n[20]||(n[20]=g("span",null,"DEV",-1)),g("span",{class:"block mt-8px color-[--main-text]",style:$({color:100*Number((null==(gl=x(Ge))?void 0:gl.dev_balance_ratio_cur)||0)<.1?"var(--third-text)":100*((null==(kl=x(Ge))?void 0:kl.dev_balance_ratio_cur)??0)>10?"#FFA622":""})},k(((null==(_l=x(Ge))?void 0:_l.dev_balance_ratio_cur)??0)>0&&100*((null==(yl=x(Ge))?void 0:yl.dev_balance_ratio_cur)??0)<.1?"<0.1":x(X)(100*((null==(wl=x(Ge))?void 0:wl.dev_balance_ratio_cur)??0),2))+"%",5)]),g("div",{class:"item ml-24px cursor-pointer",onClick:n[13]||(n[13]=e=>se.value=!x(se))},[g("span",Fc,[T(k(e.$t("audit1"))+" ",1),y(Fl,{name:"material-symbols:arrow-forward-ios-rounded",class:"text-12px"})]),g("div",Ic,[-1==(null==(Tl=x(Ge))?void 0:Tl.risk_level)||((null==(Cl=x(Ge))?void 0:Cl.risk_score)??0)>=60||x(ze)>0?(h(),C("img",Lc)):x(We)>0?(h(),C("img",Vc)):x(ze)||x(We)||x(qe)?(h(),C("img",Mc)):(h(),C("img",Dc)),x(ze)||x(We)||x(qe)?(h(),C("span",{key:4,class:"ml-5px",style:$([{"font-weight":"600"},{color:(Rl=x(Ge),-1==((null==Rl?void 0:Rl.risk_level)??0)||((null==Rl?void 0:Rl.risk_score)??0)>=60||(null==ze?void 0:ze.value)>0?"#e74e54":We?"#f8be46":ze||We||qe?"#507eef":"#81c54e")}])},k(x(ze)||x(We)||x(qe)||""),5)):f("",!0)]),y(ud,{modelValue:x(se),"onUpdate:modelValue":n[12]||(n[12]=e=>D(se)?se.value=e:null)},null,8,["modelValue"])])])],64);var Rl}}}),[["__scopeId","data-v-54f33192"]]),Pc={class:"tabs"},Ec=["onClick"],Uc={class:"name"},Rc=B(s({__name:"priceTabs",props:{modelValue:{},tabs:{}},emits:["update:modelValue"],setup(e,{emit:l}){const a=l,t=W(),n=e=>{var l;const a=null==(l=t.pair)?void 0:l[`price_change_${e}`];return a?a>0?"#12B886":a<0?"#F6465D":"#999":"#999"};return(e,l)=>(h(),C("div",Pc,[(h(!0),C(A,null,S(e.tabs,(l=>{var o;return h(),C("button",{key:l.id,class:V(["tab-button clickable-btn",{active:e.modelValue===l.id}]),onClick:e=>a("update:modelValue",l.id)},[g("div",Uc,k(l.name),1),g("div",{class:"value",style:$({color:n(l.id)})},k(x(t).pair?x(X)(null==(o=x(t).pair)?void 0:o[`price_change_${null==l?void 0:l.id}`],2):"--")+"% ",5)],10,Ec)})),128))]))}}),[["__scopeId","data-v-decbaa6f"]]),Hc={class:"min-h-400px"},Oc={class:"card-list-item"},jc=["href"],zc={key:0,style:{height:"15px"},src:Yo,alt:"",srcset:""},Wc={class:"color-[--third-text]"},qc={key:0,class:"table-lock"},Yc=B(s({__name:"lpHolders",props:{type:{type:String,default:"token"},onlyList:{type:Boolean,default:!0}},setup(e){const l=W(),a=r(),t=u(null),n=d((()=>{var e;const t=c(a.params.id);return(null==t?void 0:t.chain)||(null==(e=l.token)?void 0:e.chain)||""})),o=d((()=>{var e;return(null==(e=l.tokenInfoExtra)?void 0:e.pair_holders)||0}));function s(e){return(null==e?void 0:e.lock)||/lock|null|(black hole)/gi.test((null==e?void 0:e.mark)||"")}function i(){const e=a.params.id;Hn(e).then((e=>{t.value=e}))}return m((()=>a.params.id),(()=>{i()})),v((()=>{i()})),(e,l)=>{const a=yn,i=w;return h(),C("ul",Hc,[g("li",Oc,[g("span",null,k(e.$t("holders2"))+k(x(o)?`(${x(o)})`:""),1),g("span",null,k(e.$t("details")),1)]),(h(!0),C(A,null,S(x(t)||[],((t,o)=>{var r,u,d;return h(),C(A,{key:o},[g("li",{class:V(["card-list-item",{"bg-warning":1===Number(null==t?void 0:t.analysis_show_warning)}])},[g("a",{href:("formatExplorerUrl"in e?e.formatExplorerUrl:x(ee))(x(n)||"",t.address||"","address"),target:"_blank",class:"flex items-center"},[g("span",null,k(o+1)+".",1),1===Number(null==t?void 0:t.analysis_show_creator)?(h(),p(a,{key:0,type:"primary",round:"",size:"small",class:"mr-3px"},{default:b((()=>[T(k(e.$t("contractCreator")),1)])),_:1})):f("",!0),s(t)?(h(),C(A,{key:1},[(null==t?void 0:t.lock)&&(null==(r=null==t?void 0:t.lock)?void 0:r.length)>0&&(null==(d=null==(u=null==t?void 0:t.lock)?void 0:u.every)?void 0:d.call(u,(e=>1e3*e.unlockDate<=Date.now())))?(h(),C("img",zc)):(h(),p(i,{key:1,class:"text-14px",color:"#B3920E",name:"material-symbols-light:lock"}))],64)):f("",!0),1===(null==t?void 0:t.is_contract)?(h(),p(i,{key:2,name:"custom:contract",class:"mr-2px text-12px"})):f("",!0),t.mark?(h(),C(A,{key:4},[T(k(t.mark),1)],64)):(h(),C(A,{key:3},[T(k((t.address||"").slice(0,2)+"..."+(t.address||"").slice(-4)),1)],64)),t.lock&&t.lock.length>0&&t.lock.every((e=>1e3*e.unlockDate<=Date.now()))?(h(),C(A,{key:5},[l[0]||(l[0]=g("br",null,null,-1)),T(" "+k(e.$t("unlocked")),1)],64)):f("",!0)],8,jc),g("div",null,[T(k(x(X)(t.quantity||0,2))+" ",1),g("span",Wc,"("+k(x(X)(t.percent||0,2))+"%)",1)])],2),t.lock&&t.lock.length>0?(h(),C("table",qc,[g("thead",null,[g("tr",null,[g("th",null,k(e.$t("amount")),1),g("th",null,k(e.$t("lockDate")),1),g("th",null,k(e.$t("unlockDateStart")),1),g("th",null,k(e.$t("unlockDateEnd")),1)])]),g("tbody",null,[(h(!0),C(A,null,S(t.lock,((l,a)=>(h(),C("tr",{key:a,style:$({color:1e3*l.unlockDate<=Date.now()?"#FF9F00":""})},[g("td",null,k(x(X)(l.amount||0,2)),1),g("td",null,k(("formatDate"in e?e.formatDate:x(le))(l.lockDate,"YYYY-MM-DD")),1),g("td",null,k(("formatDate"in e?e.formatDate:x(le))(l.unlockDate,"YYYY-MM-DD")),1),g("td",null,k(("formatDate"in e?e.formatDate:x(le))(l.vesting_end||l.unlockDate,"YYYY-MM-DD")),1)],4)))),128))])])):f("",!0)],64)})),128))])}}}),[["__scopeId","data-v-ec8e3059"]]),Gc={class:"pairs-table"},Qc={class:"main flex justify-start items-center"},Kc={class:"main"},Zc={class:"minor"},Xc={class:"text-right"},Jc=["innerHTML"],ev=["innerHTML"],lv=["onClick"],av={class:"main flex justify-start items-center"},tv={class:"main"},nv={class:"minor"},ov={class:"minor"},sv={class:"text-right"},iv={class:"flex items-center justify-end"},rv=["href"],uv=["src"],dv={key:1,class:"inline-flex"},cv=["src"],vv={class:"font-400 text-12px lh-16px flex flex-col gap-4px text-center"},mv={class:"flex items-center justify-center px-10px py-4px"},pv={key:1,class:"inline-flex"},fv=["src"],xv={class:"text-[--secondary-text]"},hv=["href"],bv=["onClick"],gv=["innerHTML"],kv=["innerHTML"],_v={class:"flex items-center justify-end"},yv={key:0,class:"main"},wv={key:1,class:"main"},Tv={key:0,class:"collapse-button"},Cv=B(s({__name:"pairs",props:{isInModal:{type:Boolean,default:!1},search:{type:String,default:""}},emits:["openFilterModal"],setup(e,{emit:l}){const a=l,t=e,n=W(),o=u(!1),s=d((()=>{var e;return 100*((null==(e=null==n?void 0:n.tokenInfoExtra)?void 0:e.pair_lock_percent)||0)||0})),i=u(!1),r=d((()=>{var e;return null==(e=n.pairs)?void 0:e.map((e=>{var l;return{...e,ammName:"unknown"===e.amm?e.amm:(null==(l=Pe(e.chain,e.amm))?void 0:l.show_name)||e.amm,isUp:e.target_token===e.token0_address?new Be(e.reserve1).gt(e.init_reserve1):new Be(e.reserve0).gt(e.init_reserve0)}})).filter((e=>!t.isInModal||("unknown"===t.search?"unknown"===e.amm:e.ammName===t.search)))})),c=d((()=>n.tokenAllPair));return(l,t)=>{var u,d,v,m,_;const $=w,F=Qn,I=N,B=M,P=Ue,E=H("tooltip");return h(),C(A,null,[g("table",Gc,[g("thead",null,[g("tr",null,[g("th",null,k(l.$t("liquidityPair")),1),g("th",null,k(l.$t("amount"))+"/"+k(l.$t("initial")),1),g("th",null,k(l.$t("price"))+"/"+k(l.$t("poolCirculatingSupply")),1)])]),g("tbody",null,[x(c)?(h(),C("tr",{key:0,class:V({active:x(n).selectedToken}),onClick:t[0]||(t[0]=L((e=>x(n).switchPair(!0)),["stop"]))},[g("td",null,[g("div",Qc,[g("span",null,k((null==(u=x(c))?void 0:u.symbol)||""),1),O(y($,{name:"solar:dollar-bold",class:"color-#FFA622 text-14px ml-4px"},null,512),[[E,{content:l.$t("allPairsTips"),props:{placement:"top-start","popper-class":"max-w-250px","arrow-offset":"12"}}]])]),t[4]||(t[4]=g("div",{class:"minor"},"[All Pools]",-1))]),g("td",null,[g("div",Kc,k(x(X)((null==(d=x(c))?void 0:d.reserve)||0,2)),1),g("div",Zc,[t[5]||(t[5]=T("/")),x(c).init_reserve?(h(),C(A,{key:0},[T(k(x(X)(x(c).init_reserve||0,2)),1)],64)):(h(),C(A,{key:1},[T("--")],64))])]),g("td",null,[g("div",Xc,[g("div",{class:"main",innerHTML:"$"+x(X)(x(c).price||0,2)},null,8,Jc),g("div",{class:"main",innerHTML:"$"+x(X)(x(c).reserveU||0,2)},null,8,ev)])])],2)):f("",!0),(h(!0),C(A,null,S((x(o)?x(r):null==(m=null==(v=x(r))?void 0:v.slice)?void 0:m.call(v,0,e.isInModal?void 0:1))||[],((o,r)=>(h(),C("tr",{key:o.pair,class:V({active:!(x(n).pairAddress!==o.pair||x(n).selectedToken&&x(c))}),onClick:L((e=>x(n).switchPair(o.pair)),["stop"])},[g("td",null,[g("div",av,[g("span",null,k(o.target_token===o.token0_address?o.token0_symbol:o.token1_symbol),1),0===r&&x(s)>0?(h(),p(F,{key:0,class:"progress clickable",type:"circle",percentage:x(s),color:"#12B886",width:16,"stroke-width":1.5,indeterminate:"",onClick:t[1]||(t[1]=L((e=>i.value=!0),["stop","prevent"]))},{default:b((()=>[y($,{class:"text-10px color-[--third-text]",name:"material-symbols:lock"})])),_:1},8,["percentage"])):f("",!0)]),y(I,{class:"main",to:"/token/"+(o.target_token===o.token0_address?o.token1_address:o.token0_address)+"-"+o.chain},{default:b((()=>[T(k(o.target_token===o.token0_address?o.token1_symbol:o.token0_symbol),1)])),_:2},1032,["to"]),o.is_fake?O((h(),p($,{key:0,name:"ri:error-warning-line",class:"ml-3px color-#ffbb19 relative top-2px"},null,512)),[[E,l.$t("phoneyPool")]]):f("",!0)]),g("td",null,[g("span",tv,k(x(X)((o.target_token===o.token0_address?o.reserve0:o.reserve1)||0,2)),1),g("span",nv,[t[6]||(t[6]=T("/")),o.init_reserve0||o.init_reserve1?(h(),C(A,{key:0},[T(k(x(X)((o.target_token===o.token0_address?o.init_reserve0:o.init_reserve1)||0,2)),1)],64)):(h(),C(A,{key:1},[T("--")],64))]),t[8]||(t[8]=g("br",null,null,-1)),o.target_token===o.token0_address?(h(),C("span",{key:0,class:V(["main",o.isUp?"green":"red"])},k(x(X)(o.reserve1||0,2)),3)):(h(),C("span",{key:1,class:V(["main",["main",o.isUp?"green":"red"]])},k(x(X)(o.reserve0||0,2)),3)),g("span",ov,[t[7]||(t[7]=T("/")),o.init_reserve0||o.init_reserve1?(h(),C(A,{key:0},[T(k(x(X)((o.target_token===o.token0_address?o.init_reserve1:o.init_reserve0)||0,2)),1)],64)):(h(),C(A,{key:1},[T("--")],64))])]),g("td",null,[g("div",sv,[g("div",iv,[e.isInModal?(h(),C(A,{key:0},["unknown"===o.amm?O((h(),p($,{key:0,name:"tdesign:help-circle-filled",class:"mr-5px color-#848E9C text-20px"},null,512)),[[E,o.amm]]):O((h(),C("a",{key:1,href:o.swap_url+o.target_token,target:"_blank",class:"inline-flex"},[g("img",{class:"rounded-50% mr-5px h-16px w-16px",src:x(Ee)(o.amm),onerror:"this.src='/icon-default.png'",height:"16"},null,8,uv)],8,rv)),[[E,o.ammName]])],64)):(h(),p(B,{key:1,"popper-class":"[--el-popover-bg-color:--border] [--el-popover-padding:4px_0!important]","popper-style":"width: auto;min-width: 104px;",placement:"bottom",trigger:"hover"},{reference:b((()=>["unknown"===o.amm?(h(),p($,{key:0,name:"tdesign:help-circle-filled",class:"mr-5px color-#848E9C text-20px"})):(h(),C("div",dv,[g("img",{class:"rounded-50% mr-5px h-16px w-16px",src:x(Ee)(o.amm),onerror:"this.src='/icon-default.png'",height:"16"},null,8,cv)]))])),default:b((()=>[g("div",vv,[g("div",mv,["unknown"===o.amm?(h(),p($,{key:0,name:"tdesign:help-circle-filled",class:"mr-5px color-#848E9C text-20px"})):(h(),C("div",pv,[g("img",{class:"rounded-50% mr-5px h-16px w-16px",src:x(Ee)(o.amm),onerror:"this.src='/icon-default.png'",height:"16"},null,8,fv)])),g("span",xv,k("unknown"===o.amm?"unknown":o.ammName),1)]),"unknown"!==o.amm&&o.ammName?(h(),C("a",{key:0,href:o.swap_url+o.target_token,target:"_blank",class:"hover:bg-[--dialog-tab-active-bg] px-10px py-4px"},k(l.$t("pairsLink")),9,hv)):f("",!0),g("div",{class:"cursor-pointer hover:bg-[--dialog-tab-active-bg] px-10px py-4px",onClick:L((e=>a("openFilterModal","unknown"===o.amm?"unknown":o.ammName)),["stop","prevent"])},k(l.$t("searchSameAmm")),9,bv)])])),_:2},1024)),o.target_token===o.token0_address?(h(),C("span",{key:2,class:"main",innerHTML:"$"+x(X)(o.token0_price_usd||0,2)},null,8,gv)):(h(),C("span",{key:3,class:"main",innerHTML:"$"+x(X)(o.token1_price_usd||0,2)},null,8,kv))]),g("div",_v,[o.target_token===o.token0_address?(h(),C("span",yv,"$"+k(x(X)(o.reserve1*o.token1_price_usd*2||0,2)),1)):(h(),C("span",wv,"$"+k(x(X)(o.reserve0*o.token0_price_usd*2||0,2)),1))])])])],10,lv)))),128))])]),e.isInModal?f("",!0):(h(),C(A,{key:0},[((null==(_=x(r))?void 0:_.length)||0)>1?(h(),C("div",Tv,[g("button",{onClick:t[2]||(t[2]=L((e=>o.value=!x(o)),["stop","prevent"]))},[y($,{name:"solar:alt-arrow-down-line-duotone",class:V([x(o)?"collapse":"expand","text-20px font-bold color-[--third-text]"])},null,8,["class"])])])):f("",!0)],64)),y(P,{modelValue:x(i),"onUpdate:modelValue":t[3]||(t[3]=e=>D(i)?i.value=e:null),width:"600px",title:"LP "+l.$t("holdersDetail"),"append-to-body":""},{default:b((()=>[y(Yc)])),_:1},8,["modelValue","title"])],64)}}}),[["__scopeId","data-v-47c0b614"]]),Av={key:0,class:"flex-between mr-15px"},Sv={class:"tabHeader text-14px py-12px flex flex-row gap-2 color-[--third-text]"},Nv=["onClick"],$v={key:0},Fv={key:0,class:"tabs"},Iv=["onClick"],Lv={key:1,class:"mr-15px overflow-x-hidden"},Vv={class:"flex justify-between mb-12px"},Dv={class:"color-[--third-text]"},Mv={key:0,class:"flex justify-between mb-12px"},Bv={class:"color-[--third-text]"},Pv={class:"flex items-center justify-end color-[--secondary-text]"},Ev=["href"],Uv={key:1,class:"flex justify-between mb-12px"},Rv={class:"color-[--third-text]"},Hv={class:"flex items-center justify-end color-[--secondary-text]"},Ov=["href"],jv={key:2,class:"flex justify-between mb-12px"},zv={class:"color-[--third-text]"},Wv={class:"color-[--secondary-text]"},qv={key:3,class:"flex justify-between mb-12px"},Yv={class:"color-[--third-text]"},Gv={class:"flex items-center justify-end color-[--secondary-text]"},Qv=["href"],Kv={key:4,class:"flex justify-between mb-12px"},Zv={class:"color-[--third-text]"},Xv={class:"flex items-center justify-end color-[--secondary-text]"},Jv=["href"],em={class:"flex justify-between mb-12px"},lm={class:"color-[--third-text]"},am={class:"color-[--secondary-text]"},tm={class:"flex justify-between mb-12px"},nm={class:"color-[--third-text]"},om={class:"color-[--secondary-text]"},sm={class:"flex justify-between mb-12px"},im={class:"color-[--third-text]"},rm={class:"color-[--secondary-text]"},um={key:5,class:"flex justify-between mb-12px"},dm={class:"color-[--third-text]"},cm={class:"color-[--secondary-text]"},vm={key:6,class:"flex justify-between mb-12px"},mm={class:"color-[--third-text]"},pm={class:"color-[--secondary-text]"},fm={key:0,class:"text-14px mb-12px color-[--third-text]"},xm={class:"text-12px color-[--secondary-text] token-description"},hm=["innerHTML"],bm={key:1,class:"flex-between color-[--secondary-text] text-center"},gm={class:"text-14px color-[--third-text] flex items-center justify-start mb-12px"},km={class:"text-12px color-[--secondary-text] token-description"},_m=["src"],ym=["src"],wm=B(s({__name:"overview",props:{isRank:{type:Boolean}},setup(e){const l=me("aiSummary"),a=e,{height:t}=Re(),n=a.isRank?On():W(),o=Pn(),s=d((()=>n.pair)),v=d((()=>n.token)),m=d((()=>n.circulation)),p=d((()=>n.tokenInfoExtra)),_=He(),{t:N}=i(),F=U(!1),I=U(0),M=u(a.isRank?"col":"grid"),B=u("info"),P=d((()=>[{id:"info",name:N("tokenInfo")}])),E=[{id:"grid",icon:"grid",name:"grid"},{id:"col",icon:"col",name:"col"}],R=j(),{mode:z}=G(R),q={eth:"ETH",bsc:"BSC",base:"BASE",solana:"SOL",optimism:"OP"};pe(Me.DEV_TOKENS_TAB).on((()=>{B.value="devBit"}));const Y=d((()=>{var e,l,a,t;if(!(null==(e=v.value)?void 0:e.chain))return!1;let n=0;return n+=1,(null==(l=v.value)?void 0:l.token)&&(n+=1),s.value&&(n+=1),(null==(a=v.value)?void 0:a.total)&&(n+=1),(null==(t=o.checkResult)?void 0:t.creator_address)&&(n+=1),ne.value&&(n+=1),n+=1,n+=1,n+=1,s.value&&(n+=1),n<10})),Q=r();d((()=>Q.params.id));const K=u(!1),Z=u(!1),J=d((()=>{var e,l;const a=Q.params.id;return a?c(a):{address:(null==(e=v.value)?void 0:e.token)||"",chain:(null==(l=v.value)?void 0:l.chain)||""}})),ae=d((()=>{var e;return null==(e=J.value)?void 0:e.address})),te=d((()=>{var e;return null==(e=J.value)?void 0:e.chain})),ne=d((()=>{var e,l;return(null==(e=null==o?void 0:o.checkResult)?void 0:e.owner)||(null==(l=v.value)?void 0:l.owner)||""})),oe=d((()=>{var e,l,a;return(null==(e=v.value)?void 0:e.appendix)&&Oe(null==(l=v.value)?void 0:l.appendix)?JSON.parse(null==(a=v.value)?void 0:a.appendix):{}})),se=d((()=>{var e,l,a,t;const n=_.locale;return"zh-cn"==n||"zh-tw"==n?(null==(e=v.value)?void 0:e.intro_cn)||(null==(l=null==oe?void 0:oe.value)?void 0:l.description)||"":(null==(a=v.value)?void 0:a.intro_en)||(null==(t=null==oe?void 0:oe.value)?void 0:t.description)||""})),ie=d((()=>{var e,l;return new Be((null==(e=v.value)?void 0:e.total)||0).minus((null==(l=v.value)?void 0:l.burn_amount_dec)||0).toFixed()})),re=d((()=>{var e;return new Be((null==(e=p.value)?void 0:e.amount_24)||0).div(m.value||0).multipliedBy(100)||0}));function ue(e){return e.slice(0,4)+"..."+e.slice(-4)}const de=d((()=>{var e,a;return((null==(e=null==l?void 0:l.value)?void 0:e.summary)||(null==(a=null==l?void 0:l.value)?void 0:a.headline)||"").match(/(\d\..*)/g)}));return(e,a)=>{var i,r,u,d,c,p,_,N,U,R,j,W,G,Q,J,oe,ce,ve,me,pe,fe,xe,he,be,ge,ke,_e,ye,we,Te,Ce,Ae,Se;const Ne=w,$e=Ue,Fe=H("copy");return h(),C("div",null,[e.isRank?f("",!0):(h(),C("div",Av,[g("div",Sv,[(h(!0),C(A,null,S(x(P),(e=>(h(),C("div",{key:e.id,class:V({on:x(B)==e.id}),onClick:L((l=>B.value=e.id),["stop"])},[T(k(e.name)+" ",1),"devBit"===e.id?(h(),C("span",$v,"("+k(x(I))+")",1)):f("",!0)],10,Nv)))),128))]),"info"==x(B)?(h(),C("div",Fv,[(h(),C(A,null,S(E,(e=>g("span",{key:e.id,class:V(["item",{active:e.id==x(M)}]),onClick:L((l=>M.value=e.id),["stop"])},[y(Ne,{name:`custom:${e.icon}`},null,8,["name"])],10,Iv))),64))])):f("",!0)])),"info"==x(B)?(h(),C("div",Lv,[g("ul",{class:V(["text-12px",{active:"grid"==x(M)}])},[g("li",Vv,[g("span",Dv,k(e.$t("name")),1),g("span",{class:V(["color-[--secondary-text] ellipsis","grid"==x(M)?"max-w-75px":"max-w-200px"])},k((null==(i=x(v))?void 0:i.name)||(null==(r=x(v))?void 0:r.symbol)||"-"),3)]),(null==(u=x(v))?void 0:u.token)?(h(),C("li",Mv,[g("span",Bv,k(e.$t("token")),1),g("div",Pv,[g("a",{class:"clickable color-[--secondary-text] hover:color-[--main-text]",style:{"text-decoration":"none"},href:x(ee)(null==(d=x(v))?void 0:d.chain,null==(c=x(v))?void 0:c.token,"token"),target:"_blank"},k((null==(p=x(v))?void 0:p.token)?ue(null==(_=x(v))?void 0:_.token):"-"),9,Ev),O(y(Ne,{name:"bxs:copy",class:"ml-5px clickable color-[--third-text]"},null,512),[[Fe,null==(N=x(v))?void 0:N.token]])])])):f("",!0),x(s)?(h(),C("li",Uv,[g("span",Rv,k(e.$t("pair")),1),g("div",Hv,[g("a",{class:"clickable color-[--secondary-text] hover:color-[--main-text] text-decoration-none",href:x(ee)(null==(U=x(v))?void 0:U.chain,(null==(R=x(n))?void 0:R.pairAddress)||"","address"),target:"_blank"},k(ue((null==(j=x(n))?void 0:j.pairAddress)||"")),9,Ov),O(y(Ne,{name:"bxs:copy",class:"ml-5px clickable color-[--third-text]"},null,512),[[Fe,null==(W=x(n))?void 0:W.pairAddress]])])])):f("",!0),(null==(G=x(v))?void 0:G.total)?(h(),C("li",jv,[g("span",zv,k(e.$t("mcap")),1),g("span",Wv,"$"+k(("formatNumber"in e?e.formatNumber:x(X))((null==(Q=x(n))?void 0:Q.marketCap)||0,2)),1)])):f("",!0),(null==(J=x(o).checkResult)?void 0:J.creator_address)?(h(),C("li",qv,[g("span",Yv,k(e.$t("contractCreator")),1),g("div",Gv,[g("a",{class:"clickable color-[--secondary-text] hover:color-[--main-text] text-decoration-none",href:x(ee)(null==(oe=x(v))?void 0:oe.chain,x(o).checkResult.creator_address,"address"),target:"_blank"},k(ue((null==(ce=x(o).checkResult)?void 0:ce.creator_address)||"")),9,Qv),O(y(Ne,{name:"bxs:copy",class:"ml-5px clickable color-[--third-text]"},null,512),[[Fe,x(o).checkResult.creator_address||""]])])])):f("",!0),x(ne)?(h(),C("li",Kv,[g("span",Zv,k(e.$t("contractOwner")),1),g("div",Xv,[g("a",{class:"clickable color-[--secondary-text] hover:color-[--main-text] text-decoration-none",href:x(ee)(null==(ve=x(v))?void 0:ve.chain,x(ne),"address"),target:"_blank"},k(ue(x(ne))),9,Jv),O(y(Ne,{name:"bxs:copy",class:"ml-5px clickable color-[--third-text]"},null,512),[[Fe,(null==(pe=null==(me=x(o))?void 0:me.checkResult)?void 0:pe.owner)||(null==(fe=x(v))?void 0:fe.owner)||""]])])])):f("",!0),g("li",em,[g("span",lm,k(e.$t("24Exchange")),1),g("span",am,[(null==(xe=x(m))?void 0:xe.gt(0))?(h(),C(A,{key:0},[T(k(("formatNumber"in e?e.formatNumber:x(X))(x(re).toString()||0,2))+"% ",1)],64)):(h(),C(A,{key:1},[T("-")],64))])]),g("li",tm,[g("span",nm,k(e.$t("totalSupply")),1),g("span",om,k(("formatNumber"in e?e.formatNumber:x(X))(x(ie)||0,2)),1)]),g("li",sm,[g("span",im,k(e.$t("FDV")),1),g("span",rm,"$"+k(("formatNumber"in e?e.formatNumber:x(X))(Number((null==(he=x(v))?void 0:he.total)||0)*((null==(be=x(n))?void 0:be.price)||0))),1)]),x(Y)||"col"==x(M)?(h(),C("li",um,[g("span",dm,k(e.$t("theChain")),1),g("span",cm,k((null==(ge=x(v))?void 0:ge.chain)||"-"),1)])):f("",!0),x(s)?(h(),C("li",vm,[g("span",mm,k(e.$t("createdTime")),1),g("span",pm,k((null==(ke=x(s))?void 0:ke.created_at)?x(le)(null==(_e=x(s))?void 0:_e.created_at):"-"),1)])):f("",!0)],2),!e.isRank&&x(se)?(h(),C("div",{key:0,class:V({bg:"grid"==x(M)})},[x(se)?(h(),C("div",fm,k(e.$t("currencyOverview")),1)):f("",!0),g("div",xm,[g("span",{innerHTML:x(F)?x(se):null==(ye=x(se))?void 0:ye.slice(0,250)},null,8,hm),(null==(we=x(se))?void 0:we.length)>250?(h(),C("button",{key:0,class:"text-12px color-#3F80F7 bg-transparent outline-none border-none clickable",onClick:a[0]||(a[0]=L((e=>F.value=!x(F)),["stop"]))},k(x(F)?e.$t("expand"):e.$t("more")),1)):f("",!0)])],2)):f("",!0),q[x(te)]?(h(),C("div",bm,[g("a",{href:"",class:"bg flex-1 color-[--secondary-text] text-14px",onClick:a[1]||(a[1]=L((e=>Z.value=!0),["stop","prevent"]))},k(e.$t("generateTokenAnalysis")),1),g("a",{href:"",class:"bg flex-1 color-[--secondary-text] text-14px ml-12px",onClick:a[2]||(a[2]=L((e=>K.value=!0),["stop","prevent"]))},k(e.$t("generateScore")),1)])):f("",!0),e.isRank?f("",!0):(h(),C("div",{key:2,class:V([{bg:"grid"==x(M)},"mt-12px"])},[g("div",gm,[y(Ne,{name:"custom:ai",class:"text-12px mr-5px"}),a[5]||(a[5]=T()),g("span",null,k(e.$t("aiSummary")),1)]),g("div",km,[x(de)?(h(!0),C(A,{key:1},S(x(de),(e=>(h(),C("div",{key:e},k(e),1)))),128)):(h(),C(A,{key:0},[T(k((null==(Te=x(l))?void 0:Te.summary)||(null==(Ce=x(l))?void 0:Ce.headline)?(null==(Ae=x(l))?void 0:Ae.summary)||(null==(Se=x(l))?void 0:Se.headline):e.$t("aiIsAnalyzing")),1)],64))])],2)),y($e,{modelValue:x(K),"onUpdate:modelValue":a[3]||(a[3]=e=>D(K)?K.value=e:null),width:"50vw","align-center":"",height:x(t)-350,class:"search-dialog","header-class":"p-0! pl-20px! p-0!",title:e.$t("tokenScore"),"append-to-body":"","lock-scroll":"","destroy-on-close":""},{default:b((()=>[g("iframe",{class:"mt-20px",style:$([{width:"50vw",border:"none"},{height:x(t)-350+"px"}]),src:`https://app.creditlink.info/tokenScore?chain=${q[x(te)]}&address=${x(ae)}&model=${x(z)}&platform=ave.ai`,allow:"clipboard-write"},null,12,_m)])),_:1},8,["modelValue","height","title"]),y($e,{modelValue:x(Z),"onUpdate:modelValue":a[4]||(a[4]=e=>D(Z)?Z.value=e:null),width:"80vw","align-center":"",height:x(t)-350,class:"search-dialog","header-class":"p-0! pl-20px! p-0!",title:e.$t("tokenAnalysis"),"append-to-body":"","lock-scroll":""},{default:b((()=>[g("iframe",{class:"mt-20px",style:$([{width:"80vw",border:"none"},{height:x(t)-350+"px"}]),src:`https://app.creditlink.info/tokenAnalyse?chain=${q[x(te)]}&address=${x(ae)}&model=${x(z)}&platform=ave.ai`,allow:"clipboard-write"},null,12,ym)])),_:1},8,["modelValue","height","title"])])):f("",!0)])}}}),[["__scopeId","data-v-7c1e4530"]]),Tm={solana:"sol",ton:"TON"};function Cm(e=0,l=!1){const a=r(),t=U(!1),o=W(),s=d((()=>o.token)),u=q(),v=je(),{t:p}=i(),f=()=>{var e;const l=null==(e=a.params)?void 0:e.id;return"string"==typeof l?c(l):{address:"",chain:""}},x=e=>{var l,a,t;return null==(t=null==(a=null==(l=u.userInfo)?void 0:l.addresses)?void 0:a.find((l=>(null==l?void 0:l.chain)===e)))?void 0:t.address};function h(e=!1){var l,a;const{token:t,native:n}=o.swap,s=(null==t?void 0:t.address)+"-"+(null==t?void 0:t.chain),i=(null==n?void 0:n.address)+"-"+(null==n?void 0:n.chain),r=(null==(l=o.swap.payToken)?void 0:l.address)+"-"+(null==(a=o.swap.payToken)?void 0:a.chain);return el([s,i,r]).then((async l=>{var a,t,n,s,i,r;if(l){const d=(null==(a=null==l?void 0:l[0])?void 0:a.current_price_usd)||0,c=(null==(t=null==l?void 0:l[1])?void 0:t.current_price_usd)||0,v=(null==(n=null==l?void 0:l[2])?void 0:n.current_price_usd)||0;return o.swap.native.price=c,o.swap.token.price=d,o.swap.payToken.price=v,e&&(null==(i=null==(s=u.userInfo)?void 0:s.addresses)?void 0:i.length)>0&&(u.userInfo.addresses=((null==(r=u.userInfo)?void 0:r.addresses)||[]).map((e=>{var l,a;return(null==e?void 0:e.chain)===(null==(l=o.swap.native)?void 0:l.chain)&&(e.price=c,e.balance=null==(a=o.swap.native)?void 0:a.balance),e}))),l}}))}const b=ze((async()=>{var e,a;const n=f(),i=(null==n?void 0:n.chain)||(null==(e=s.value)?void 0:e.chain),r=(null==n?void 0:n.address)||(null==(a=s.value)?void 0:a.token);if(!r||!i)return;const d=x(i);if(d){if(t.value=!0,l)return u.getUserAllChainBalance(o.swap.token),await We(1e3),void(t.value=!1);qe({chain:i,tokens:[r],walletAddress:d}).then((e=>{const l=e[0];o.swap.token={...o.token,...l,address:l.token||l.address,chain:i}})).finally((()=>{t.value=!1}))}}),500,{leading:!0,trailing:!0}),g=ze((async()=>{var e,a;const n=f(),i=(null==n?void 0:n.chain)||(null==(e=s.value)?void 0:e.chain);if(!((null==n?void 0:n.address)||(null==(a=s.value)?void 0:a.token))||!i)return;const r=x(i);if(r){if(t.value=!0,l)return u.getUserAllChainBalance(o.swap.native),await We(1e3),void(t.value=!1);qe({chain:i,tokens:[Tm[i]||Ye],walletAddress:r}).then((e=>{var l;const a=e[0];o.swap.native={...a,symbol:null==(l=Ge(i))?void 0:l.main_name,chain:i,address:a.token||a.address,decimals:(null==a?void 0:a.decimals)||(null==a?void 0:a.decimal)}})).finally((()=>{t.value=!1}))}}),500,{leading:!0,trailing:!0}),k=ze((async()=>{var e,a;const n=f(),i=(null==n?void 0:n.chain)||(null==(e=s.value)?void 0:e.chain);if(!((null==n?void 0:n.address)||(null==(a=s.value)?void 0:a.token))||!i)return;const r=x(i);if(!r)return;let d=o.swap.payToken;if(d&&(null==d?void 0:d.address)&&(null==d?void 0:d.chain)===i){if(t.value=!0,l)return u.getUserAllChainBalance(o.swap.payToken),await We(1e3),void(t.value=!1);qe({chain:i,tokens:[null==d?void 0:d.address],walletAddress:r}).then((e=>{const l=e[0];o.swap.payToken={...d,...l,address:l.token||l.address}})).finally((()=>{t.value=!1}))}}),500,{leading:!0,trailing:!0});const _=U(!1),y=U(0);async function w(e,l,t=function(){var e;const l=c(a.params.id);return(null==l?void 0:l.chain)||(null==(e=s.value)?void 0:e.chain)||""}()){var n,o,i,r,d;if("evm"!==(null==(n=Ge(t))?void 0:n.vm_type)||e===Ye)return y.value=Ke,Ke;if(!u.accessToken)return y.value="0","0";const v=null==(d=null==(r=null==(i=null==(o=u.userInfo)?void 0:o.addresses)?void 0:i.find)?void 0:r.call(i,(e=>(null==e?void 0:e.chain)===t)))?void 0:d.address;return _.value=!0,Je({inToken:e,outToken:l,chain:t,owner:v||""}).then((async e=>(y.value=1===e?Ke:e,e))).finally((()=>{_.value=!1}))}function T(e){var l;const a={...e,tgUid:null==(l=null==u?void 0:u.userInfo)?void 0:l.tgUid};return Xe(a).then((e=>({result:e,wait:()=>{let e=!1,l=23;const t=(n,o)=>{l-=3,l>0?setTimeout((()=>{e||w(a.inTokenAddress,a.outTokenAddress,a.chain).then((e=>{"0"===e?t(n,o):n(e)}))}),3e3):o("timeout")};return new Promise(((l,n)=>{const o=m((()=>{var e;return null==(e=v.wsResult)?void 0:e.tgbot}),(t=>{var s,i,r,u;t.batchId===a.batchId&&(o(),e=!0,(null==(i=null==(s=null==t?void 0:t.txList)?void 0:s[0])?void 0:i.success)?l(t):n((null==(u=null==(r=null==t?void 0:t.txList)?void 0:r[0])?void 0:u.failMessage)||"approve error"))}));t(l,n)}))}})))}return{loading:t,refreshTokenBalance:(l=!1)=>{1===e?b():l?k():g()},getTokenBalance:function(){var e,l,t,n,s,i,r,d,v,m,p;const f=c((null==(e=a.params)?void 0:e.id)||""),x=(null==f?void 0:f.chain)||(null==(t=null==(l=o.tokenInfo)?void 0:l.token)?void 0:t.chain)||"",b=(null==f?void 0:f.address)||(null==(s=null==(n=o.tokenInfo)?void 0:n.token)?void 0:s.token)||"",g=null==(v=null==(d=null==(r=null==(i=u.userInfo)?void 0:i.addresses)?void 0:r.find)?void 0:d.call(r,(e=>(null==e?void 0:e.chain)===x)))?void 0:v.address;if(!g)return void(o.swap.native={chain:x,symbol:null==(m=Ge(x))?void 0:m.main_name,address:Tm[x]||Ye,decimals:null==(p=Ge(x))?void 0:p.decimals});let k=o.swap.payToken,_=Tm[x]||Ye,y=(null==k?void 0:k.chain)!==x?_:(null==k?void 0:k.address)||Ye;qe({chain:x,tokens:[b,_,y],walletAddress:g}).then((e=>{var l;const a=e[0],t=e[1],n=e[2];o.swap.token={...o.token,...a,address:a.token||a.address,chain:x},o.swap.native={...t,symbol:null==(l=Ge(x))?void 0:l.main_name,chain:x,address:t.token||t.address,decimals:(null==t?void 0:t.decimals)||(null==t?void 0:t.decimal)},o.swap.payToken={...o.swap.payToken,...n,address:n.token||n.address},h(!0),null==u||u.getUserAllChainBalance(o.swap.payToken),null==u||u.getUserAllChainBalance(o.swap.token)}))},getTokensPrice:h,getAllowance:w,loadingAllowance:_,allowance:y,bot_approve:T,checkApproveAndApprove:function(e={}){const l=null==e?void 0:e.chain;return l&&Qe(l)?w(e.inToken||"",e.outToken||"",l).then((l=>{var a;if(0===Number(l)){const l=e.owner||(null==(a=null==u?void 0:u.userInfo)?void 0:a.evmAddress)||"",t={batchId:Date.now().toString(),chain:e.chain||"",inTokenAddress:e.inToken||"",outTokenAddress:e.outToken||"",creatorAddress:[l]};let o=null;return T(t).then((e=>(o=n({icon:Ze("div",{class:"el-loading-spinner",style:"--el-loading-spinner-size: 24px"},[Ze("svg",{viewBox:"0 0 50 50",class:"circular"},[Ze("circle",{class:"path",style:"stroke-width: 3",cx:"25",cy:"25",r:"20",fill:"none"})])]),message:p("approving")+"...",duration:0}),e.wait()))).then((async e=>{var l;return null==(l=null==o?void 0:o.close)||l.call(o),n({type:"success",message:p("approveSuccess")}),e})).catch((e=>{var l;return null==(l=null==o?void 0:o.close)||l.call(o),n({type:"error",message:e}),Promise.reject(e)}))}return Promise.resolve(l)})):Promise.resolve(Ke)},getParsedRoute:f,updateBalanceFromWs:function(e){if(!Qe(e.chain))return;const l=e.chain===o.swap.token.chain,a=e.chain===o.swap.payToken.chain,t=e.chain===o.swap.native.chain;if(l&&e.inTokenAddress===o.swap.token.address&&e.fromAmount){const l=Be(o.swap.token.balance||0).minus(Be(e.fromAmount||0).shiftedBy(-1*(o.swap.token.decimals||0))).toString();o.swap.token.balance=l}if(a&&e.inTokenAddress===o.swap.payToken.address&&e.fromAmount){const l=Be(o.swap.payToken.balance||0).minus(Be(e.fromAmount||0).shiftedBy(-1*(o.swap.payToken.decimals||0))).toString();o.swap.payToken.balance=l}if(t&&e.inTokenAddress===o.swap.native.address&&e.fromAmount){const l=Be(o.swap.native.balance||0).minus(Be(e.fromAmount||0).shiftedBy(-1*(o.swap.native.decimals||0))).toString();o.swap.native.balance=l}if(l&&e.outTokenAddress===o.swap.token.address&&e.outputAmount){const l=Be(o.swap.token.balance||0).plus(Be(e.outputAmount||0).shiftedBy(-1*(o.swap.token.decimals||0))).toString();o.swap.token.balance=l}if(a&&e.outTokenAddress===o.swap.payToken.address&&e.outputAmount){const l=Be(o.swap.payToken.balance||0).plus(Be(e.outputAmount||0).shiftedBy(-1*(o.swap.payToken.decimals||0))).toString();o.swap.payToken.balance=l}if(t&&e.outTokenAddress===o.swap.native.address&&e.outputAmount){const l=Be(o.swap.native.balance||0).plus(Be(e.outputAmount||0).shiftedBy(-1*(o.swap.native.decimals||0))).toString();o.swap.native.balance=l}u.walletList.forEach((l=>{l.evmAddress===u.evmAddress&&l.addresses.forEach((l=>{var a;l.chain===e.chain&&(e.inTokenAddress===Ye?l.balance=Be(l.balance||0).minus(Be(e.fromAmount||0).shiftedBy(-18)).toString():null==(a=null==l?void 0:l.tokenBalances)||a[e.inTokenAddress],e.outTokenAddress===Ye&&(l.balance=Be(l.balance||0).plus(Be(e.outputAmount||0).shiftedBy(-18)).toString()))}))}))}}}const Am=s({__name:"refreshBalance",props:{type:{type:Number,default:0},isPayToken:{type:Boolean,default:!1},isBatch:{type:Boolean,default:!1}},setup(e){const l=e,{loading:a,refreshTokenBalance:t}=Cm(l.type,l.isBatch);return(e,n)=>{const o=to,s=w;return x(a)?(h(),p(o,{key:0,class:"ml-5px text-14px"})):(h(),p(s,{key:1,name:"custom:refresh-left",class:"ml-5px clickable text-14px",onClick:n[0]||(n[0]=L((e=>x(t)(l.isPayToken)),["stop"]))}))}}}),Sm={class:"flex-between h-24px my--2px"},Nm={class:"flex items-center"},$m={class:"font-400 color-#3F80F7 text-14px"},Fm={class:"flex items-center gap-5px"},Im={class:"el-select-dropdown__item text-[--third-text]!"},Lm={class:"flex items-center"},Vm={class:"text-12px color-[--third-text]"},Dm={class:"text-12px color-[--third-text]"},Mm={class:"flex gap-8px items-center text-12px mt-8px"},Bm=["disabled"],Pm=["disabled"],Em=s({__name:"autoSellSet",setup(e){const l=q(),a=ll(),t=r(),n=W(),{t:o}=i(),{loadAutoSellConfigs:s,saveAutoSellConfigs:u}=Mn(),v=d({get(){var e;return null==(e=null==a?void 0:a.autoSellConfigs)?void 0:e["isAutoSellConfig"+a.autoSellConfigs.autoSellConfigName]},set(e){var l;const t=al(a.autoSellConfigs);t&&(t["isAutoSellConfig"+a.autoSellConfigs.autoSellConfigName]=e,!(null==(l=t["autoSellConfig"+a.autoSellConfigs.autoSellConfigName])?void 0:l.length)&&e&&(t.autoSellConfig=[{open:!0,priceChange:1e4,sellRatio:5e3,type:"default"}]),a.autoSellConfigs={...t},e&&(s(),u()))}}),m=d({get(){var e;const l=a.autoSellConfigs,t=null==l?void 0:l["autoSellConfig"+a.autoSellConfigs.autoSellConfigName];return Number(null==t?void 0:t.length)>0&&(null==(e=null==t?void 0:t.map)?void 0:e.call(t,(e=>({open:e.open,priceChange:Math.floor(Math.abs(e.priceChange||0)/100)||void 0,sellRatio:Math.floor((e.sellRatio||0)/100)||void 0,type:e.type,isUp:e.priceChange?e.priceChange>0:e.isUp||!1}))))||[]},set(e){var l;const t=al(a.autoSellConfigs);t&&(t["autoSellConfig"+a.autoSellConfigs.autoSellConfigName]=(null==(l=null==e?void 0:e.map)?void 0:l.call(e,(e=>({open:e.open,priceChange:e.isUp?100*Number((null==e?void 0:e.priceChange)||0):-100*Number((null==e?void 0:e.priceChange)||0),sellRatio:100*Number(e.sellRatio||0),type:e.type,isUp:e.isUp}))))||[],a.autoSellConfigs={...t})}}),f=d((()=>{var e;return null==(e={0:o("takeProfitAndStopLoss0"),1:o("takeProfitAndStopLoss1"),2:o("takeProfitAndStopLoss2"),3:o("takeProfitAndStopLoss3"),4:o("takeProfitAndStopLoss4"),5:o("takeProfitAndStopLoss5"),6:o("takeProfitAndStopLoss6")})?void 0:e[_.value]})),_=d({get:()=>a.autoSellConfigs.autoSellConfigName||"0",set(e){a.autoSellConfigs.autoSellConfigName="0"===e?"":e}}),T=e=>{["0","1","2","3","4","5","6"].forEach((l=>{var t;l!==e?void 0!==(null==(t=a.autoSellConfigs)?void 0:t["isAutoSellConfig"+("0"===l?"":l)])&&(a.autoSellConfigs["isAutoSellConfig"+("0"===l?"":l)]=!1):a.autoSellConfigs["isAutoSellConfig"+("0"===l?"":l)]=!0})),s(),u()},N=d((()=>[{value:"0",label:o("takeProfitAndStopLoss0")},{value:"1",label:o("takeProfitAndStopLoss1")},{value:"2",label:o("takeProfitAndStopLoss2")},{value:"3",label:o("takeProfitAndStopLoss3")},{value:"4",label:o("takeProfitAndStopLoss4")},{value:"5",label:o("takeProfitAndStopLoss5")},{value:"6",label:o("takeProfitAndStopLoss6")}])),$=d((()=>{var e,l,a;return(null==(l=c(null==(e=t.params)?void 0:e.id))?void 0:l.chain)||(null==(a=n.token)?void 0:a.chain)}));function F(){m.value.push({open:!0,priceChange:void 0,sellRatio:void 0,type:"default",isUp:!0}),V()}function I(){m.value.push({open:!0,priceChange:void 0,sellRatio:void 0,type:"default",isUp:!1}),V()}function V(){m.value=[...m.value],s(),u()}return(e,t)=>{var s,i,r,u,d,c;const M=tl,B=w,P=Tn,E=wn,U=ao,R=H("tooltip");return O((h(),C("div",null,[g("div",Sm,[g("div",Nm,[y(M,{modelValue:x(v),"onUpdate:modelValue":t[0]||(t[0]=e=>D(v)?v.value=e:null),class:"auto-sell-checkbox"},{default:b((()=>[g("span",$m,k(e.$t("advancedTrading")),1)])),_:1},8,["modelValue"]),O(y(B,{name:"material-symbols:help-rounded",class:"text-14px color-[--icon-color] cursor-pointer ml-3px"},null,512),[[R,{content:e.$t("advancedTradingTips"),props:{"popper-class":"max-w-500px"}},void 0,{raw:!0}]])]),g("div",Fm,[O((h(),p(E,{"popper-class":"w-selectAutoSell",modelValue:x(_),"onUpdate:modelValue":t[1]||(t[1]=e=>D(_)?_.value=e:null),placeholder:x(o)("defaultPolicy"),style:{width:"110px"},onChange:T,placement:"bottom-end",persistent:!0,size:"small",disabled:!x(v)},{default:b((()=>[g("li",Im,k(x(o)("defaultPolicy")),1),(h(!0),C(A,null,S(x(N),(e=>(h(),p(P,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder","disabled"])),[[R,x(f)]]),y(Bn,{canSetAuto:!0,isAutoSell:!0,showAutoSell:!0,chain:null==(i=null==(s=x(n).tokenInfo)?void 0:s.token)?void 0:i.chain,setting:null==(r=x(a))?void 0:r.botSettings[x($)]},null,8,["chain","setting"])])]),O(g("ul",null,[(h(!0),C(A,null,S(x(m),((l,a)=>(h(),C("li",{key:a,class:"mt-8px flex items-center gap-4px"},[y(U,{modelValue:l.priceChange,"onUpdate:modelValue":[e=>l.priceChange=e,V],class:"input-number-limit",min:1,controls:!1,placeholder:"--"},{prefix:b((()=>[g("div",Lm,[l.isUp?(h(),p(B,{key:0,name:"ri:arrow-up-long-fill",class:"color-#12B886"})):(h(),p(B,{key:1,name:"ri:arrow-down-long-fill",class:"color-#F6465D"})),g("span",Vm,k(l.isUp?e.$t("rise"):e.$t("fall")),1)])])),suffix:b((()=>t[2]||(t[2]=[g("span",{class:"color-[--third-text]"},"%",-1)]))),_:2},1032,["modelValue","onUpdate:modelValue"]),y(U,{modelValue:l.sellRatio,"onUpdate:modelValue":[e=>l.sellRatio=e,V],class:"input-number-limit",min:1,max:100,controls:!1,placeholder:"--"},{prefix:b((()=>[g("span",Dm,k(e.$t("sell")),1)])),suffix:b((()=>t[3]||(t[3]=[g("span",{class:"color-[--third-text]"},"%",-1)]))),_:2},1032,["modelValue","onUpdate:modelValue"]),y(B,{class:"text-16px ml-5px clickable color-[--third-text]",name:"bx:bxs-trash-alt",onClick:L((e=>function(e){m.value=m.value.filter(((l,a)=>a!==e))}(a)),["stop"])},null,8,["onClick"])])))),128)),g("li",Mm,[g("button",{class:"flex-1 h-24px flex items-center justify-center clickable bg-#12B8861A color-#12B886 border-none rd-4px disabled:op-50 disabled:cursor-not-allowed",disabled:(null==(u=x(m))?void 0:u.length)>=5,onClick:L(F,["stop"])},k(e.$t("addTakeProfit")),9,Bm),g("button",{class:"flex-1 h-24px flex items-center justify-center clickable bg-#F6465D1A color-#F6465D border-none rd-4px disabled:op-50 disabled:cursor-not-allowed",disabled:(null==(d=x(m))?void 0:d.length)>=5,onClick:L(I,["stop"])},k(e.$t("addStopLoss")),9,Pm)])],512),[[ce,x(a).autoSellConfigs.isAutoSellConfig]])],512)),[[ce,null==(c=x(l).userInfo)?void 0:c.evmAddress]])}}}),Um=B(Em,[["__scopeId","data-v-dd006540"]]),Rm={class:"mt-10px flex items-center text-11px color-[--main-text]"},Hm={class:"color-[--third-text] mr-4px cursor-pointer"},Om={key:1},jm={key:2},zm={class:"mr-4px ml-auto color-[--third-text]"},Wm=s({__name:"bottomSetting",props:{gasPrice:{type:Number,default:0},activeTab:{type:String,default:"buy"},swapType:{type:String,default:"market"}},setup(e){const l=e,a=ll(),{botSettings:t}=G(a),n=nl(),o=q(),{t:s}=i(),u=r(),v=W(),m=d((()=>v.token)),b=d((()=>{var e;const l=c(u.params.id);return(null==l?void 0:l.chain)||(null==(e=m.value)?void 0:e.chain)}));function _(){var e;const l=c(u.params.id);return(null==l?void 0:l.chain)||(null==(e=m.value)?void 0:e.chain)||""}const T=d((()=>{const e=_(),{gasTip1List:l}=ol(null==n?void 0:n.gasTip,e);return(null==l?void 0:l.length)>1}));function S(){var e,t,n,i,r,u,d,c;const v=(null==(n=null==(t=null==(e=a.botSettings)?void 0:e.solana)?void 0:t[l.activeTab])?void 0:n.selected)||(null==(r=null==(i=a.botSettings)?void 0:i.solana)?void 0:r.selected)||"s1",m=null==(c=null==(d=null==(u=a.botSettings)?void 0:u.solana)?void 0:d[l.activeTab])?void 0:c[v];return(null==m?void 0:m.mev)||o.bundleAvailable?Promise.resolve(!0):(oe({type:"warning",message:s("mevPending")}),Promise.resolve(!1))}function N(){var e,t,s,i,r,u,d,c,m,p,f,x,h,b,g,k,y;const w=_();if(Qe(w)&&(null==(e=null==o?void 0:o.isSupportChains)?void 0:e.includes(w))){const e=(null==(i=null==(s=null==(t=a.botSettings)?void 0:t[w])?void 0:s[l.activeTab])?void 0:i.selected)||(null==(u=null==(r=a.botSettings)?void 0:r[w])?void 0:u.selected)||"s1",o=null==(m=null==(c=null==(d=a.botSettings)?void 0:d[w])?void 0:c[l.activeTab])?void 0:m[e],_=null==o?void 0:o.mev,T=(null==(f=null==(p=n.mainTokensPrice)?void 0:p.find((e=>{var l;return e.chain===w&&e.token===(null==(l=Ge(w))?void 0:l.wmain_wrapper)})))?void 0:f.current_price_usd)||0,C=(null==(h=sl)?void 0:h.includes((null==(x=v.swap.payToken)?void 0:x.address)||""))?T:(null==(b=v.swap.payToken)?void 0:b.price)||0,{gasTip1List:A,gasTip2List:S}=ol(n.gasTip,w),N=_?A:S,$=_?null==o?void 0:o.gas[0]:null==o?void 0:o.gas[1],F=(null==$?void 0:$.customFee)||(null==N?void 0:N[null==$?void 0:$.level])||"3",I=(null==(y=null==(k=null==(g=n.gasTip)?void 0:g.find)?void 0:k.call(g,(e=>e.chain===w&&e.mev===!!_)))?void 0:y.gasLimit)||2e5;return X(new Be(l.gasPrice).plus(new Be(F).times(String(10**9))).times(I).times(C).div(String(10**18)).toFixed(),2)}return 0}const $=d((()=>{var e,t,s,i,r,u,d,c;const v=_();if(!o.isSupportChains.includes(v))return"";const m=(null==(s=null==(t=null==(e=a.botSettings)?void 0:e[v])?void 0:t[l.activeTab])?void 0:s.selected)||(null==(r=null==(i=a.botSettings)?void 0:i[v])?void 0:r.selected)||"s1",p=null==(c=null==(d=null==(u=a.botSettings)?void 0:u[v])?void 0:d[l.activeTab])?void 0:c[m],f=null==p?void 0:p.mev,{gasTip1List:x,gasTip2List:h}=ol(n.gasTip,v),b=f?x:h,g=f?0:1,k=null==p?void 0:p.gas[g];return(null==k?void 0:k.customFee)||(null==b?void 0:b[null==k?void 0:k.level])})),F=d((()=>{var e,t,n,s,i;const r=_();return o.isSupportChains.includes(r)?(null==(n=null==(t=null==(e=a.botSettings)?void 0:e[r])?void 0:t[l.activeTab])?void 0:n.selected)||(null==(i=null==(s=a.botSettings)?void 0:s[r])?void 0:i.selected)||"s1":""}));return(l,n)=>{var o,s,i,r,u,d,c,v,m,_,I;const L=ro,V=w,D=H("tooltip");return h(),C("div",Rm,[x(t)[x(b)||""]&&x(T)?(h(),C(A,{key:0},[g("span",Hm,k(l.$t("mev")),1),"solana"===x(b)?(h(),p(L,{key:0,modelValue:x(t).solana[e.activeTab][x(F)].mev,"onUpdate:modelValue":n[0]||(n[0]=l=>x(t).solana[e.activeTab][x(F)].mev=l),class:"mr-auto",style:{"--el-switch-on-color":"#3c6cf6",zoom:"0.9",height:"14px"},size:"small","before-change":S},null,8,["modelValue"])):("isEvmChain"in l?l.isEvmChain:x(Qe))(x(b)||"")?(h(),p(L,{key:1,modelValue:x(t)[x(b)][e.activeTab][x(F)].mev,"onUpdate:modelValue":n[1]||(n[1]=l=>x(t)[x(b)][e.activeTab][x(F)].mev=l),class:"mr-auto",style:{"--el-switch-on-color":"#3c6cf6",zoom:"0.9",height:"14px"},size:"small"},null,8,["modelValue"])):f("",!0)],64)):f("",!0),O(y(V,{name:"custom:slippage",class:"text-12px color-[--third-text] mr-4px cursor-pointer"},null,512),[[D,l.$t("slippage")]]),"auto"!==(null==(r=null==(i=null==(s=null==(o=x(t))?void 0:o[x(b)||""])?void 0:s[e.activeTab])?void 0:i[x(F)])?void 0:r.slippage)?(h(),C("span",Om,k(null==(v=null==(c=null==(d=null==(u=x(t))?void 0:u[x(b)||""])?void 0:d[e.activeTab])?void 0:c[x(F)])?void 0:v.slippage)+"%",1)):(h(),C("span",jm,k(l.$t("auto")),1)),("isEvmChain"in l?l.isEvmChain:x(Qe))(x(b)||"")&&e.gasPrice?(h(),C(A,{key:3},[O(y(V,{name:"custom:gas",class:"text-12px color-[--third-text] ml-auto mr-4px cursor-pointer"},null,512),[[D,l.$t("estimatedGas")]]),g("span",null,"$"+k(N()),1)],64)):f("",!0),"solana"===x(b)?(h(),C(A,{key:4},[O(y(V,{name:"custom:gas",class:"text-12px color-[--third-text] ml-auto mr-4px cursor-pointer"},null,512),[[D,l.$t("priorityFee")]]),g("span",null,k(x($))+" SOL",1)],64)):f("",!0),"ton"!==x(b)&&"buy"===e.activeTab&&"market"===e.swapType&&((null==(m=x(t))?void 0:m[x(b)||""])||(null==(I=null==(_=x(t))?void 0:_[x(b)||""])?void 0:I[e.activeTab]))?(h(),C(A,{key:5},[g("span",zm,k(l.$t("autoSellHalf")),1),y(L,{modelValue:x(a).autoSellConfigs.autoSell,"onUpdate:modelValue":n[2]||(n[2]=e=>x(a).autoSellConfigs.autoSell=e),size:"small",style:{"--el-switch-on-color":"#3c6cf6",zoom:"0.9",height:"14px"}},null,8,["modelValue"])],64)):f("",!0)])}}}),qm={class:"text-12px color-[--secondary-text]"},Ym={class:"inline-flex items-center clickable"},Gm=["src"],Qm=["src"],Km={class:"text-12px font-400"},Zm={class:"flex items-center mt-10px text-12px"},Xm={class:"color-[--main-text]"},Jm={class:"text-12px color-[--third-text] mx-3px"},ep={class:"tabs mt-10px"},lp=["onClick"],ap={key:0},tp={class:"text-12px color-[--secondary-text]"},np={class:"text-12px color-[--secondary-text]"},op={class:"text-12px color-[--main-text]"},sp={class:"flex items-center mt-10px text-12px"},ip={class:"color-[--main-text] flex items-center"},rp={class:"inline-flex items-center clickable text-12px ml-4px"},up=["src"],dp={class:"text-12px font-400"},cp={class:"text-12px color-[--third-text] mx-3px"},vp={class:"tabs mt-10px"},mp=["onClick"],pp={class:"text-12px color-[--secondary-text]"},fp={class:"slider-swap_left"},xp={class:"slider-swap_left-mark"},hp=["onClick"],bp={key:2,class:"flex items-center gap-4px"},gp=["src"],kp={key:5,class:"connect-wallet-btn"},_p={key:6,class:"text-14px color-[--secondary-text] text-center mt-16px bg-[--icon-color] lh-40px rounded-6px"},yp=s({__name:"swap",props:{activeTab:{},swapType:{},tabs1:{},tabs2:{}},emits:["getTokenBalance","update:botSettings"],setup(e,{emit:l}){const a=e=>{return l={...e,duration:2500},go.push({options:l,enqueueTime:Date.now()}),void(ko||yo());var l},t=e,n=U(t.tabs1),o=U(t.tabs2),s=l,{t:u}=i(),_=U(!1),N=U(""),$=U(""),F=U(""),I=U(""),D=U(""),M=U(!1),B=U(!1),P=U(!1),E=il({routerPath:[],fromAmount:"",toAmount:"",fromToken:{},toToken:{},from_price:0,to_price:0}),H=U(!0),O=U(""),j=U(void 0),z=d((()=>Number(j.value)>100?100:Number(j.value)||void 0));m(j,(e=>{"limit"===t.swapType&&(Number.isNaN(Number(e))||(O.value=rl(new Be(le.price||0).times(H.value?1:le.circulation).times(1+(Number(e)||0)/100).toFixed(),4)))}));let Y=!1,Q=!1;const K=pe("priceLimit_move").on((e=>{"limit"!==t.swapType||Q||Number.isNaN(Number(e))||(Y=!0,j.value=Number(new Be(e||0).minus(le.price||0).div(le.price||0).times(100).toFixed(0)),R((()=>{Y=!1})))}));m(O,(()=>{"limit"===t.swapType&&(Ee(t.activeTab),J())})),m((()=>t.swapType),(e=>{"limit"!==e?pe("priceLimit").emit(0):(gl(),J())})),m(H,(e=>{"limit"===t.swapType&&(Number.isNaN(Number(O.value))||(O.value=rl(e?new Be(O.value||0).div(le.circulation||1).toFixed():new Be(O.value||0).times(le.circulation).toFixed(),4)))})),m((()=>t.tabs1),(e=>{n.value=e})),m((()=>t.tabs2),(e=>{o.value=e}));const Z=pe("klineDataReady").on((()=>{"limit"===t.swapType&&J()}));function J(){Y||(Q=!0,H.value?pe("priceLimit").emit(Number(O.value)):pe("priceLimit").emit(Number(rl(new Be(O.value).div(le.circulation||1).toFixed(),4))),R((()=>{Q=!1})))}de((()=>{K&&K(),Z&&Z()}));const ee=r(),le=W(),ae=q(),te=nl(),ne=ll(),oe=je(),ie=ve(),{gasPrice:re}=G(le),{getTokensPrice:ue,getAllowance:ce,loadingAllowance:me,bot_approve:fe,updateBalanceFromWs:xe}=Cm(),he=d((()=>le.token)),be=d((()=>{var e;const l=c(ee.params.id);return(null==l?void 0:l.chain)||(null==(e=he.value)?void 0:e.chain)})),ge=d((()=>{var e,l,a,t,n;const o=c(ee.params.id),s=(null==o?void 0:o.chain)||(null==(e=he.value)?void 0:e.chain);return null==(n=null==(t=null==(a=null==(l=null==ae?void 0:ae.userInfo)?void 0:l.addresses)?void 0:a.find)?void 0:t.call(a,(e=>(null==e?void 0:e.chain)===s)))?void 0:n.address})),ke=d((()=>"buy"===t.activeTab?le.swap.payToken:le.swap.token)),_e=d((()=>"buy"===t.activeTab?$.value:N.value)),ye=d((()=>"buy"===t.activeTab?I.value:F.value));function we(e,l){var a;return null==(a=null==l?void 0:l.find)?void 0:a.call(l,(l=>(null==l?void 0:l.chain)===e))}function Ce(e,l,a){var t,n,o,s,i;return(null==(t=sl)?void 0:t.includes(a||""))||!a?(null==(n=we(e,l))?void 0:n.balance)||0:(null==(i=null==(s=null==(o=we(e,l))?void 0:o.tokenBalances)?void 0:s[a])?void 0:i.balance)||0}const Se=d((()=>{var e,l;return null==(l=(null==(e=null==te?void 0:te.botSwapBaseTokens)?void 0:e[be.value||""])||[])?void 0:l.filter((e=>{var l;return(null==e?void 0:e.address)!==(null==(l=le.swap.payToken)?void 0:l.address)}))})),Ne=d((()=>{var e;const l=Oe(),a=[...te.botSwapSelectedWallets,ae.evmAddress||""],t=Array.from(new Set(null==a?void 0:a.filter(Boolean)));let n="0";const o=le.swap.payToken;return null==(e=ae.walletList)||e.forEach((e=>{t.includes(e.evmAddress)&&(n=new Be(n).plus(Ce(l,null==e?void 0:e.addresses,null==o?void 0:o.address)||0).toFixed())})),n})),$e=d((()=>{var e,l;const a=Oe(),t=[...te.botSwapSelectedWallets,ae.evmAddress||""],n=Array.from(new Set(null==t?void 0:t.filter(Boolean)));let o="0";const s=null==(e=le.swap)?void 0:e.token;return null==(l=ae.walletList)||l.forEach((e=>{n.includes(e.evmAddress)&&(o=new Be(o).plus(Ce(a,null==e?void 0:e.addresses,null==s?void 0:s.address)||0).toFixed())})),o})),Fe=d((()=>We.value?"buy"===t.activeTab?"#12B886":"sell"===t.activeTab?"#F6465D":"#3F80F7":"#999")),Ie=d((()=>!0)),Le=d((()=>X($.value,{limit:20}))),Ve=d((()=>{var e;if(!$.value)return"0";const l=new Be($.value).times((null==(e=le.swap.payToken)?void 0:e.price)||"0");return X(l.toString())})),De=d((()=>{var e,l,a,t,n,o;return"USDC"===(null==(a=null==(l=null==(e=le.swap.payToken)?void 0:e.symbol)?void 0:l.toUpperCase)?void 0:a.call(l))||"USDT"===(null==(o=null==(n=null==(t=le.swap.payToken)?void 0:t.symbol)?void 0:n.toUpperCase)?void 0:o.call(n))})),Me=(e,l)=>{var a,t,n,o,s,i,r,d;if((null==(a=te.botSwapSelectedWallets)?void 0:a.length)>1)return;const c=ul[be.value]||.01,v=(null==(t=ke.value)?void 0:t.decimals)||18,m=e||0;if("buy"===l)if(["sol","ton",Ye].includes((null==(n=ke.value)?void 0:n.address)||"")){if(new Be(e).lt(c))return void se.alert(u("balanceNotEnough",{n:c,s:null==(o=ke.value)?void 0:o.symbol}),u("tips"),{confirmButtonText:u("okay")});$.value=(null==(i=null==(s=new Be(m))?void 0:s.minus(c).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${v}})?`)))?void 0:i[0])||""}else $.value=(null==(r=new Be(m).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${v}})?`)))?void 0:r[0])||"";else N.value=(null==(d=new Be(m).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${v}})?`)))?void 0:d[0])||"";Ue(l)};function Pe(e,l){var a,t,n,o;if(!kl.value){if("buy"===l)$.value=e.value;else if("sell"===l){const l=e.value;let s=(null==(a=le.swap.token)?void 0:a.balance)||0;if((null==(t=te.botSwapSelectedWallets)?void 0:t.length)>1&&(D.value=new Be(l).times(100).toFixed(0),s=$e.value),l){const e=(null==(n=le.swap.payToken)?void 0:n.decimals)||0;s=(null==(o=new Be(s).times(l).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:o[0])||0,0===Number(s)&&(s="")}else s="";N.value=String(Number(s)<0?0:s)}Ue(l)}}const Ee=ze((e=>{Ue(e)}),10);function Ue(e,l=!0){var a,t,n;(null==(a=te.botSwapSelectedWallets)?void 0:a.length)>1&&"sell"===e&&function(){var e,l,a,t;const n=D.value;let o=(null==(e=le.swap.token)?void 0:e.balance)||0;if((null==(l=te.botSwapSelectedWallets)?void 0:l.length)>1&&(o=$e.value),n){const e=(null==(a=le.swap.payToken)?void 0:a.decimals)||0;o=(null==(t=new Be(o).times(n).div(100).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:t[0])||0,0===Number(o)&&(o="")}else o="";N.value=String(Number(o)<0?0:o)}();let o=N.value;"buy"===e&&(o=$.value);const s=Number(o);"buy"===e?""===o||"."===o?(M.value=!1,I.value=""):0===s&&0!==Number(I.value)?(I.value="0",M.value=!1):s&&(I.value="",Re((null==(t=he.value)?void 0:t.chain)||"","buy",l)):"sell"===e&&(""===o||"."===o?(M.value=!1,F.value=""):0===s&&0!==Number(F.value)?(F.value="0",M.value=!1):s&&(F.value="",Re((null==(n=he.value)?void 0:n.chain)||"","sell",l)))}async function Re(e,l=t.activeTab,a=!0){var n,o,s,i,r;const u="buy"===l,d=u?$.value:N.value;M.value=!0,a&&await new Promise(((e,l)=>{le.swap.payToken.price&&le.swap.token.price&&e([{current_price_usd:le.swap.token.price},{current_price_usd:le.swap.payToken.price}]),He(e,l)}));const c=(null==(o=null==(n=te.mainTokensPrice)?void 0:n.find((l=>{var a;return l.chain===e&&l.token===(null==(a=Ge(e))?void 0:a.wmain_wrapper)})))?void 0:o.current_price_usd)||le.swap.payToken.price||le.swap.native.price||0,v=le.swap.payToken,m=((null==(s=sl)?void 0:s.includes((null==v?void 0:v.address)||""))?c:le.swap.payToken.price)||0;let p=le.price||(null==(i=le.swap.token)?void 0:i.price)||0;if("limit"===t.swapType){const e=H.value?O.value:new Be(O.value).div(le.circulation||1).toFixed();p=Number(rl(e||le.price||(null==(r=le.swap.token)?void 0:r.price)||0,4))}const f=u?m:p,x=u?p:m,h=Number(d)*(f||0)/(x||1);if(h){"buy"===l?I.value=String(h)||"0":F.value=String(h)||"0";const e="buy"===l?le.swap.payToken:le.swap.token,a="buy"===l?le.swap.token:le.swap.payToken,t="buy"===l?$.value:N.value,n="buy"===l?I.value:F.value;return E.fromAmount=t,E.toAmount=n,E.fromToken={...e,amount:t||""},E.toToken={...a,amount:n||""},E.from_price=f||0,E.to_price=x||0,void(M.value=!1)}}const He=ze((function(e,l){ue().then(e,l)}),500);function Oe(){var e;const l=c(ee.params.id);return(null==l?void 0:l.chain)||(null==(e=he.value)?void 0:e.chain)||""}const We=d((()=>{var e,l;const a=Oe();return ae.accessToken&&(null==(l=null==(e=null==ae?void 0:ae.isSupportChains)?void 0:e.includes)?void 0:l.call(e,a))})),qe=d((()=>"buy"===t.activeTab)),Ke=async()=>{var e;P.value=!0,fe({batchId:Date.now().toString(),chain:be.value||"",inTokenAddress:(null==(e=ke.value)?void 0:e.address)||"",outTokenAddress:(qe.value?le.swap.token.address:le.swap.payToken.address)||"",creatorAddress:[ge.value||""]}).then((e=>{if(e){let l=setTimeout((()=>{a({type:"success",message:u("approveSubmitted")})}),500);e.wait().then((()=>{l&&(clearTimeout(l),l=null),a({type:"success",message:u("approveSuccess")}),setTimeout((()=>{(()=>{var e;const l=qe.value?le.swap.token:le.swap.payToken;ce((null==(e=ke.value)?void 0:e.address)||"",(null==l?void 0:l.address)||"")})()}),1e3),P.value=!1}))}})).catch((e=>{dl(e||"approve error",a),P.value=!1}))};function Ze(){var e,l,a;const n=(null==(e=ke.value)?void 0:e.balance)||0,o=te.botSwapSelectedWallets.length>1&&"sell"===t.activeTab;return!(Number(n)<Number(_e.value)&&!o||o&&Number(D.value||0)>100||"0"===String(_e.value)||(null==(l=le.swap.token)?void 0:l.address)===(null==(a=le.swap.payToken)?void 0:a.address)||new Be(_e.value||0).lte(0)||new Be(O.value||0).lte(0)&&"limit"===t.swapType)}function Xe(){var e;if(!Ie.value||me.value)return u("checkingAllowance");if(M.value)return u("quoting");if(P.value)return u("approve");const l=(null==(e=ke.value)?void 0:e.balance)||0;if(te.botSwapSelectedWallets.length>1&&"sell"===t.activeTab){if(Number(D.value||0)>100)return u("insufficientBalance")}else{if(Number(l)<Number(_e.value))return u("insufficientBalance");if("0"===String(_e.value))return u("AmountCannotBeZero")}}async function Je(){var e,l,n,o,s,i,r,d,c,v,p,f,x,h,b,g,k,_,y,w,T,C,A;if(new Be(_e.value||0).lte(0))return void a({title:"Error",type:"error",message:u("amountMustG0")});const S=null==(l=new Be(_e.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${(null==(e=ke.value)?void 0:e.decimals)||18}})?`)))?void 0:l[0];if((Number(S)||0)<=0)return void a({title:"Error",type:"error",message:u("amountTooSmall")});if("limit"===t.swapType)return void function(){var e,l,n,o,s,i,r,d,c,v,p,f,x,h,b,g,k,_,y,w,T,C,A,S,L,V,M,P,E,U,R,j,z,W,q;if(new Be(_e.value||0).lte(0))return void a({title:"Error",type:"error",message:u("amountMustG0")});const Y=null==(l=new Be(_e.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${(null==(e=ke.value)?void 0:e.decimals)||18}})?`)))?void 0:l[0];if((Number(Y)||0)<=0)return void a({title:"Error",type:"error",message:u("amountTooSmall")});B.value=!0;const G="buy"===t.activeTab,Q=Oe(),K={solana:"sol",ton:"TON"},Z=(null==(n=le.swap.payToken)?void 0:n.address)||(null==K?void 0:K[Q])||Ye,X=(null==(r=null==(i=null==(s=null==(o=ae.userInfo)?void 0:o.addresses)?void 0:s.find)?void 0:i.call(s,(e=>(null==e?void 0:e.chain)===Q)))?void 0:r.address)||"",J=te.botSwapSelectedWallets.length>1&&"sell"===t.activeTab;if("solana"===Q||"ton"===Q){const e=(null==(v=null==(c=null==(d=null==ne?void 0:ne.botSettings)?void 0:d[Q])?void 0:c[t.activeTab])?void 0:v.selected)||(null==(f=null==(p=ne.botSettings)?void 0:p[Q])?void 0:f.selected)||"s1",l=null==(h=null==(x=ne.botSettings)?void 0:x[Q])?void 0:h[e],n=null==l?void 0:l.mev,{gasTip1List:o,gasTip2List:s}=ol(te.gasTip,Q),i=n?o:s,r=n?null==l?void 0:l.gas[0]:null==l?void 0:l.gas[1];let L=(null==r?void 0:r.customFee)||(null==i?void 0:i[null==r?void 0:r.level])||"0.002";n&&new Be(L).lt("0.002")&&(L="0.002");const V=new Be(L).times(10**9).toFixed(0),M=H.value?O.value:rl(new Be(O.value||0).div(le.circulation||1).toFixed(),4),P=G?le.swap.payToken:le.swap.token,E=(null==(y=null==(_=null==(b=ne.botSettings)?void 0:b[Q])?void 0:_[null==(k=null==(g=ne.botSettings)?void 0:g[Q])?void 0:k.selected])?void 0:y.slippage)||9,U=Date.now().toString(),R={swapList:(null==(C=null==(T=null==(w=(null==te?void 0:te.botSwapSelectedWallets)||[])?void 0:w.map(((e,l)=>{var a,t,n,o,s,i,r,u,d;const c=null==(i=null==(s=null==(o=null==(n=null==(t=null==(a=ae.walletList)?void 0:a.find)?void 0:t.call(a,(l=>l.evmAddress===e)))?void 0:n.addresses)?void 0:o.find)?void 0:s.call(o,(e=>(null==e?void 0:e.chain)===Q)))?void 0:i.address,v=(null==(d=null==(u=null==(r=ae.walletList)?void 0:r.find)?void 0:u.call(r,(l=>l.evmAddress===e)))?void 0:d.addresses)||[],m=Ce(Q,v,G?Z:(null==P?void 0:P.address)||"")||0,p=J?new Be(m||0).times(D.value||0).div(100).times(10**((null==P?void 0:P.decimals)||0)).toFixed(0):new Be(Y||0).times(10**((null==P?void 0:P.decimals)||0)).toFixed(0);return{batchId:U+String(l),creatorAddress:c||"",inAmount:p}})))?void 0:T.filter)?void 0:C.call(T,(e=>Number(null==e?void 0:e.inAmount)>0&&(null==e?void 0:e.creatorAddress))))||[],tokenAddress:(null==(A=le.swap.token)?void 0:A.address)||(null==(S=le.token)?void 0:S.token)||"",baseTokenAddress:Z,swapType:G?5:6,isPrivate:n||!1,priceLimit:M,autoGas:(null==r?void 0:r.customFee)?0:((null==r?void 0:r.level)||0)+1,priorityFee:V,slippage:"auto"!==E?Number(new Be(E).times(100).toFixed(0)):900,autoSlippage:"auto"===E};({solana:xl,ton:fl})[Q](R).then((e=>{var l,t;if(e){const n=null==(l=null==e?void 0:e.every)?void 0:l.call(e,(e=>null==e?void 0:e.errorLog));null==(t=null==e?void 0:e.forEach)||t.call(e,(e=>{var l,t,o;const s=(null==(o=null==(t=null==(l=ae.walletList)?void 0:l.find)?void 0:t.call(l,(l=>{var a,t,n;return(null==(n=null==(t=null==(a=null==l?void 0:l.addresses)?void 0:a.find)?void 0:t.call(a,(e=>(null==e?void 0:e.chain)===Q)))?void 0:n.address)===(null==e?void 0:e.creatorAddress)})))?void 0:o.name)||"";let i=setTimeout((()=>{var l;le.placeOrderUpdate++,(null==(l=null==e?void 0:e.creatorAddress)?void 0:l.toLowerCase())===X&&(O.value=""),a({type:"success",message:s+" "+u("limitSubmitted")}),B.value=!1,N.value="",D.value="",$.value="",F.value="",I.value=""}),500);if((null==e?void 0:e.errorLog)&&(i&&(clearTimeout(i),i=null),dl(s+" "+(null==e?void 0:e.errorLog),a),n))return void(B.value=!1);const r={solana:"/botapi/swap/createSolLimitTx",ton:"/botapi/swap/createTonLimitSwap"};no({txInfo:e,chain:Q,destination:(null==r?void 0:r[Q])||"/botapi/swap/createEvmLimitTx",type:20});const d=m((()=>null==oe?void 0:oe.wsResult.tgbot),(l=>{var t;const n=l.batchId,o=null==(t=null==l?void 0:l.txList)?void 0:t[0];if((null==n?void 0:n.includes(U))&&e.creatorAddress===(null==o?void 0:o.walletAddress)){if(i&&(clearTimeout(i),i=null),le.placeOrderSuccess++,null==o?void 0:o.success)a({type:"success",message:(null==o?void 0:o.walletName)+" "+u("tradeSuccess")}),oo({...o,chain:null==l?void 0:l.chain},(null==e?void 0:e.id)||"");else{const e=ml(null==o?void 0:o.failMessage)||"swap error";dl((null==o?void 0:o.walletName)+" "+e,a)}d(),B.value=!1}}))}))}})).catch((e=>{dl(e||"swap error",a),B.value=!1}))}else if(Qe(Q)){const e=(null==(M=null==(V=null==(L=null==ne?void 0:ne.botSettings)?void 0:L[Q])?void 0:V[t.activeTab])?void 0:M.selected)||(null==(E=null==(P=ne.botSettings)?void 0:P[Q])?void 0:E.selected)||"s1",l=null==(j=null==(R=null==(U=ne.botSettings)?void 0:U[Q])?void 0:R[t.activeTab])?void 0:j[e],n=null==l?void 0:l.mev,o=(null==l?void 0:l.slippage)||9,{gasTip1List:s,gasTip2List:i}=ol(te.gasTip,Q),r=n?s:i,d=n?null==l?void 0:l.gas[0]:null==l?void 0:l.gas[1],c=(null==d?void 0:d.customFee)||(null==r?void 0:r[null==d?void 0:d.level])||"3",v=Number(new Be(c).times(10**9).toFixed(0)),p=G?le.swap.payToken:le.swap.token,f=G?le.swap.token:le.swap.payToken,x=H.value?O.value:rl(new Be(O.value||0).div(le.circulation||1).toFixed(),4),h=Date.now().toString(),b=(null==(q=null==(W=null==(z=(null==te?void 0:te.botSwapSelectedWallets)||[])?void 0:z.map(((e,l)=>{var a,t,n,o,s,i,r,u,d;const c=null==(i=null==(s=null==(o=null==(n=null==(t=null==(a=ae.walletList)?void 0:a.find)?void 0:t.call(a,(l=>l.evmAddress===e)))?void 0:n.addresses)?void 0:o.find)?void 0:s.call(o,(e=>(null==e?void 0:e.chain)===Q)))?void 0:i.address,v=(null==(d=null==(u=null==(r=ae.walletList)?void 0:r.find)?void 0:u.call(r,(l=>l.evmAddress===e)))?void 0:d.addresses)||[],m=Ce(Q,v,G?Z:(null==p?void 0:p.address)||"")||0,f=J?new Be(m||0).times(D.value||0).div(100).times(10**((null==p?void 0:p.decimals)||0)).toFixed(0):new Be(Y||0).times(10**((null==p?void 0:p.decimals)||0)).toFixed(0);return{batchId:h+String(l),creatorAddress:c||"",inAmount:f}})))?void 0:W.filter)?void 0:q.call(W,(e=>Number(null==e?void 0:e.inAmount)>0&&(null==e?void 0:e.creatorAddress))))||[],g={chain:Q,swapList:b,inTokenAddress:G?Z:(null==p?void 0:p.address)||"",outTokenAddress:G?(null==f?void 0:f.address)||"":Z,swapType:G?5:6,swapPrice:x,contractType:0,isPrivate:n||!1,gasTip:v,slippage:"auto"!==o?Number(new Be(o).times(100).toFixed(0)):900,autoSlippage:"auto"===o};hl(g).then((e=>{var l,t;if(e){const n=null==(l=null==e?void 0:e.every)?void 0:l.call(e,(e=>null==e?void 0:e.errorLog));null==(t=null==e?void 0:e.forEach)||t.call(e,(e=>{var l,t,o;const s=(null==(o=null==(t=null==(l=ae.walletList)?void 0:l.find)?void 0:t.call(l,(l=>{var a,t,n,o,s;return(null==(n=null==(t=null==(a=null==l?void 0:l.addresses)?void 0:a.find)?void 0:t.call(a,(e=>(null==e?void 0:e.chain)===Q)))?void 0:n.address)===(null==(s=null==(o=null==e?void 0:e.creatorAddress)?void 0:o.toLowerCase)?void 0:s.call(o))})))?void 0:o.name)||"";let i=setTimeout((()=>{var l;le.placeOrderUpdate++,(null==(l=null==e?void 0:e.creatorAddress)?void 0:l.toLowerCase())===X&&(O.value=""),a({type:"success",message:s+" "+u("limitSubmitted")}),B.value=!1,N.value="",D.value="",$.value="",F.value="",I.value=""}),500);if((null==e?void 0:e.errorLog)&&(i&&(clearTimeout(i),i=null),dl(s+" "+(null==e?void 0:e.errorLog),a),n))return void(B.value=!1);no({txInfo:e,chain:Q,destination:"/botapi/swap/createEvmLimitTx",type:20});const r=m((()=>null==oe?void 0:oe.wsResult.tgbot),(l=>{var t;const n=l.batchId,o=null==(t=null==l?void 0:l.txList)?void 0:t[0];if((null==n?void 0:n.includes(h))&&e.creatorAddress===(null==o?void 0:o.walletAddress)){if(i&&(clearTimeout(i),i=null),le.placeOrderSuccess++,null==o?void 0:o.success)a({type:"success",message:(null==o?void 0:o.walletName)+" "+u("tradeSuccess")}),oo({...o,chain:null==l?void 0:l.chain},(null==e?void 0:e.id)||"");else{const e=ml(null==o?void 0:o.failMessage)||"swap error";dl((null==o?void 0:o.walletName)+" "+e,a)}r(),B.value=!1}}))}))}})).catch((e=>{dl(e||"swap error",a),B.value=!1}))}}();B.value=!0;const L="buy"===t.activeTab,V=Oe(),M={solana:"sol",ton:"TON"},P=(null==(n=le.swap.payToken)?void 0:n.address)||(null==M?void 0:M[V])||Ye,E=te.botSwapSelectedWallets.length>1&&"sell"===t.activeTab;if("solana"===V||"ton"===V){const e=(null==(i=null==(s=null==(o=null==ne?void 0:ne.botSettings)?void 0:o[V])?void 0:s[t.activeTab])?void 0:i.selected)||(null==(d=null==(r=null==ne?void 0:ne.botSettings)?void 0:r[V])?void 0:d.selected)||"s1",l=null==(p=null==(v=null==(c=ne.botSettings)?void 0:c[V])?void 0:v[t.activeTab])?void 0:p[e],n=null==l?void 0:l.mev,{gasTip1List:b,gasTip2List:g}=ol(te.gasTip,V),k=n?b:g,_=n?null==l?void 0:l.gas[0]:null==l?void 0:l.gas[1];let y=(null==_?void 0:_.customFee)||(null==k?void 0:k[null==_?void 0:_.level])||"0.002";n&&new Be(y).lt("0.002")&&(y="0.002");const w=new Be(y).times(10**9).toFixed(0),T=L?le.swap.payToken:le.swap.token,C=L?le.swap.token:le.swap.payToken,A=(null==l?void 0:l.slippage)||9,M=Date.now().toString(),U={swapList:(null==(h=null==(x=null==(f=(null==te?void 0:te.botSwapSelectedWallets)||[])?void 0:f.map(((e,l)=>{var a,t,n,o,s,i,r,u,d;const c=null==(i=null==(s=null==(o=null==(n=null==(t=null==(a=ae.walletList)?void 0:a.find)?void 0:t.call(a,(l=>l.evmAddress===e)))?void 0:n.addresses)?void 0:o.find)?void 0:s.call(o,(e=>(null==e?void 0:e.chain)===V)))?void 0:i.address,v=(null==(d=null==(u=null==(r=ae.walletList)?void 0:r.find)?void 0:u.call(r,(l=>l.evmAddress===e)))?void 0:d.addresses)||[],m=Ce(V,v,L?P:(null==T?void 0:T.address)||"")||0,p=E?new Be(m||0).times(D.value||0).div(100).times(10**((null==T?void 0:T.decimals)||0)).toFixed(0):new Be(S||0).times(10**((null==T?void 0:T.decimals)||0)).toFixed(0);return{batchId:M+String(l),creatorAddress:c||"",inAmount:p}})))?void 0:x.filter)?void 0:h.call(x,(e=>Number(null==e?void 0:e.inAmount)>0&&(null==e?void 0:e.creatorAddress))))||[],inTokenAddress:L?P:(null==T?void 0:T.address)||"",outTokenAddress:L?(null==C?void 0:C.address)||"":P,swapType:L?1:2,isPrivate:n||!1,priorityFee:w,autoSell:L&&ne.autoSellConfig_autoSell||!1,slippage:"auto"!==A?Number(new Be(A).times(100).toFixed(0)):900,autoSlippage:"auto"===A,autoSellConfig:L?null==ne?void 0:ne.selectedAutoSellConfig:[],autoGas:(null==_?void 0:_.customFee)?0:((null==_?void 0:_.level)||0)+1,autoSellGas:(null==_?void 0:_.customFee)?0:((null==_?void 0:_.level)||0)+1,autoSellPriorityFee:w};({solana:vl,ton:cl})[V](U).then((e=>{var l,t;if(e){const n=null==(l=null==e?void 0:e.every)?void 0:l.call(e,(e=>null==e?void 0:e.errorLog));null==(t=null==e?void 0:e.forEach)||t.call(e,(e=>{var l,t,o;const s=(null==(o=null==(t=null==(l=ae.walletList)?void 0:l.find)?void 0:t.call(l,(l=>{var a,t,n,o,s;return(null==(n=null==(t=null==(a=null==l?void 0:l.addresses)?void 0:a.find)?void 0:t.call(a,(e=>(null==e?void 0:e.chain)===V)))?void 0:n.address)===(null==(s=null==(o=null==e?void 0:e.creatorAddress)?void 0:o.toLowerCase)?void 0:s.call(o))})))?void 0:o.name)||"";let i=setTimeout((()=>{B.value=!1,N.value="",D.value="",$.value="",F.value="",I.value=""}),500);if((null==e?void 0:e.errorLog)&&(i&&(clearTimeout(i),i=null),dl(s+" "+(null==e?void 0:e.errorLog),a),n))return void(B.value=!1);const r={solana:"/botapi/swap/createSolTx",ton:"/botapi/swap/createSwapTonTx"};no({txInfo:e,chain:V,destination:(null==r?void 0:r[V])||"/botapi/swap/createSwapEvmTx",type:10});const d=m((()=>null==oe?void 0:oe.wsResult.tgbot),(l=>{var t;const n=l.batchId,o=null==(t=null==l?void 0:l.txList)?void 0:t[0];if((null==n?void 0:n.includes(M))&&e.creatorAddress===(null==o?void 0:o.walletAddress)){if(i&&(clearTimeout(i),i=null),le.placeOrderSuccess++,null==o?void 0:o.success)a({type:"success",message:(null==o?void 0:o.walletName)+" "+u("tradeSuccess")}),oo({...o,chain:null==l?void 0:l.chain},(null==e?void 0:e.id)||"");else{const e=ml(null==o?void 0:o.failMessage)||"swap error";dl((null==o?void 0:o.walletName)+" "+e,a)}d(),B.value=!1}}))}))}})).catch((e=>{dl(e||"swap error",a),B.value=!1}))}else if(Qe(V)){const e=(null==(k=null==(g=null==(b=ne.botSettings)?void 0:b[V])?void 0:g[t.activeTab])?void 0:k.selected)||"s1",l=null==(w=null==(y=null==(_=ne.botSettings)?void 0:_[V])?void 0:y[t.activeTab])?void 0:w[e],n=null==l?void 0:l.mev,o=(null==l?void 0:l.slippage)||9,{gasTip1List:s,gasTip2List:i}=ol(te.gasTip,V),r=n?s:i,d=n?null==l?void 0:l.gas[0]:null==l?void 0:l.gas[1],c=(null==d?void 0:d.customFee)?(null==d?void 0:d.customFee)||(null==r?void 0:r[null==d?void 0:d.level])||"3":"0",v=Number(new Be(c).times(10**9).toFixed(0)),p=L?le.swap.payToken:le.swap.token,f=L?le.swap.token:le.swap.payToken,x=Date.now().toString(),h=(null==(A=null==(C=null==(T=(null==te?void 0:te.botSwapSelectedWallets)||[])?void 0:T.map(((e,l)=>{var a,t,n,o,s,i,r,u,d;const c=null==(i=null==(s=null==(o=null==(n=null==(t=null==(a=ae.walletList)?void 0:a.find)?void 0:t.call(a,(l=>l.evmAddress===e)))?void 0:n.addresses)?void 0:o.find)?void 0:s.call(o,(e=>(null==e?void 0:e.chain)===V)))?void 0:i.address,v=(null==(d=null==(u=null==(r=ae.walletList)?void 0:r.find)?void 0:u.call(r,(l=>l.evmAddress===e)))?void 0:d.addresses)||[],m=Ce(V,v,L?P:(null==p?void 0:p.address)||"")||0,f=E?new Be(m||0).times(D.value||0).div(100).times(10**((null==p?void 0:p.decimals)||0)).toFixed(0):new Be(S||0).times(10**((null==p?void 0:p.decimals)||0)).toFixed(0);return{batchId:x+String(l),creatorAddress:c||"",inAmount:f}})))?void 0:C.filter)?void 0:A.call(C,(e=>Number(null==e?void 0:e.inAmount)>0&&(null==e?void 0:e.creatorAddress))))||[],M={chain:V,swapList:h,inTokenAddress:L?P:(null==p?void 0:p.address)||"",outTokenAddress:L?(null==f?void 0:f.address)||"":P,swapType:L?1:2,contractType:0,isPrivate:n||!1,gasTip:v,autoSell:L&&ne.autoSellConfig_autoSell||!1,slippage:"auto"!==o?Number(new Be(o).times(100).toFixed(0)):900,autoSlippage:"auto"===o,autoSellConfig:L?null==ne?void 0:ne.selectedAutoSellConfig:[],autoGas:(null==d?void 0:d.customFee)?0:((null==d?void 0:d.level)||0)+1,autoSellGas:(null==d?void 0:d.customFee)?0:((null==d?void 0:d.level)||0)+1,autoSellPriorityFee:v};pl(M).then((e=>{var l,t;if(e){const n=null==(l=null==e?void 0:e.every)?void 0:l.call(e,(e=>null==e?void 0:e.errorLog));null==(t=null==e?void 0:e.forEach)||t.call(e,(e=>{var l,t,o;const s=(null==(o=null==(t=null==(l=ae.walletList)?void 0:l.find)?void 0:t.call(l,(l=>{var a,t,n,o;return(null==(t=null==(a=null==l?void 0:l.evmAddress)?void 0:a.toLowerCase)?void 0:t.call(a))===(null==(o=null==(n=null==e?void 0:e.creatorAddress)?void 0:n.toLowerCase)?void 0:o.call(n))})))?void 0:o.name)||"";let i=setTimeout((()=>{B.value=!1,$.value="",I.value="",N.value="",D.value="",F.value=""}),500);if((null==e?void 0:e.errorLog)&&(i&&(clearTimeout(i),i=null),dl(s+" "+(null==e?void 0:e.errorLog),a),n))return void(B.value=!1);no({txInfo:e,chain:V,destination:"/botapi/swap/createSwapEvmTx",type:10});const r=m((()=>null==oe?void 0:oe.wsResult.tgbot),(l=>{var t,n;const o=l.batchId,s=null==(t=null==l?void 0:l.txList)?void 0:t[0];if((null==(n=null==o?void 0:o.includes)?void 0:n.call(o,x))&&e.creatorAddress===(null==s?void 0:s.walletAddress)){if(i&&(clearTimeout(i),i=null),le.placeOrderSuccess++,null==s?void 0:s.success)a({type:"success",message:(null==s?void 0:s.walletName)+" "+u("tradeSuccess")}),oo({...s,chain:null==l?void 0:l.chain},(null==e?void 0:e.id)||""),xe({chain:M.chain,inTokenAddress:M.inTokenAddress,outTokenAddress:M.outTokenAddress,...s});else{const e=ml(null==s?void 0:s.failMessage)||"swap error";dl((null==s?void 0:s.walletName)+" "+e,a)}r(),B.value=!1}}))}))}})).catch((e=>{dl(e||"swap error",a),B.value=!1}))}}function el(){var e;const l=Oe();Qe(l)&&(null==(e=bl(l))||e.getFeeData().then((e=>{e&&(re.value=new Be(e.gasPrice||0).toNumber())})))}m((()=>{var e;return(null==(e=le.token)?void 0:e.token)||""}),(e=>{e&&(el(),N.value="",D.value="",$.value="",F.value="",I.value="",Ue(t.activeTab))})),m((()=>t.activeTab),(e=>{N.value="",D.value="",$.value="",F.value="",I.value=""})),m((()=>le.price),(e=>{e&&Ue(t.activeTab,!1)}));const al=Date.now();let tl=null;function gl(){var e;if("market"===t.swapType){if(Date.now()-al>5e3)return;if(!le.price)return tl&&(clearTimeout(tl),tl=null),void(tl=setTimeout(gl,1e3))}else if(!le.price)return tl&&(clearTimeout(tl),tl=null),void(tl=setTimeout(gl,1e3));j.value=void 0,O.value=rl(new Be((null==(e=le.token)?void 0:e.current_price_usd)||0).times(H.value?1:le.circulation).toFixed(),4)}m((()=>{var e;return null==(e=le.token)?void 0:e.token}),(()=>{gl()})),m((()=>le.placeOrderSuccess),(()=>{setTimeout((()=>{s("getTokenBalance")}),1e3)}));const kl=U(!1);return v((()=>{gl(),el()})),(e,l)=>{var a,t,o,s,i,r,u,d,c,v,m,E;const U=w,R=eo,W=Jn,q=Xn,Y=Ae,G=lo,Q=Te;return h(),C("div",null,["buy"===e.activeTab?(h(),C(A,{key:0},[y(Y,{modelValue:$.value,"onUpdate:modelValue":[l[1]||(l[1]=e=>$.value=e),l[2]||(l[2]=e=>{var l;$.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),x(Ee)("buy")})],placeholder:"0.0",size:"large",clearable:"",class:"input-number mt-10px","input-style":"text-align:right"},{prepend:b((()=>[g("span",qm,k(e.$t("amount")),1)])),append:b((()=>[y(q,{placement:"bottom",trigger:"click",onVisibleChange:l[0]||(l[0]=e=>_.value=e)},{dropdown:b((()=>[y(W,null,{default:b((()=>{var l,a,t;return[(h(!0),C(A,null,S(null==(t=(null==(a=null==(l=x(te))?void 0:l.botSwapBaseTokens)?void 0:a[be.value||""])||[])?void 0:t.filter((e=>{var l;return(null==e?void 0:e.address)!==(null==(l=x(le).swap.payToken)?void 0:l.address)})),(l=>(h(),p(R,{key:l.address,onClick:L((a=>{x(le).swap.payToken=l,e.$emit("getTokenBalance"),$.value="",I.value=""}),["stop"])},{default:b((()=>[g("img",{src:`${x(ie).token_logo_url}${l.logo_url}`,class:"rd-50% mr-8px",height:"16",alt:"",srcset:""},null,8,Qm),g("span",Km,k(null==l?void 0:l.symbol),1)])),_:2},1032,["onClick"])))),128))]})),_:1})])),default:b((()=>{var e,l;return[g("div",Ym,[g("img",{src:`${x(ie).token_logo_url}${null==(e=x(le).swap.payToken)?void 0:e.logo_url}`,class:"rd-50%",height:"20",alt:"",srcset:""},null,8,Gm),(null==(l=Se.value)?void 0:l.length)>1?(h(),p(U,{key:0,class:V(["arrow-up",{active:!0===_.value}]),name:"solar:alt-arrow-down-bold"},null,8,["class"])):f("",!0)])]})),_:1})])),_:1},8,["modelValue"]),g("div",Zm,[g("span",Xm,"≈"+k(x(X)(I.value||0))+" "+k(null==(a=he.value)?void 0:a.symbol),1),y(U,{name:"ri:wallet-fill",class:"color-[--third-text] text-14px ml-auto"}),g("span",Jm,k(null==(t=x(te).botSwapSelectedWallets)?void 0:t.length),1),g("div",{class:V(["color-[--third-text]",{clickable:(null==(o=x(te).botSwapSelectedWallets)?void 0:o.length)<=1}]),onClick:l[3]||(l[3]=L((e=>{var l;return Me((null==(l=x(le).swap.payToken)?void 0:l.balance)||0,"buy")}),["stop"]))},[T(k(e.$t("balance1"))+": ",1),g("span",null,k(x(X)(Ne.value||0)),1),T(" "+k((null==(s=x(le).swap.payToken)?void 0:s.symbol)||""),1)],2),y(Am,{class:"color-[--third-text]",type:0,isPayToken:"",isBatch:""})]),g("div",ep,[(h(!0),C(A,null,S(e.tabs1,((e,l)=>(h(),C("button",{key:l,class:"tab-item",type:"button",onClick:L((l=>Pe(e,"buy")),["stop"])},[kl.value?n.value[l]?(h(),p(Y,{key:1,modelValue:n.value[l].value,"onUpdate:modelValue":e=>n.value[l].value=e,style:{"--el-input-inner-height":"24px","--el-input-bg-color":"transparent","--el-input-border-color":"transparent","--el-input-hover-border-color":"transparent","--el-input-focus-border-color":"transparent"},class:"text-center w-full h-full",size:"small",onBlur:e=>{var a,t;return n.value[l].value=null==(t=null==(a=n.value[l].value)?void 0:a.replace)?void 0:t.call(a,/\-|[^\d.]/g,"")}},null,8,["modelValue","onUpdate:modelValue","onBlur"])):f("",!0):(h(),C("span",ap,k(e.name),1))],8,lp)))),128)),g("button",{class:"tab-item h-30px basis-[26px]! grow-0! shrink-0!",type:"button",onClick:l[4]||(l[4]=e=>function(e,l){var a,t;kl.value=!kl.value;const n=(null==(t=null==(a=null==ne?void 0:ne.botSettings)?void 0:a[be.value])?void 0:t.buy)||{};ne.botSettings[be.value][l][(null==n?void 0:n.selected)||"s1"].buyValueList=e.map((e=>e.value))}(n.value,"buy"))},[y(U,{name:kl.value?"custom:select":"custom:remark"},null,8,["name"])])])],64)):"sell"===e.activeTab?(h(),C(A,{key:1},[(null==(i=x(te).botSwapSelectedWallets)?void 0:i.length)>1?(h(),p(Y,{key:0,modelValue:D.value,"onUpdate:modelValue":[l[5]||(l[5]=e=>D.value=e),l[6]||(l[6]=e=>{var l;D.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),x(Ee)("sell")})],clearable:"",class:"input-number mt-10px",size:"large","input-style":"text-align:right",placeholder:"0"},{prepend:b((()=>{var e;return[g("span",tp,k(null==(e=he.value)?void 0:e.symbol),1)]})),append:b((()=>l[19]||(l[19]=[g("span",{class:"text-12px color-[--main-text]"},"%",-1)]))),_:1},8,["modelValue"])):(h(),p(Y,{key:1,modelValue:N.value,"onUpdate:modelValue":[l[7]||(l[7]=e=>N.value=e),l[8]||(l[8]=e=>{var l;N.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),x(Ee)("sell")})],clearable:"",class:"input-number mt-10px",size:"large","input-style":"text-align:right",placeholder:"0.0"},{prepend:b((()=>[g("span",np,k(e.$t("amount")),1)])),append:b((()=>{var e;return[g("span",op,k(null==(e=he.value)?void 0:e.symbol),1)]})),_:1},8,["modelValue"])),g("div",sp,[g("div",ip,[g("span",null,"≈"+k(x(X)(F.value||0)),1),y(q,{placement:"bottom",trigger:"click",onVisibleChange:l[9]||(l[9]=e=>_.value=e)},{dropdown:b((()=>[y(W,null,{default:b((()=>{var l,a,t;return[(h(!0),C(A,null,S(null==(t=(null==(a=null==(l=x(te))?void 0:l.botSwapBaseTokens)?void 0:a[be.value||""])||[])?void 0:t.filter((e=>{var l;return(null==e?void 0:e.address)!==(null==(l=x(le).swap.payToken)?void 0:l.address)})),(l=>(h(),p(R,{key:null==l?void 0:l.address,onClick:L((a=>{x(le).swap.payToken=l,e.$emit("getTokenBalance"),N.value="",F.value="",D.value=""}),["stop"])},{default:b((()=>[g("img",{src:`${x(ie).token_logo_url}${l.logo_url}`,class:"rd-50% mr-8px",height:"16",alt:"",srcset:""},null,8,up),g("span",dp,k(null==l?void 0:l.symbol),1)])),_:2},1032,["onClick"])))),128))]})),_:1})])),default:b((()=>{var l,a,t;return[g("div",rp,[g("span",null,k((null==(l=x(le).swap.payToken)?void 0:l.symbol)||(null==(a=("getChainInfo"in e?e.getChainInfo:x(Ge))(be.value||""))?void 0:a.main_name)),1),(null==(t=Se.value)?void 0:t.length)>1?(h(),p(U,{key:0,class:V(["arrow-up",{active:!0===_.value}]),name:"solar:alt-arrow-down-bold"},null,8,["class"])):f("",!0)])]})),_:1})]),y(U,{name:"ri:wallet-fill",class:"color-[--third-text] text-14px ml-auto"}),g("span",cp,k(null==(r=x(te).botSwapSelectedWallets)?void 0:r.length),1),g("span",{class:V(["color-[--third-text]",{clickable:(null==(u=x(te).botSwapSelectedWallets)?void 0:u.length)<=1}]),onClick:l[10]||(l[10]=L((e=>{var l;return Me((null==(l=x(le).swap.token)?void 0:l.balance)||0,"sell")}),["stop"]))},[T(k(e.$t("balance1"))+": ",1),g("span",null,k(x(X)($e.value||0)),1),T(" "+k(null==(d=he.value)?void 0:d.symbol),1)],2),y(Am,{class:"color-[--third-text]",type:1,isPayToken:"",isBatch:""})]),g("div",vp,[(h(!0),C(A,null,S(e.tabs2,((e,l)=>(h(),C("button",{key:l,class:"tab-item",type:"button",onClick:L((l=>Pe(e,"sell")),["stop"])},[g("span",null,k(e.name),1)],8,mp)))),128))])],64)):f("",!0),"limit"===e.swapType?(h(),C(A,{key:2},[y(Y,{modelValue:O.value,"onUpdate:modelValue":[l[12]||(l[12]=e=>O.value=e),l[13]||(l[13]=e=>{var l;return O.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,"")})],placeholder:"0.0",size:"large",clearable:"",class:"input-number mt-10px","input-style":"text-align:right"},{prepend:b((()=>[g("span",pp,k(H.value?e.$t("price"):"MC"),1),y(U,{name:"iconamoon:synchronize-fill",class:"clickable ml-5px text-12px color-[--main-text]",onClick:l[11]||(l[11]=L((e=>H.value=!H.value),["stop"]))})])),append:b((()=>l[20]||(l[20]=[g("span",{class:"text-12px color-[--main-text]"},"$",-1)]))),_:1},8,["modelValue"]),g("div",{class:V(["slider-swap",e.activeTab])},[g("div",fp,[y(G,{"model-value":z.value,"show-tooltip":!1,"show-input-controls":!1,min:-100,max:100,onInput:l[14]||(l[14]=e=>function(e){j.value=e}(e))},null,8,["model-value"]),g("div",xp,[(h(),C(A,null,S([-100,-50,0,50,100],((e,l)=>g("span",{key:l,class:"clickable",onClick:L((l=>j.value=e),["stop"])},k(e)+"%",9,hp))),64))])]),y(Y,{modelValue:j.value,"onUpdate:modelValue":[l[15]||(l[15]=e=>j.value=e),l[16]||(l[16]=e=>{var l;return j.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,"")})],placeholder:"0",class:"input-number max-w-70px ml-15px text-14px!"},{prefix:b((()=>l[21]||(l[21]=[g("div",{class:"w-10px"},null,-1)]))),suffix:b((()=>l[22]||(l[22]=[g("div",{class:"text-14px color-[--third-text] pr-5px"},"%",-1)]))),_:1},8,["modelValue"])],2)],64)):f("",!0),"buy"===e.activeTab&&"market"===e.swapType&&"ton"!==be.value?(h(),p(Um,{key:3,class:"mt-15px"})):f("",!0),We.value?(h(),C(A,{key:4},[Ie.value?"buy"===e.activeTab&&(0===Number(null==(c=ke.value)?void 0:c.balance)||Number(null==(v=ke.value)?void 0:v.balance)<Number(_e.value))?(h(),p(Q,{key:1,class:"submit-btn",color:Fe.value,"native-type":"button",onClick:l[17]||(l[17]=L((e=>{return l=be.value,void pe("botTopUp").emit(l);var l}),["stop"]))},{default:b((()=>[T(k(e.$t("lowBalanceToUP")),1)])),_:1},8,["color"])):(h(),p(Q,{key:2,class:"submit-btn",block:"",loading:B.value||M.value||x(me),"loading-text":B.value?"buy"===e.activeTab?e.$t("buying"):e.$t("selling"):e.$t("quoting"),color:Fe.value,disabled:!Ze()||!_e.value||!ye.value,"native-type":"button",onClick:L(Je,["stop"])},{default:b((()=>{var a,t,n;return[Xe()?(h(),C(A,{key:0},[T(k(Xe()),1)],64)):qe.value?(h(),C("div",bp,[T(k(e.$t("buy"))+" ",1),l[23]||(l[23]=g("span",null,"|",-1)),g("img",{src:`${x(ie).token_logo_url}${null==(n=x(le).swap.payToken)?void 0:n.logo_url}`,class:"rd-50%",height:"12",alt:"",srcset:""},null,8,gp),g("span",null,[T(k(Le.value)+" ",1),De.value?f("",!0):(h(),C(A,{key:0},[T(" ($"+k(Ve.value)+") ",1)],64))]),l[24]||(l[24]=g("span",null,"|",-1)),g("span",null,k(x(X)(I.value||0)),1)])):(h(),C(A,{key:1},[T(k(Xe()||(qe.value?e.$t("buy"):e.$t("sell")+(Number(F.value||0)>0?`≈ ${x(X)(F.value||0)} ${(null==(a=x(le).swap.payToken)?void 0:a.symbol)||(null==(t=("getChainInfo"in e?e.getChainInfo:x(Ge))(be.value||""))?void 0:t.main_name)}`:""))),1)],64))]})),_:1},8,["loading","loading-text","color","disabled"])):(h(),p(Q,{key:0,color:Fe.value,class:"submit-btn","native-type":"button",loading:P.value||B.value||x(me),disabled:Number(ke.value.balance)<Number(_e.value),onClick:L(Ke,["stop"])},{default:b((()=>[T(k((0===Number(ke.value.balance)||Number(ke.value.balance)<Number(_e.value))&&Xe()||e.$t("approve")),1)])),_:1},8,["color","loading","disabled"])),y(Wm,{activeTab:e.activeTab,swapType:e.swapType,gasPrice:x(re)},null,8,["activeTab","swapType","gasPrice"])],64)):(null==(E=null==(m=x(ae))?void 0:m.userInfo)?void 0:E.evmAddress)?(h(),C("div",_p,k(e.$t("useChainWallet")),1)):(h(),C("div",kp,[y(Q,{class:"btn-login",color:"buy"===e.activeTab?"#12B886":"#F6465D","native-type":"button",onClick:l[18]||(l[18]=L((e=>x(ae).changeConnectVisible(!0)),["stop"]))},{default:b((()=>[T(k(e.$t("login")),1)])),_:1},8,["color"])]))])}}}),wp=B(yp,[["__scopeId","data-v-d2ae4c73"]]),Tp=e=>{const l=je(),a=r(),t=j();m((()=>l.wsResult[kl.PRICEV2]),(l=>{l.prices.find((l=>{if(l.token+"-"+l.chain===a.params.id&&e.value){const a=Number(e.value.balance_amount||0);if(!a)return;const n=l.uprice*a,o=(l.uprice-Number(e.value.average_purchase_price_usd||0))*a,s=o+Number(e.value.realized_profit||0),i=l.uprice/Number(e.value.average_purchase_price_usd||0)-1;e.value.balance_usd=String(n),e.value.unrealized_profit=String(o),e.value.unrealized_ratio=String(i),e.value.total_profit=String(s);const r=t.mySwapList.filter((e=>[gl.BUY,gl.LIMIT_BUY].includes(e.swapType))).reduce(((e,l)=>e+(Number(l.inValue)||Number(l.outValue))),0);r&&(e.value.total_profit_ratio=String(s/r))}}))}))},Cp={key:0,class:"max-h-54px flex items-start justify-between color-[--main-text] text-center bg-[--main-list-hover] mb-12px py-10px rd-4px"},Ap={class:"flex-1"},Sp={class:"text-11px color-[--third-text]"},Np={class:"text-12px mt-5px color-#12B886"},$p={class:"flex-1"},Fp={class:"text-11px color-[--third-text]"},Ip={class:"flex-1"},Lp={class:"text-11px color-[--third-text]"},Vp={class:"text-12px mt-5px"},Dp={class:"flex-1"},Mp={class:"text-11px color-[--third-text] flex items-center justify-center"},Bp=s({__name:"holding",props:{isForceShow:{type:Boolean,default:!1}},setup(e){const l=r(),a=q(),t=W(),n=U(!1),o=d((()=>{var e,t,n,o,s;const[i,r]=c(null==(e=l.params)?void 0:e.id,1);return i&&r?null==(s=null==(o=null==(n=null==(t=a.userInfo)?void 0:t.addresses)?void 0:n.find)?void 0:o.call(n,(e=>(null==e?void 0:e.chain)===r)))?void 0:s.address:""}));m(o,(e=>{n.value=!1,e&&(u.value=0,i(),v())}));const s=U(null);async function i(){var e,t,o,i,r;const[u,d]=c(null==(e=l.params)?void 0:e.id,1);if(!u||!d)return;if(!a.isSupportChains.includes(d))return void(s.value=null);const v=null==(r=null==(i=null==(o=null==(t=a.userInfo)?void 0:t.addresses)?void 0:o.find)?void 0:i.call(o,(e=>(null==e?void 0:e.chain)===d)))?void 0:r.address;if(!v||!u)return;return _l({user_address:v,chain:d,user_token:u}).then((async e=>{var l;return s.value=(null==e?void 0:e[0])||null,Number((null==(l=s.value)?void 0:l.balance_usd)||0)>0&&(n.value=!1),e})).catch((async()=>(s.value=null,null)))}Tp(s);const u=U(0);async function v(){var e,t,n,o;const[s,i]=c(null==(e=l.params)?void 0:e.id,1);if(!s||!i)return;if(!(null==(n=null==(t=a.isSupportChains)?void 0:t.includes)?void 0:n.call(t,i)))return;const r={evmAddress:a.evmAddress,chains:i,pinToken:null==(o=l.params)?void 0:o.id};return yl(r).then((async e=>{var l,a,t,n,o;return!(null==(l=null==e?void 0:e[0])?void 0:l.value)||(null==(a=null==e?void 0:e[0])?void 0:a.value)>0&&(null==(t=null==e?void 0:e[0])?void 0:t.token)!==s?(u.value=0,void pe("updateAvgPrice").emit(0)):(u.value=Number((null==(n=null==e?void 0:e[0])?void 0:n.avgPrice)||0),(null==(o=null==e?void 0:e[0])?void 0:o.value)>0&&pe("updateAvgPrice").emit(u.value),e)})).catch((async()=>null))}m((()=>l.params.id),(()=>{n.value=!1,u.value=0,i(),v()})),m((()=>t.placeOrderSuccess),(()=>{n.value=!0,b(),v()}));let p=0;function b(){p>10?p=0:(i(),v(),p++,setTimeout(b,5e3))}const _=U(!1),S=pe("klineDataReady").on((()=>{u.value>0&&pe("updateAvgPrice").emit(u.value)}));return de((()=>{S&&S()})),(l,a)=>{var o,i,r,u,d,c,v,m,p,b,S,N,$,F,I;const D=w;return Number((null==(o=x(s))?void 0:o.balance_usd)||0)>0&&Number((null==(r=null==(i=x(t).swap)?void 0:i.token)?void 0:r.balance)||0)>0||x(n)||e.isForceShow?(h(),C("div",Cp,[g("div",Ap,[g("div",Sp,k(l.$t("bought")),1),g("div",Np,"$"+k(x(X)((null==(u=x(s))?void 0:u.total_purchase_usd)||0,2)),1)]),g("div",$p,[g("div",Fp,k(l.$t("sold")),1),g("div",{class:V(["text-12px mt-5px",[Number((null==(d=x(s))?void 0:d.total_sold_usd)||0)>0?"color-#F6465D":"color-[--third-text]"]])},"$"+k(x(X)((null==(c=x(s))?void 0:c.total_sold_usd)||0,2)),3)]),g("div",Ip,[g("div",Lp,k(l.$t("holding")),1),g("div",Vp,"$"+k(x(X)((null==(v=x(s))?void 0:v.balance_usd)||0,2)),1)]),g("div",Dp,[g("div",Mp,[g("span",null,k(l.$t("profit2")),1),y(D,{name:"custom:price",class:V(["text-11px clickable ml-5px",[x(_)?"color-[--third-text]":"color-[--secondary-text]"]]),onClick:a[0]||(a[0]=L((e=>_.value=!x(_)),["stop"]))},null,8,["class"])]),g("div",{class:V(["text-12px mt-5px",[Number((null==(m=x(s))?void 0:m.total_profit)||0)>0?"color-#12B886":"color-#F6465D"]])},[x(_)?(h(),C(A,{key:1},[T(k(x(X)(Number((null==(S=x(s))?void 0:S.total_profit)||0)/Number((null==(N=x(s))?void 0:N.main_token_price)||1),2))+" "+k((null==($=x(s))?void 0:$.main_token_symbol)||""),1)],64)):(h(),C(A,{key:0},[T(k(Number((null==(p=x(s))?void 0:p.total_profit)||0)>0?"":"-")+"$"+k(x(X)(Math.abs(Number(null==(b=x(s))?void 0:b.total_profit)||0),2)),1)],64))],2),g("div",{class:V(["text-8px",[Number((null==(F=x(s))?void 0:F.total_profit_ratio)||0)>0?"color-#12B886":"color-#F6465D"]])},"("+k(x(X)(100*Number((null==(I=x(s))?void 0:I.total_profit_ratio)||0),2))+"%)",3)])])):f("",!0)}}}),Pp={class:"ml-auto flex item-center clickable"},Ep={class:"text-12px color-[--main-text] mx-3px"},Up={class:"color-[--third-text] text-12px max-h-500px overflow-y-auto"},Rp={class:"flex items-center justify-between px-12px b-b-solid b-b-1px b-b-[--border]"},Hp={class:"flex-1 text-right"},Op={class:"flex-1 text-right"},jp={class:"flex items-center",style:{flex:"1.5"}},zp=["title"],Wp={class:"color-[--third-text] flex items-center"},qp={class:"ml-auto lh-14px flex items-center color-[--main-text] text-12px flex-1 justify-end"},Yp=["src"],Gp={class:"ml-auto lh-14px flex items-center color-[--main-text] text-12px flex-1 justify-end"},Qp=["src"],Kp=["src"],Zp={class:"text-12px color-[--main-text]"},Xp=s({__name:"batchWallet",props:{chain:{type:String,default:""},boundary:{type:HTMLElement,default:null}},setup(e){const l=e,a=ve(),t=W(),n=q(),o=nl(),s=U(!1),i=U(!1),r=d((()=>{var e,l;return(null==(l=null==(e=n.walletList)?void 0:e.map)?void 0:l.call(e,(e=>e.evmAddress)))||[]})),u=d((()=>{var e,l,a;const t=null==(l=null==(e=n.walletList)?void 0:e.slice)?void 0:l.call(e,0);return(null==(a=null==t?void 0:t.sort)?void 0:a.call(t,(e=>e.evmAddress===n.evmAddress?-1:1)))||[]}));m((()=>n.evmAddress),(e=>{o.botSwapSelectedWallets=e?[e||""]:[]}));const c=d((()=>{var e;const a=[...o.botSwapSelectedWallets,n.evmAddress||""],s=Array.from(new Set(null==a?void 0:a.filter(Boolean)));let i="0";const r=t.swap.payToken;return null==(e=n.walletList)||e.forEach((e=>{s.includes(e.evmAddress)&&(i=new Be(i).plus($(l.chain,e.addresses,null==r?void 0:r.address)||0).toFixed())})),i})),v=e=>{o.botSwapSelectedWallets=e?r.value:[n.evmAddress||""],i.value=!1},f=e=>{const l=e.length;i.value=l>0&&l<n.walletList.length},_=d((()=>o.botSwapSelectedWallets.length===n.walletList.length));function N(e,l){var a;return null==(a=null==l?void 0:l.find)?void 0:a.call(l,(l=>(null==l?void 0:l.chain)===e))}function $(e,l,a){var t,n,o,s,i;return(null==(t=sl)?void 0:t.includes(a||""))||!a?(null==(n=N(e,l))?void 0:n.balance)||0:(null==(i=null==(s=null==(o=N(e,l))?void 0:o.tokenBalances)?void 0:s[a])?void 0:i.balance)||0}return(l,r)=>{var d;const m=w,F=tl,I=wl,B=M,P=H("copy");return h(),C(A,null,[y(B,{visible:x(s),"onUpdate:visible":r[3]||(r[3]=e=>D(s)?s.value=e:null),placement:"bottom",width:"305",trigger:"click","popper-class":"[&&]:[--el-popover-padding:0]","popper-options":{modifiers:[{name:"preventOverflow",options:{boundary:e.boundary,padding:0}}]}},{reference:b((()=>{var e;return[g("div",Pp,[y(m,{name:"ri:wallet-fill",class:"color-[--secondary-text] text-14px"}),g("span",Ep,k(null==(e=x(o).botSwapSelectedWallets)?void 0:e.length),1),y(m,{name:"prime:sort-down-fill",class:V(["color-[--main-text] text-14px transition-all-300",{"rotate-180":x(s)}])},null,8,["class"])])]})),default:b((()=>{var s,d;return[g("div",Up,[g("div",Rp,[y(F,{modelValue:x(_),"onUpdate:modelValue":r[0]||(r[0]=e=>D(_)?_.value=e:null),indeterminate:x(i),style:{"--el-checkbox-font-size":"12px",flex:"1.5"},onChange:v},{default:b((()=>[T(k(l.$t("all1")),1)])),_:1},8,["modelValue","indeterminate"]),g("span",Hp,k(l.$t("balance1"))+"("+k(null==(s=x(t).swap.payToken)?void 0:s.symbol)+")",1),g("span",Op,k(l.$t("balance1"))+"("+k(null==(d=x(t).swap.token)?void 0:d.symbol)+")",1)]),(h(),C("div",{key:x(n).evmAddress,class:"px-12px"},[y(I,{modelValue:x(o).botSwapSelectedWallets,"onUpdate:modelValue":r[2]||(r[2]=e=>x(o).botSwapSelectedWallets=e),onChange:f},{default:b((()=>[(h(!0),C(A,null,S(x(u),((o,s)=>{var i,u,d,c,v,f,b,_;return h(),C("div",{key:o.evmAddress,class:V(["flex items-center h-50px",{"b-b-solid b-b-1px b-b-[--border]":s!==(null==(i=x(n))?void 0:i.walletList.length)-1}])},[g("div",jp,[(h(),p(F,{key:o.evmAddress,class:"[&&]:[--el-checkbox-disabled-checked-icon-color:#FFF] [&&]:[--el-checkbox-disabled-checked-input-fill:#3F80F7] [&&]:[--el-checkbox-disabled-checked-input-border-color:#3F80F7] batch-checkbox",value:o.evmAddress,disabled:o.evmAddress===x(n).evmAddress,checked:o.evmAddress===x(n).evmAddress},null,8,["value","disabled","checked"])),g("div",{class:"text-12px lh-14px",onClick:r[1]||(r[1]=L((()=>{}),["stop"]))},[g("div",{class:"color-[--main-text] overflow-hidden text-ellipsis whitespace-nowrap max-w-100px",title:o.name},k(o.name),9,zp),g("div",Wp,[g("span",null,k(null==(d=null==(u=N(e.chain,o.addresses))?void 0:u.address)?void 0:d.replace(new RegExp("(.{6})(.+)(.{4})"),"$1...$3")),1),O(y(m,{name:"bxs:copy",class:"clickable ml-5px text-12px"},null,512),[[P,null==(c=N(e.chain,o.addresses))?void 0:c.address]])])])]),g("div",qp,[g("img",{src:`${x(a).token_logo_url}${null==(v=x(t).swap.payToken)?void 0:v.logo_url}`,class:"rd-50% mr-2px",height:"12",alt:"",srcset:""},null,8,Yp),g("span",null,k(("formatNumber"in l?l.formatNumber:x(X))($(e.chain,o.addresses,null==(f=x(t).swap.payToken)?void 0:f.address)||0)),1)]),g("div",Gp,[g("img",{src:`${x(a).token_logo_url}${null==(b=x(t).swap.token)?void 0:b.logo_url}`,class:"rd-50% mr-2px",height:"12",alt:"",srcset:""},null,8,Qp),g("span",null,k(("formatNumber"in l?l.formatNumber:x(X))($(e.chain,o.addresses,null==(_=x(t).swap.token)?void 0:_.address)||0)),1)])],2)})),128))])),_:1},8,["modelValue"])]))])]})),_:1},8,["visible","popper-options"]),r[4]||(r[4]=g("div",{class:"border-l-solid border-l-1px border-l-[--icon-color] h-8px mx-8px"},null,-1)),g("img",{src:`${x(a).token_logo_url}${null==(d=x(t).swap.payToken)?void 0:d.logo_url}`,class:"rd-50% mr-2px",height:"12",alt:"",srcset:""},null,8,Kp),g("span",Zp,k(("formatNumber"in l?l.formatNumber:x(X))(x(c)||0)),1)],64)}}}),Jp=B(Xp,[["__scopeId","data-v-408b2913"]]),ef={key:0,class:"flex items-center py-11px px-8px text-12px justify-between bg-[--dialog-bg] rounded-4px mb-12px"},lf={class:"font-500 color-[--main-text] mr-2px max-w-60px truncate"},af={class:"color-[--main-text] ml-2px mr-2px"},tf={__name:"bestToken",setup(e){const l=r(),a=W(),t=U(null),n=d((()=>c(l.params.id||"").chain)),o=()=>{const{token:e}=t.value;Al(`/token/${e}-${n.value}`)},s=async()=>{var e;try{const n=await Cl(l.params.id||""),o=(null==n?void 0:n.symbol)?n:n.data;a.bestToken=o,(null==o?void 0:o.token)!==(null==(e=a.token)?void 0:e.token)?t.value=o:t.value=null}catch(n){t.value=null}};return s(),m((()=>{var e;return null==(e=a.token)?void 0:e.token}),(()=>{s()})),(e,l)=>{const a=Tl,s=H("tooltip");return x(t)?(h(),C("div",ef,[T(k(e.$t("devBestToken"))+" ",1),g("div",{class:"flex items-center color-[--secondary-text] cursor-pointer",onClick:o},[y(a,{class:"mr-4px","token-class":"w-16px",chainClass:"w-8px",row:{logo_url:x(t).logo_url||"",symbol:x(t).symbol||"",chain:x(n)||""}},null,8,["row"]),O((h(),C("span",lf,[T(k(x(t).symbol),1)])),[[s,x(t).symbol]]),l[0]||(l[0]=T(" (ATH MC ")),g("span",af,"$"+k(("formatNumber"in e?e.formatNumber:x(X))(x(t).all_time_high,0)),1),l[1]||(l[1]=T(") "))])])):f("",!0)}}},nf={ref:"bot-swap-container",class:"bot-swap-container"},of={class:"tabs"},sf=["onClick"],rf={key:0,class:"flex items-center h-40px"},uf={class:"tabs-1 mr-5px"},df=["onClick"],cf={class:"select-box"},vf=s({__name:"index",setup(e){const{t:l}=i(),a=r(),t=ll(),n=u("buy"),o=u("market"),s=q(),_=W(),w=je(),T=nl(),N=Sl("bot-swap-container"),{getTokenBalance:$}=Cm(),F=d((()=>{var e,l,t;return(null==(l=c(null==(e=a.params)?void 0:e.id))?void 0:l.chain)||(null==(t=_.token)?void 0:t.chain)})),I=d((()=>[{value:"buy",name:l("buy")},{value:"sell",name:l("sell")}])),M=d((()=>{var e,l,a;const n=(null==(l=null==(e=null==t?void 0:t.botSettings)?void 0:e[F.value])?void 0:l.buy)||{};return((null==(a=null==n?void 0:n[n.selected])?void 0:a.buyValueList)||["0.02","0.05","0.1","0.5"]).map((e=>({name:e,value:e})))})),B=d((()=>{var e,l,a;const n=(null==(l=null==(e=null==t?void 0:t.botSettings)?void 0:e[F.value])?void 0:l.sell)||{};return((null==(a=null==n?void 0:n[n.selected])?void 0:a.sellPerList)||["25","50","75","100"]).map((e=>({name:e+"%",value:new Be(e).div(100).toString()})))})),P=d((()=>[{value:"market",name:l("swapT")},{value:"limit",name:l("limitT")}]));m(P,(e=>{e.every((e=>e.value!==o.value))&&(o.value=e[0].value)}));const E=d((()=>{var e,l,t,n,o,i,r;const u=(null==(l=c(null==(e=a.params)?void 0:e.id))?void 0:l.chain)||(null==(t=_.token)?void 0:t.chain);return null==(r=null==(i=null==(o=null==(n=s.userInfo)?void 0:n.addresses)?void 0:o.find)?void 0:i.call(o,(e=>(null==e?void 0:e.chain)===u)))?void 0:r.address}));m([E,()=>{var e;return null==(e=a.params)?void 0:e.id},()=>{var e;return null==(e=w.wsResult)?void 0:e.tgbot}],(()=>{E.value&&$()}));const U={solana:"sol",ton:"TON"};function R(){var e,l,t,n,o,s;if(!(null==(e=a.params)?void 0:e.id))return;const{address:i,chain:r}=c(null==(l=a.params)?void 0:l.id);_.swap.token={address:i,chain:r},r!==_.swap.native.chain&&(_.swap.native={symbol:null==(t=Ge(r))?void 0:t.main_name,chain:r,address:U[r]||Ye,decimals:null==(n=Ge(r))?void 0:n.decimals}),r!==(null==(o=_.swap.payToken)?void 0:o.chain)&&(_.swap.payToken=((null==(s=null==T?void 0:T.botSwapBaseTokens)?void 0:s[r||""])||[])[0])}return m((()=>{var e;return null==(e=a.params)?void 0:e.id}),(e=>{e&&R()})),v((()=>{$(),R()})),(e,l)=>{var a,i,r,u,d,c,v;const m=Zn,w=Kn;return h(),C("div",nf,[y(Bp),y(tf),g("div",of,[(h(!0),C(A,null,S(x(I),((e,l)=>(h(),C("button",{key:l,class:V(["tab-item",{active:e.value===x(n),[`tab-${e.value}`]:!0}]),type:"button",onClick:l=>n.value=e.value},[g("span",null,k(e.name),1)],10,sf)))),128))]),(null==(i=null==(a=x(s))?void 0:a.userInfo)?void 0:i.evmAddress)&&(null==(u=null==(r=x(s))?void 0:r.isSupportChains)?void 0:u.includes(x(F)))?(h(),C("div",rf,[g("div",uf,[(h(!0),C(A,null,S("BotSettingsArr"in e?e.BotSettingsArr:x(Nl),(e=>{var l,a,o,s;return h(),C("button",{key:e.value,class:V({active:e.value===(null==(s=null==(o=null==(a=null==(l=x(t))?void 0:l.botSettings)?void 0:a[x(F)])?void 0:o[x(n)])?void 0:s.selected)}),type:"button",onClick:L((l=>function(e){var l;(null==(l=null==t?void 0:t.botSettings)?void 0:l[F.value])&&(t.botSettings[F.value][n.value].selected=e)}(e.value)),["stop"])},k(e.label),11,df)})),128))]),y(Bn,{canSetAuto:!0,isAutoSell:"market"===x(o),chain:null==(c=null==(d=x(_).tokenInfo)?void 0:d.token)?void 0:c.chain,setting:null==(v=x(t))?void 0:v.botSettings[x(F)]},null,8,["isAutoSell","chain","setting"]),y(Jp,{chain:x(F),boundary:x(N)},null,8,["chain","boundary"])])):f("",!0),g("div",cf,[y(w,{modelValue:x(o),"onUpdate:modelValue":l[0]||(l[0]=e=>D(o)?o.value=e:null),class:"select-tabs"},{default:b((()=>[(h(!0),C(A,null,S(x(P),((e,l)=>(h(),p(m,{key:l,label:e.name,name:e.value},null,8,["label","name"])))),128))])),_:1},8,["modelValue"])]),y(wp,{activeTab:x(n),swapType:x(o),tabs1:x(M),tabs2:x(B),onGetTokenBalance:x($)},null,8,["activeTab","swapType","tabs1","tabs2","onGetTokenBalance"])],512)}}}),mf=B(vf,[["__scopeId","data-v-9202f6fd"]]),pf={class:"tabs"},ff=["disabled","onClick"],xf=s({__name:"tabs",props:{activeTab:{type:Number,default:0}},emits:["update:activeTab"],setup(e,{emit:l}){const a=Y(),{t:t}=i(),n=l,o=["sui","solana","tron","ton"],s=d((()=>[{name:t("buy"),value:0},{name:t("sell"),value:1}]));return(l,t)=>(h(),C("div",pf,[(h(!0),C(A,null,S(x(s),((t,s)=>{var i,r,u;return h(),C("button",{key:s,class:V(["tab-item",{active:t.value===e.activeTab,[`tab-${t.value}`]:!0}]),type:"button",disabled:"evm"!==(null==(r=("getChainInfo"in l?l.getChainInfo:x(Ge))((null==(i=x(a))?void 0:i.chain)||""))?void 0:r.vm_type)&&!o.includes((null==(u=x(a))?void 0:u.chain)||""),onClick:e=>{return l=t.value,void n("update:activeTab",l);var l}},[g("span",null,k(t.name),1)],10,ff)})),128))]))}}),hf=B(xf,[["__scopeId","data-v-5206989c"]]),bf=s({__name:"typeTabs",props:{isOnlyMarket:{type:Boolean,default:!1},tab:{type:Number,default:0}},emits:["update:tab"],setup(e,{emit:l}){const a=e,t=l,n=Y(),{t:o}=i(),s=d((()=>{if(a.isOnlyMarket)return[{name:o("swapT"),value:2}];return"solana"===(n.chain||"")?[{name:o("swapT"),value:2},{name:o("limitT"),value:0}]:[{name:o("swapT"),value:2},{name:o("limitT"),value:0},{name:o("stopLimit"),value:1}]}));return(l,a)=>{const n=Zn,o=Kn;return h(),p(o,{"model-value":e.tab,class:"select-tabs","onUpdate:modelValue":a[0]||(a[0]=e=>t("update:tab",e))},{default:b((()=>[(h(!0),C(A,null,S(x(s),((e,l)=>(h(),p(n,{key:l,label:e.name,name:e.value},null,8,["label","name"])))),128))])),_:1},8,["model-value"])}}}),gf=B(bf,[["__scopeId","data-v-816d704f"]]),kf="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='11px'%20height='3px'%20viewBox='0%200%2011%203'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ctitle%3e编组%3c/title%3e%3cg%20id='交易+挂单'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cg%20id='交易-市价交易-买备份'%20transform='translate(-268.000000,%20-584.000000)'%20fill='%23999999'%20fill-rule='nonzero'%3e%3cg%20id='提示文案'%20transform='translate(14.000000,%20508.000000)'%3e%3cg%20id='编组-9备份-3'%20transform='translate(0.000000,%2063.000000)'%3e%3cg%20id='编组'%20transform='translate(254.000000,%2013.000000)'%3e%3cpolygon%20id='路径'%20points='9.53333333%200%2011%200%209.77777778%201.13999999%207.88333333%203%207.15%202.28%208.31111112%201.13999999%200%201.13999999%200%200'%3e%3c/polygon%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",_f={class:"history"},yf={key:0,class:"flex gap-5px mb-32px"},wf=["onClick"],Tf={class:"flex-column mt-6px"},Cf={class:"flex-start"},Af={class:"token-symbol font-14"},Sf={key:0,class:"risk-status high"},Nf={class:"flex-start color-[--secondary-text] text-16px font-500 mb-10px"},$f={class:"ml-5px"},Ff={class:"content color-[--main-text]"},If=["onClick"],Lf={class:"token-info"},Vf={class:"flex-column"},Df={class:"flex-start"},Mf={class:"token-symbol font-14"},Bf={key:0,class:"risk-status high"},Pf={key:0,class:"px-5px py-0 color-[--third-text]"},Ef={key:0,class:"flex flex-col text-right"},Uf=["innerHTML"],Rf=["innerHTML"],Hf={key:2,class:"empty"},Of=B(s({__name:"searchTable",props:{searchTokens:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},disabledToken:{type:String,default:""}},emits:["onSelect"],setup(e,{emit:l}){const a=e,n=l;ve().chainConfig;const o={bsc:{BNB:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",WBNB:"0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",USDT:"0x55d398326f99059ff775485246999027b3197955",USDC:"0x8ac76a51cc950d9822d68b83fe1ad97b32cd580d",USD1:"0x8d0d000ee44948fc98c9b98a4fa4921476f08b0d"},eth:{base:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",WETH:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",USDT:"0xdac17f958d2ee523a2206206994597c13d831ec7",USDC:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",USD1:"0x8d0d000ee44948fc98c9b98a4fa4921476f08b0d"},base:{ETH:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",WETH:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",USDT:"0xfde4c96c8593536e31f229ea8f37b2ada2699bb2",USDC:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913"},xlayer:{OKB:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",WOKB:"0xe538905cf8410324e03a5a23c1c177a474d59b2b",USDT:"0x5b827940327c99e255ff498206703bffaa625a43",USDC:"0x74b7f16337b8972027f6196a17a631ac6de26d22"},solana:{SOL:"So11111111111111111111111111111111111111112",USDT:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"}},s=d((()=>{var e;const l=[...new Set(Object.values(o).flatMap((e=>Object.values(e))))];return null==(e=a.searchTokens)?void 0:e.filter((e=>null==l?void 0:l.includes(e.address||"")))}));function i(e){((null==e?void 0:e.address)||(null==e?void 0:e.token))&&a.disabledToken!==e.address&&n("onSelect",e)}return(l,a)=>{var n,o;const r=Tl,u=w,d=t,c=Ce;return h(),C("div",_f,[(null==(n=x(s))?void 0:n.length)>0?(h(),C("div",yf,[(h(!0),C(A,null,S(x(s),((e,a)=>(h(),C("div",{class:"item bg-[--border] rounded-12px px-12px py-12px flex flex-col items-center justify-center flex-1 max-w-20%",key:a,onClick:l=>i(e)},[y(r,{row:e,tokenClass:"w-32px h-32px"},null,8,["row"]),g("div",Tf,[g("div",Cf,[g("span",Af,k(e.symbol),1),(((null==e?void 0:e.risk_score)||0)>55||((null==e?void 0:e.risk_level)||0)<0)&&1!==e.risk_level?(h(),C("span",Sf,k(l.$t("highRisk")),1)):f("",!0)])])],8,wf)))),128))])):f("",!0),g("div",Nf,[y(u,{class:"text-24px",name:"custom:my-token"}),g("span",$f,k(l.$t("myToken")),1)]),(null==(o=e.searchTokens)?void 0:o.length)>0?O((h(),p(d,{key:1,height:"calc(45vh)",class:"hidden-scrollbar"},{default:b((()=>[g("ul",Ff,[(h(!0),C(A,null,S(e.searchTokens,((a,t)=>{var n,o;return h(),C("li",{key:t,class:V([{disabled:e.disabledToken===a.address},"flex justify-between px-16px py-16px clickable hover:bg-[--dialog-list-hover]"]),onClick:L((e=>i(a)),["stop","prevent"])},[g("div",Lf,[y(r,{class:"mr-5px",row:a,tokenClass:"w-40px h-40px"},null,8,["row"]),g("div",Vf,[g("div",Df,[g("span",Mf,k(a.symbol),1),(((null==a?void 0:a.risk_score)||0)>55||((null==a?void 0:a.risk_level)||0)<0)&&1!==a.risk_level?(h(),C("span",Bf,k(l.$t("highRisk")),1)):f("",!0)]),(null==a?void 0:a.tags)||a.address===x(Ye)?f("",!0):(h(),C("span",Pf,k(null==(n=a.token)?void 0:n.slice(0,4))+"**"+k(null==(o=a.token)?void 0:o.slice(-4)),1))])]),(a.amount||0)>0||(a.value||0)>0||(a.balance||0)>0?(h(),C("div",Ef,[g("span",{class:"color-[--main-text]",innerHTML:`$ ${x(X)((a.current_price_usd||a.price||0)*((null==a?void 0:a.amount)||(null==a?void 0:a.value)||a.balance||0))}`},null,8,Uf),g("span",{class:"color-[--third-text] py-2px",innerHTML:a.amount||a.value||a.balance?x(X)((null==a?void 0:a.amount)||(null==a?void 0:a.value)||a.balance||""):""},null,8,Rf)])):f("",!0)],10,If)})),128))])])),_:1})),[[c,e.loading]]):(h(),C("div",Hf,[g("div",null,[a[0]||(a[0]=g("img",{src:te},null,-1)),a[1]||(a[1]=g("br",null,null,-1)),g("span",null,k(l.$t("noSearchResults")),1)])]))])}}}),[["__scopeId","data-v-3cf6f40e"]]),jf={class:"text-14px color-[--main-text] font-400 ml-3px"},zf={key:1},Wf={class:"text-20px font-500"},qf={class:"search-content mt-16px"},Yf=B(s({__name:"selectSwapToken",props:{tokens:{type:Array,default:()=>[]},token:{type:Object,default:()=>({token:"",address:"",symbol:"",logo_url:"",chain:""})},chain:{type:String,default:""},disabledToken:{type:String,default:""}},emits:["update:token"],setup(e,{emit:l}){const{t:a}=i(),t=e,n=l,o=U(!1),s=U(""),r=U(t.tokens||[]),u=U(!1),c=d((()=>{var e;return(null==(e=r.value)?void 0:e.length)>0?r.value:t.tokens||[]}));m(s,(e=>{""!==e?f():r.value=t.tokens})),m(o,(e=>{e&&(r.value=t.tokens||[],s.value="")}));let v=null;function f(){v&&(clearTimeout(v),v=null),v=setTimeout((()=>{!function(){var e;if(""!==s.value){const l=new RegExp(s.value,"i"),a=(null==(e=t.tokens)?void 0:e.filter((e=>l.test((null==e?void 0:e.address)||"")||l.test((null==e?void 0:e.symbol)||"")||l.test((null==e?void 0:e.name)||""))))||[];u.value=!0,$l(s.value,t.chain).then((e=>{var l,n,o;const s=null==(o=null==(n=null==(l=e.filter)?void 0:l.call(e,(e=>e.chain===t.chain&&!a.some((l=>l.token===e.token)))))?void 0:n.map)?void 0:o.call(n,(e=>({...e,address:e.token})));r.value=[...a,...s]})).catch((e=>{r.value=[]})).finally((()=>{u.value=!1}))}else r.value=t.tokens}()}),500)}function _(e){var l,a;e.address!==t.disabledToken&&((null==e?void 0:e.address)||(null==e?void 0:e.token))&&(n("update:token",{...e,value:(null==(l=null==e?void 0:e.value)?void 0:l.toString())||0,balance:(null==(a=null==e?void 0:e.balance)?void 0:a.toString())||0}),o.value=!1)}return(e,l)=>{var n,i,r,d;const v=Tl,m=w,T=Ae,S=Ue;return h(),C(A,null,[g("button",{class:"flex items-center bg-transparent border-none p-0 clickable text-14px",type:"button",onClick:l[0]||(l[0]=L((e=>o.value=!0),["stop"]))},[(null==(n=t.token)?void 0:n.address)||(null==(i=t.token)?void 0:i.token)?(h(),C(A,{key:0},[(h(),p(v,{key:null==(r=t.token)?void 0:r.address,row:t.token},null,8,["row"])),g("span",jf,k((null==(d=t.token)?void 0:d.symbol)||""),1)],64)):(h(),C("div",zf,k(e.$t("pleaseSelectToken")),1)),y(m,{class:V(["arrow-up",{active:!0===x(o)}]),name:"solar:alt-arrow-down-bold"},null,8,["class"])]),y(S,{modelValue:x(o),"onUpdate:modelValue":l[3]||(l[3]=e=>D(o)?o.value=e:null),"append-to-body":"",class:"new-dialog",width:"420px"},{header:b((()=>[g("span",Wf,k(x(a)("selectToken")),1)])),default:b((()=>[g("div",{class:"search-dialog-container",onClick:l[2]||(l[2]=L((()=>{}),["stop"]))},[y(T,{ref:"inputSearch",class:"search-input",modelValue:x(s),"onUpdate:modelValue":l[1]||(l[1]=e=>D(s)?s.value=e:null),modelModifiers:{trim:!0},placeholder:x(a)("enterAddress/token"),clearable:"",onKeydown:Fl(f,["enter"])},{prefix:b((()=>[y(m,{class:"text-16px text-[--third-text]",name:"custom:search"})])),_:1},8,["modelValue","placeholder"]),g("div",qf,[y(Of,{searchTokens:x(c),loading:x(u),disabledToken:t.disabledToken||t.token.address,onOnSelect:_},null,8,["searchTokens","loading","disabledToken"])])])])),_:1},8,["modelValue"])],64)}}}),[["__scopeId","data-v-c6e5211f"]]),Gf={class:"flex items-center"},Qf={key:0,class:"mr-5px color-[--main-text]"},Kf={key:1,class:"mr-5px"},Zf={class:"text-18px color-#fff font-400"},Xf={class:"slippage-label"},Jf={class:"mt-10px"},ex=["id","value","disabled"],lx=["for"],ax={class:"slippage-input"},tx={key:0,class:"tip"},nx={class:"form-submit"},ox=B(s({__name:"slippageSet",props:{slippage:{type:[String,Number],default:"2"},autoSlippage:{type:String,default:"2"},canSetAuto:{type:Boolean,default:!0}},emits:["update:slippage"],setup(e,{emit:l}){const a=e,t=l,{t:n}=i(),o=[.1,.5,1],s=U("auto"===a.slippage?void 0:Number(a.slippage)),r=U(!1),u=U("auto"===a.slippage);function d(){void 0===s.value?t("update:slippage","auto"):t("update:slippage",String(s.value)),r.value=!1}function c(){se.alert(n("slippageTips"),{title:n("slippage"),confirmButtonText:n("iKnown")})}function v(){s.value&&Number(s.value)>49.99&&(s.value=49.99)}function _(e){return Number(e)<=49.99}return m(r,(e=>{e&&(s.value="auto"===a.slippage?void 0:Number(a.slippage))})),m(u,(e=>{e&&(s.value=void 0)})),(l,a)=>{const t=w,n=Ll,i=tl,m=Dn,N=ao,$=Vn,F=Te,I=Il,V=Ue;return h(),C("div",null,[g("div",Gf,[e.canSetAuto?(h(),C("span",Qf,k("auto"===e.slippage?l.$t("autoSlippage"):l.$t("manualSlippage"))+"("+k("auto"===e.slippage?e.autoSlippage:e.slippage)+"%) ",1)):(h(),C("span",Kf,k(e.slippage)+"%",1)),y(t,{class:"clickable",name:"tdesign:setting-1",onClick:a[0]||(a[0]=L((e=>r.value=!0),["stop"]))})]),y(V,{modelValue:x(r),"onUpdate:modelValue":a[4]||(a[4]=e=>D(r)?r.value=e:null),width:"500px","append-to-body":""},{header:b((()=>[g("span",Zf,k(l.$t("setSlippage")),1)])),default:b((()=>[y(I,{class:"popup-content",onSubmit:L(d,["prevent"])},{default:b((()=>[g("div",Xf,[g("span",null,k(l.$t("slippage")),1),y(n,{size:15,color:"#80838B",style:{cursor:"pointer","margin-left":"5px","margin-right":"auto"},onClick:L(c,["stop"])},{default:b((()=>[y(x(Vl))])),_:1}),e.canSetAuto?(h(),p(i,{key:0,modelValue:x(u),"onUpdate:modelValue":a[1]||(a[1]=e=>D(u)?u.value=e:null),label:l.$t("autoSlippage"),size:"large"},null,8,["modelValue","label"])):f("",!0)]),g("div",Jf,[y($,{gutter:10},{default:b((()=>[(h(),C(A,null,S(o,((e,l)=>y(m,{key:l,span:6,class:"radio-group"},{default:b((()=>[O(g("input",{id:`radio-${e}`,"onUpdate:modelValue":a[2]||(a[2]=e=>D(s)?s.value=e:null),type:"radio",value:e,disabled:x(u),class:"radio-input"},null,8,ex),[[Dl,x(s)]]),g("label",{for:`radio-${e}`,class:"radio-item"},k(e)+"%",9,lx)])),_:2},1024))),64)),y(m,{span:6},{default:b((()=>[g("div",ax,[y(N,{modelValue:x(s),"onUpdate:modelValue":a[3]||(a[3]=e=>D(s)?s.value=e:null),class:"select bg-#212847 w-full",name:"slippage",type:"number",min:0,max:49.99,step:.01,disabled:x(u),"controls-position":"right",clearable:"",rules:[{required:!0,message:l.$t("enterSlippage")},{validator:_,message:l.$t("slippageMaxTip")}],onBlur:v},null,8,["modelValue","disabled","rules"]),a[5]||(a[5]=g("span",{class:"color-fff"},"%",-1))])])),_:1})])),_:1}),void 0!==x(s)&&Number(x(s))<=.1?(h(),C("span",tx,k(l.$t("slippageTip1")),1)):f("",!0)]),g("div",nx,[y(F,{class:"swap-button w-full rd-8px!",size:"large",block:"","native-type":"submit",type:"primary",disabled:0==e.slippage},{default:b((()=>[T(k(l.$t("confirm1")),1)])),_:1},8,["disabled"])])])),_:1})])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-1eb2e286"]]),sx={class:"token-item header"},ix={class:"flex-3"},rx={class:"flex-1-5"},ux={class:"flex-1 right-label"},dx=["onClick"],cx={class:"token-item"},vx={class:"path-list flex-start flex-3"},mx={key:0},px={key:1,class:"path-amm"},fx={key:0,class:"tag"},xx=["innerHTML"],hx=B(s({__name:"selectRouter",props:{visible:{type:Boolean,default:!1},listRouter:{type:Array,default:()=>[]},isAmount:{type:Boolean,default:!1},selectedRouterIndex:{type:Number,default:0}},emits:["getSelectedRouter","update:visible"],setup(e,{emit:l}){const a=e,t=l,n=d({get:()=>a.visible,set(e){t("update:visible",e)}});function o(e){return e>40?"#ff646d":e>10?"#F7933F":e>5?"#f8be46":""}return(l,a)=>{const s=$n,i=ge,r=Ll,u=Ue;return h(),p(u,{modelValue:x(n),"onUpdate:modelValue":a[0]||(a[0]=e=>D(n)?n.value=e:null),class:"dialog-zixuan dialog",width:"600px"},{header:b((()=>[g("span",null,k(l.$t("selectRouter")),1)])),default:b((()=>[g("ul",null,[g("li",sx,[g("span",ix,k(l.$t("router")),1),g("span",rx,k(e.isAmount?l.$t("expectedAmount"):l.$t("expectedPay")),1),g("span",ux,k(l.$t("priceImpact")),1),a[1]||(a[1]=g("span",{class:"w-16px"},null,-1))]),O(y(s,{image:x(te)},null,8,["image"]),[[ce,e.listRouter&&0===e.listRouter.length]]),(h(!0),C(A,null,S(e.listRouter,((n,s)=>(h(),C("a",{key:s,href:"",onClick:L((e=>(e=>{t("getSelectedRouter",e)})(s)),["stop","prevent"])},[g("li",cx,[g("div",vx,[(h(!0),C(A,null,S((null==n?void 0:n.path)||[],((e,t)=>(h(),C(A,{key:t},[e.symbol?(h(),C("span",mx,k(e.symbol),1)):f("",!0),e.nextAmm&&"unknown"!==e.nextAmm?(h(),C("div",px,[y(i,{src:("formatIconSwap"in l?l.formatIconSwap:x(Ee))(e.nextAmm),class:"w-14px h-14px rd-10px mb-3px",style:{width:"14px",height:"14px","border-radius":"10px","margin-bottom":"3px"}},{error:b((()=>a[2]||(a[2]=[g("img",{class:"w-14px rd-10px",src:Cn},null,-1)]))),placeholder:b((()=>a[3]||(a[3]=[g("img",{class:"w-14px rd-10px",src:Cn},null,-1)]))),_:2},1032,["src"]),a[4]||(a[4]=g("img",{class:"w-15px mr-5px",src:kf,alt:"",srcset:""},null,-1))])):f("",!0)],64)))),128)),0===s?(h(),C("div",fx,k(l.$t("best")),1)):f("",!0)]),g("span",{class:"flex-1-5",innerHTML:("formatNumber"in l?l.formatNumber:x(X))((null==n?void 0:n.amount)||0)},null,8,xx),Number((null==n?void 0:n.priceImpact)||0)<10?(h(),C("span",{key:0,class:"right-label flex-1",style:$({color:o(Number(n.priceImpact||0))})},[Number(n.priceImpact)<.01?(h(),C(A,{key:0},[T("<0.01%")],64)):(h(),C(A,{key:1},[T(k(("formatNumber"in l?l.formatNumber:x(X))(Number((null==n?void 0:n.priceImpact)||0)))+"%",1)],64))],4)):(h(),C("span",{key:1,class:"right-label flex-1",style:$({color:o(Number((null==n?void 0:n.priceImpact)||0))})},[Number(n.priceImpact)>40?(h(),C(A,{key:0},[T(">40%")],64)):(h(),C(A,{key:1},[T(k(("formatNumber"in l?l.formatNumber:x(X))(Number((null==n?void 0:n.priceImpact)||0),2))+"%",1)],64))],4)),e.selectedRouterIndex===s?(h(),p(r,{key:2,size:16,color:"#12B886"},{default:b((()=>[y(x(Ml))])),_:1})):(h(),p(r,{key:3,style:{opacity:"0"},size:16,color:"#12B886"},{default:b((()=>[y(x(Ml))])),_:1}))])],8,dx)))),128))])])),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-4d353c82"]]),bx={key:0},gx={key:1},kx={key:2},_x={class:"swap-info"},yx={class:"swap-info_item header"},wx={class:"header-li"},Tx={class:"header-li_left"},Cx={class:"color-#80838B mr-15px"},Ax=["src"],Sx={style:{"font-size":"14px"}},Nx=["innerHTML"],$x={class:"header-li mt-34px"},Fx={class:"header-li_left"},Ix={class:"color-80838B mr-15px"},Lx=["src"],Vx={style:{"font-size":"14px"}},Dx=["innerHTML"],Mx={class:"swap-info_item"},Bx={class:"swap-info_item-label"},Px={class:"swap-info_item-value"},Ex=["innerHTML"],Ux=["innerHTML"],Rx={key:0,class:"swap-info_item"},Hx={class:"swap-info_item-label"},Ox={class:"swap-info_item-value"},jx={key:1,class:"swap-info_item"},zx={class:"swap-info_item-label"},Wx={class:"swap-info_item-value"},qx={key:0,class:"swap-info_item"},Yx={class:"swap-info_item-label"},Gx={class:"swap-info_item-value"},Qx={key:1,class:"swap-info_item"},Kx={class:"swap-info_item-label"},Zx={class:"swap-info_item-value"},Xx={class:"swap-info_item"},Jx={class:"swap-info_item-label"},eh={key:0,class:"swap-info_item-value path-list"},lh={key:0},ah={class:"path-amm"},th={key:1,style:{width:"15px",margin:"0 5px 0"},src:kf,alt:"",srcset:""},nh={key:1},oh={key:0,style:{width:"15px",margin:"0 5px 0"},src:kf,alt:"",srcset:""},sh={key:1},ih={key:3,class:"swap-info_item"},rh={class:"swap-info_item-label"},uh={class:"swap-info_item-value"},dh=["href"],ch={class:"footer"},vh={key:1,class:"swap-info center"},mh={class:"mt-20px"},ph={class:"swap-info center"},fh={class:"mt-20px"},xh={class:"footer"},hh=B(s({__name:"confirmSwap",props:{visible:{type:Boolean,default:!1},swapInfo:{type:Object,default:()=>({})},slippage:{type:String,default:"2"},loading:{type:Boolean,default:!1},chain:{type:String,default:""},nativePrice:{type:[Number,String],default:0},gasPrice:{type:String,default:"0"},activeShow:{type:Number,default:0},swapQuoteInfo:{type:Object,default:()=>({})}},emits:["update:visible","submit"],setup(e,{emit:l}){const a=e,t=l,n=U(!1),o=d({get:()=>a.visible,set(e){t("update:visible",e)}}),s=d((()=>{var e,l,t,n;const o=(null==(l=null==(e=a.swapInfo)?void 0:e.toToken)?void 0:l.decimals)||0,s=null==(t=a.swapInfo)?void 0:t.toAmount;return X(s?new Be(s||0).times(100-Number(a.slippage)).div(100).toFixed():Bl(new Be((null==(n=a.swapInfo)?void 0:n.toTokenAmount)||0).times(100-Number(a.slippage)).div(100).toFixed(0),o))})),i=d((()=>{var e,l,t,n;const o=(null==(l=null==(e=a.swapInfo)?void 0:e.fromToken)?void 0:l.decimals)||0,s=null==(t=a.swapInfo)?void 0:t.fromAmount;return X(s?new Be(s||0).times(100+Number(a.slippage)).div(100).toFixed():Bl(new Be((null==(n=a.swapInfo)?void 0:n.fromTokenAmount)||0).times(100+Number(a.slippage)).div(100).toFixed(0),o))})),r=d((()=>{var e;return(null==(e=a.swapInfo)?void 0:e.swapRouterPath)||[]}));function u(e,l){return!e||!l||isNaN(Number(e))||isNaN(Number(l))?"0":X(new Be(l).div(e).toFixed())||"0"}function c(){t("submit")}function v(){o.value=!1;const e=ee(a.chain,a.swapInfo.transaction,"tx");window.open(e)}return m((()=>a.visible),(e=>{e&&(n.value=!1)})),(l,t)=>{const d=ge,m=w,_=Te,N=Ll,$=Ue,F=H("copy");return h(),p($,{modelValue:x(o),"onUpdate:modelValue":t[0]||(t[0]=e=>D(o)?o.value=e:null),width:"446px"},{header:b((()=>[1===e.activeShow?(h(),C("span",bx,k(l.$t("swap")),1)):2===e.activeShow?(h(),C("span",gx,k(l.$t("waitForConfirming")),1)):3===e.activeShow?(h(),C("span",kx,k(l.$t("tradeSubmitted")),1)):f("",!0)])),default:b((()=>{var o,w,$,I,V,D,M,B,P,E,U,R,H,j,z,W,q;return[1==e.activeShow?(h(),C(A,{key:0},[g("ul",_x,[g("li",yx,[g("div",wx,[g("div",Tx,[g("span",Cx,k(l.$t("sell")),1),g("img",{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:x(be))({symbol:e.swapInfo.fromToken.symbol||"",logo_url:e.swapInfo.fromToken.logo_url||"",chain:e.swapInfo.fromToken.chain||a.chain||""}),alt:"",onerror:"this.src='/icon-default.png'",height:"20"},null,8,Ax),g("span",Sx,k(e.swapInfo.fromToken.symbol),1)]),g("div",{class:"header-li_right",innerHTML:x(X)((null==(o=e.swapInfo)?void 0:o.fromAmount)||("formatUnits"in l?l.formatUnits:x(Bl))(e.swapInfo.fromTokenAmount||0,e.swapInfo.fromToken.decimals))||"0"},null,8,Nx)]),g("div",$x,[g("div",Fx,[g("span",Ix,k(l.$t("buy")),1),g("img",{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:x(be))({symbol:e.swapInfo.toToken.symbol||"",logo_url:e.swapInfo.toToken.logo_url||"",chain:e.swapInfo.toToken.chain||a.chain||""}),alt:"",onerror:"this.src='/icon-default.png'",height:"20"},null,8,Lx),g("span",Vx,k(e.swapInfo.toToken.symbol),1)]),g("div",{class:"header-li_right",innerHTML:x(X)((null==(w=e.swapInfo)?void 0:w.toAmount)||("formatUnits"in l?l.formatUnits:x(Bl))(e.swapInfo.toTokenAmount||0,e.swapInfo.toToken.decimals))||"0"},null,8,Dx)])]),g("li",Mx,[g("div",Bx,k(l.$t("price")),1),g("div",Px,[g("div",{class:"p-item",innerHTML:`1 ${e.swapInfo.fromToken.symbol} = ${u((null==($=e.swapInfo)?void 0:$.fromAmount)||("formatUnits"in l?l.formatUnits:x(Bl))(e.swapInfo.fromTokenAmount||0,e.swapInfo.fromToken.decimals),(null==(I=e.swapInfo)?void 0:I.toAmount)||("formatUnits"in l?l.formatUnits:x(Bl))(e.swapInfo.toTokenAmount||0,e.swapInfo.toToken.decimals))} ${e.swapInfo.toToken.symbol}`},null,8,Ex),g("div",{class:"p-item",innerHTML:`1 ${e.swapInfo.toToken.symbol} = ${u((null==(V=e.swapInfo)?void 0:V.toAmount)||("formatUnits"in l?l.formatUnits:x(Bl))(e.swapInfo.toTokenAmount||0,e.swapInfo.toToken.decimals),(null==(D=e.swapInfo)?void 0:D.fromAmount)||("formatUnits"in l?l.formatUnits:x(Bl))(e.swapInfo.fromTokenAmount||0,e.swapInfo.fromToken.decimals))} ${e.swapInfo.fromToken.symbol}`},null,8,Ux)])]),e.swapInfo.fromToken.isWrapper&&e.swapInfo.toToken.isETH||e.swapInfo.toToken.isWrapper&&e.swapInfo.fromToken.isETH?f("",!0):(h(),C("li",Rx,[g("div",Hx,k(l.$t("slippage")),1),g("div",Ox,k(e.slippage)+"%",1)])),e.swapInfo.gasValue&&"tron"!==e.chain&&"solana"!==e.chain?(h(),C("li",jx,[g("div",zx,k(l.$t("estimatedGas")),1),g("div",Wx,"≈ $"+k((q=e.swapInfo.gasValue,q&&Number(new Be(q.toString()).times(a.nativePrice).times(a.gasPrice).div(String(10**18)).toFixed(2))||"0")),1)])):f("",!0),e.swapInfo.fromToken.isWrapper&&e.swapInfo.toToken.isETH||e.swapInfo.toToken.isWrapper&&e.swapInfo.fromToken.isETH?f("",!0):(h(),C(A,{key:2},[e.swapInfo.isAmountOut?(h(),C("li",Qx,[g("div",Kx,k(l.$t("maximumReceived")),1),g("div",Zx,k(x(i))+" "+k(null==(E=null==(P=e.swapInfo)?void 0:P.fromToken)?void 0:E.symbol),1)])):(h(),C("li",qx,[g("div",Yx,k(l.$t("minimumReceived")),1),g("div",Gx,k(x(s))+" "+k(null==(B=null==(M=e.swapInfo)?void 0:M.toToken)?void 0:B.symbol),1)]))],64)),g("li",Xx,[g("div",Jx,k(l.$t("tokenRoute")),1),e.swapInfo.fromToken.isWrapper&&e.swapInfo.toToken.isETH||e.swapInfo.toToken.isWrapper&&e.swapInfo.fromToken.isETH?(h(),C("div",nh,[(h(!0),C(A,null,S(x(r),((e,l)=>(h(),C(A,{key:l},[0!==l?(h(),C("img",oh)):f("",!0),e.symbol?(h(),C("span",sh,k(e.symbol),1)):f("",!0)],64)))),128))])):(h(),C("div",eh,[(h(!0),C(A,null,S(x(r),((e,a)=>(h(),C(A,{key:a},[e.symbol?(h(),C("span",lh,k(e.symbol),1)):f("",!0),g("div",ah,[e.nextAmm&&"unknown"!==e.nextAmm?(h(),p(d,{key:0,src:("formatIconSwap"in l?l.formatIconSwap:x(Ee))(e.nextAmm),style:{width:"14px",height:"14px","border-radius":"10px","margin-bottom":"3px"}},{error:b((()=>t[1]||(t[1]=[g("img",{style:{width:"14px","border-radius":"10px"},src:Cn},null,-1)]))),placeholder:b((()=>t[2]||(t[2]=[g("img",{style:{width:"14px","border-radius":"10px"},src:Cn},null,-1)]))),_:2},1032,["src"])):f("",!0),a!==x(r).length-1?(h(),C("img",th)):f("",!0)])],64)))),128))]))]),(null==(U=e.swapInfo)?void 0:U.transaction)?(h(),C("li",ih,[g("div",rh,k(l.$t("txHash")),1),g("div",uh,[g("a",{href:("formatExplorerUrl"in l?l.formatExplorerUrl:x(ee))(e.chain,e.swapInfo.transaction,"tx"),target:"_blank"},k((null==(H=null==(R=e.swapInfo)?void 0:R.transaction)?void 0:H.slice(0,6))+"..."+(null==(z=null==(j=e.swapInfo)?void 0:j.transaction)?void 0:z.slice(-6))),9,dh),O(y(m,{name:"bxs:copy",class:"clickable ml-5px"},null,512),[[F,null==(W=e.swapInfo)?void 0:W.transaction]])])])):f("",!0)]),g("div",ch,[y(_,{class:"swap-button w-full",type:"primary",size:"large",loading:e.loading,"loading-text":l.$t("confirming"),block:"",disabled:x(n),onClick:L(c,["stop"])},{default:b((()=>[T(k(l.$t("confirm")),1)])),_:1},8,["loading","loading-text","disabled"])])],64)):2===e.activeShow?(h(),C("div",vh,[y(N,{size:110,color:"#747782",style:{animation:"rotating 2s linear infinite normal"}},{default:b((()=>[y(x(Pl))])),_:1}),g("span",mh,k(l.$t("plsConfirmWallet")),1)])):3===e.activeShow?(h(),C(A,{key:2},[g("div",ph,[y(m,{name:"lineicons:arrow-up-circle",class:"text-110px"}),g("span",fh,k(l.$t("plsViewBlockChainExplorer")),1)]),g("div",xh,[y(_,{class:"swap-button w-full",type:"primary",size:"large",block:"",onClick:L(v,["stop"])},{default:b((()=>[T(k(l.$t("viewTransition")),1)])),_:1})])],64)):f("",!0)]})),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-ea1165d0"]]),bh=El("swap",(()=>{const e=Ul("swap_token1",{address:"",symbol:"",logo_url:"",chain:"",balance:0,decimals:0}),l=Ul("swap_token2",{address:"",symbol:"",logo_url:"",chain:"",balance:0,decimals:0}),a=Y(),t=W(),n=u(0),o=U(2),s=d((()=>0===n.value?l.value:e.value)),i=d((()=>0===n.value?e.value:l.value)),v=U(t.tokenInfo),m=U(t.tokenInfoExtra),p=r(),f=d((()=>a.chain||c(p.params.id).chain||"")),x=U([]),h=d((()=>{var e,l,a,t,n,o;const s=[...(null==(l=null==(e=x.value)?void 0:e.slice)?void 0:l.call(e))||[]];return(null==(a=null==s?void 0:s[0])?void 0:a.chain)&&(null==(t=null==s?void 0:s[0])?void 0:t.chain)!==(null==(o=null==(n=g.value)?void 0:n[0])?void 0:o.chain)?s:(g.value.slice().forEach((e=>{const l=s.find((l=>l.token+"-"+l.chain==e.token+"-"+e.chain));l?l.logo_url=e.logo_url:s.push({...e,value:0})})),s.length>0?s:g.value.slice())})),b=U("0"),g=u([]),k=U(!1),_=U(!1),y=U(!1),w=U(!1),T=U(!1),C=U(0),A=U(!1),S=U(!1),N=U(!1),$=U(!1),F=U(""),I=U(0),L=U(""),V=U("");function D(){const l=Y();if(e.value.chain===l.chain)return Rl({tokenAddress:e.value.address,chain:l.chain,spender:Hl(l.chain)}).then((async l=>{var a,t;if(null==l?void 0:l.address)return e.value={...e.value,...l},1===n.value&&(b.value=e.value.allowance||"0"),x.value=null==(t=null==(a=x.value)?void 0:a.map)?void 0:t.call(a,(a=>(a.token===e.value.address&&(a={...a,...l,value:l.balance}),a))),l}))}function M(){const e=Y();if(l.value.chain===e.chain)return Rl({tokenAddress:l.value.address,chain:e.chain,spender:Hl(e.chain)}).then((async e=>{var a,t;if(null==e?void 0:e.address)return l.value={...l.value,...e},0===n.value&&(b.value=l.value.allowance||"0"),x.value=null==(t=null==(a=x.value)?void 0:a.map)?void 0:t.call(a,(a=>(a.token===l.value.address&&(a={...a,...e,value:e.balance}),a))),e}))}function B(){const e=Y(),l=e.chain,a=e.address;a&&l&&Ol().then((e=>{var t,n,o,s;x.value="solana"===l||"ton"===l||"sui"===l?null==(t=null==e?void 0:e.map)?void 0:t.call(e,(e=>({...e}))):null==(s=(null==(o=null==(n=null==e?void 0:e.map((e=>({...e,id:e.token+"-"+e.chain,address:e.token}))))?void 0:n.filter)?void 0:o.call(n,(e=>(e.risk_score||0)<60&&(e.risk_level||0)>=0&&"blacklist"!==e.flag&&""!==e.symbol&&"lp"!==e.flag)))||[])?void 0:s.filter((e=>!!Number(e.value))),x.value.length>0&&"solana"!==l&&"sui"!==l&&"ton"!==l&&(/^0x[0-9a-zA-Z]{40}$/.test(a)||jl(a,"tron"))&&zl(x.value.map((e=>e.token||"")),l).then((e=>{var l,a,t;x.value=null==(t=null==(a=null==(l=x.value)?void 0:l.map)?void 0:a.call(l,((l,a)=>({...l,value:Bl(e[a],(null==l?void 0:l.decimals)||0)}))))?void 0:t.filter((e=>!!Number(e.value)))}))}))}function P(a,n){var o,s,i,r;let u=e.value.address,d=e.value.chain;if(!u||!d)return;const f=u+"-"+d;if(e.value.address&&(u=e.value.address),e.value.chain&&(d=e.value.chain),e.value.address===(null==(o=t.token)?void 0:o.token)&&(v.value={...t.tokenInfo},e.value={...e.value,address:(null==(i=null==(s=v.value)?void 0:s.token)?void 0:i.token)||"",...null==(r=v.value)?void 0:r.token}),u&&d){let t=u+"-"+d;const o=Ge(d),s=null==o?void 0:o.wmain_wrapper,i=null==o?void 0:o.main_name;u===Ye&&d&&s&&(t=s+"-"+d);const r=Wl(t).then((async t=>{var n,o,s,r,m,f,x,h,b,y,D,M,B,P,E,U,R,H,O,j,z;const W=t||{};v.value={...W,...u===Ye?{token:{...(null==t?void 0:t.token)||{},token:u,symbol:i}}:{}},e.value={...e.value,address:(null==(o=null==(n=v.value)?void 0:n.token)?void 0:o.token)||"",...null==(s=v.value)?void 0:s.token},"solana"===d?I.value=(null==(r=v.value)?void 0:r.token.current_price_usd)?X(v.value.token.current_price_usd):"":(L.value=(null==(m=v.value)?void 0:m.token.current_price_usd)?X(null==(x=null==(f=v.value)?void 0:f.token)?void 0:x.current_price_usd):"",V.value=(null==(h=v.value)?void 0:h.token.current_price_usd)?X(null==(y=null==(b=v.value)?void 0:b.token)?void 0:y.current_price_usd):"");const q=null==(D=null==t?void 0:t.pairs)?void 0:D[0],Y=null==q?void 0:q.pair;if(!Y||"moonshot"===(null==q?void 0:q.amm)||(null==(M=null==q?void 0:q.amm)?void 0:M.includes("fourmeme"))||"flapswap"===(null==q?void 0:q.amm)||"sunpump"===(null==q?void 0:q.amm)||"dyorswapfun"===(null==q?void 0:q.amm)||(null==q?void 0:q.target_token)!==Y&&!new RegExp(null==q?void 0:q.target_token,"i").test(Y))k.value=!1;else if(k.value=!0,l.value.address!==Ye&&(null==(B=g.value)?void 0:B.length)>0){const e={...null==(E=null==(P=g.value)?void 0:P.slice())?void 0:E.find((e=>e.address===Ye))};l.value={...e},setTimeout((()=>{a&&a(l.value)}),1e3)}(null==(U=null==q?void 0:q.amm)?void 0:U.includes("fourmeme"))?w.value=!0:w.value=!1,"dyorswapfun"===(null==q?void 0:q.amm)&&(null==(H=null==(R=["xlayer","gatelayer"])?void 0:R.includes)?void 0:H.call(R,null==q?void 0:q.chain))?A.value=!0:A.value=!1,"xflapswap"===(null==q?void 0:q.amm)&&"xlayer"===(null==q?void 0:q.chain)?S.value=!0:S.value=!1,"flapswap"===(null==q?void 0:q.amm)?T.value=!0:T.value=!1;const G=["TPeoxx1VhUMnAUyjwWfximDYFDQaxNQQ45","TXL6rJbvmjD46zeN1JssfgxvSo99qC8MRT","TAwAg9wtQzTMFsijnSFotJrpxhMm3AqW1d"];return"sunpump"===(null==q?void 0:q.amm)?C.value=1:(null==(O=null==t?void 0:t.pairs)?void 0:O.some((e=>"sunpump"===e.amm)))||(null==(j=null==G?void 0:G.includes)?void 0:j.call(G,u))?C.value=2:C.value=0,(null==(z=null==q?void 0:q.amm)?void 0:z.includes("cookpump"))?N.value=!0:N.value=!1,"popmefun"===(null==q?void 0:q.amm)?$.value=!0:$.value=!1,F.value=(null==q?void 0:q.amm)||"",function(a){return new Promise((t=>{var n;const o=(null==(n=p.params)?void 0:n.id)||"";let[s,i]=c(o,1);e.value.address&&(s=e.value.address),e.value.chain&&(i=e.value.chain),s&&"solana"===i?Yl(s).then((e=>{var n,o,s;if(!1===(null==e?void 0:e.completed)){if("So11111111111111111111111111111111111111112"!==l.value.address&&(null==(n=g.value)?void 0:n.length)>0){const e={...null==(s=null==(o=g.value)?void 0:o.slice())?void 0:s.find((e=>"So11111111111111111111111111111111111111112"===e.address))};l.value={...e},setTimeout((()=>{a&&a(e)}),1e3)}t(!0)}else _.value=!1,t(!1)})):(_.value=!1,t(!1))}))}(a).catch((async()=>!1)),t})),x=ql(f).then((async e=>(m.value={...e,buy_tax:Number(Number((null==e?void 0:e.buy_tax)||0).toFixed(2)),sell_tax:Number(Number((null==e?void 0:e.sell_tax)||0).toFixed(2))},n&&n(),e)));Promise.all([r,x]).finally((()=>{}))}}return{token1:e,token2:l,chain:f,fromToken:s,toToken:i,baseToken:v,baseTokenExtra:m,allowance:b,activeTab:n,swapType:o,isFourMeme:w,isFlap:T,isPump:_,isMoonshot:y,isERC314:k,isSunPump:C,isDyorswapfun:A,isXflapswap:S,isCookPump:N,isPopMeFun:$,userBalanceTokens:x,getTokenDetails:function(){D(),M()},getToken2Info:M,getToken1Info:D,getBaseToken:P,swapTokens:h,init:function(t){var n;const[o,s]=c(t||(null==(n=p.params)?void 0:n.id),1),i=a.chain;o&&o!==e.value.address&&(e.value={address:o||"",chain:s||"",balance:0,symbol:"",decimals:0,logo_url:""}),i===l.value.chain&&l.value.address||(l.value={address:"",chain:i||"",balance:0,symbol:"",decimals:0,logo_url:""}),function(t){const n=a.chain||c(p.params.id).chain||"";Gl().then((a=>{var o,s,i,r,u,d,c,v;g.value=(null==a?void 0:a.map((e=>({...e,id:e.token+"-"+e.chain,address:e.token,decimals:e.token===Ye&&"solana"===n?9:e.decimals}))))||[],"solana"===n&&(g.value=null==(s=null==(o=g.value)?void 0:o.filter)?void 0:s.call(o,(e=>e.token!==Ye)).sort((e=>"So11111111111111111111111111111111111111112"===e.token?-1:1))),"sui"===n&&(g.value=null==(d=null==(u=null==(r=null==(i=g.value)?void 0:i.filter)?void 0:r.call(i,(e=>e.token!==Ye)))?void 0:u.map)?void 0:d.call(u,(e=>({...e,token:"0x2::sui::SUI"===e.token?Ye:e.token,address:"0x2::sui::SUI"===e.token?Ye:e.token}))).sort((e=>e.token===Ye?-1:1)));const m=e.value.address===l.value.address,p=(k.value||w.value||T.value||C.value>0||A.value||S.value||N.value||$.value)&&l.value.address!==Ye,f=(_.value||y.value)&&"solana"===n&&"So11111111111111111111111111111111111111112"===l.value.address,x="sui"===n&&"0x2::sui::SUI"!==l.value.address&&l.value.address!==Ye;if((!l.value.address||m||l.value.chain!==n||p||f||x)&&g.value.length>0){let a=g.value.findIndex((e=>/USDT/.test(e.symbol)));a=a<0?g.value.findIndex((e=>/USD/.test(e.symbol))):a,a=a<0?0:a;let t=g.value[a];if(e.value.address===t.address&&(t=0===a?g.value[1]??g.value[0]:g.value[0]),k.value||_.value||y.value||w.value||T.value||C.value>0||x||A.value||S.value||N.value||$.value){const e=null==(v=null==(c=g.value)?void 0:c.slice)?void 0:v.call(c).find((e=>e.address===Ye||"So11111111111111111111111111111111111111112"===e.address||"0x2::sui::SUI"===e.address));e&&(l.value={...e})}else l.value={...t}}t&&t()}))}((()=>{M()})),B(),Gl(),P(),D()},getUserTokenList:B}})),gh={key:0,class:"gap"},kh=["onClick"],_h={class:"text"},yh=B(s({__name:"percentStep",props:{activeColor:{type:String,default:""}},emits:["change"],setup(e,{expose:l,emit:a}){const t=a,n=U(0),o=[25,50,75,100],s=(e,l=!1)=>{e===n.value?(n.value=0,t("change",0,l)):(n.value=e,t("change",e,l))};return l({handleClick:s}),(l,a)=>(h(),C("div",{class:"percent-container",style:$({"--percent-active-color":e.activeColor})},[g("div",{for:"percent-radio-0",class:V({active:0===x(n)})},null,2),(h(),C(A,null,S(o,((e,l)=>(h(),C(A,{key:l},[0!==l?(h(),C("div",gh)):f("",!0),g("div",{class:V(["label",{active:e===x(n)}]),onClick:L((l=>s(e)),["stop"])},[a[0]||(a[0]=g("div",{class:"bar"},null,-1)),g("div",_h,k(e)+"%",1)],10,kh)],64)))),64))],4))}}),[["__scopeId","data-v-9ac60cd3"]]),wh={class:"card-container mt-10px"},Th={class:"flex items-center"},Ch=["innerHTML"],Ah={class:"flex justify-between items-center mt-10px"},Sh={class:"card-container bottom mt-10px"},Nh={class:"flex items-center"},$h=["innerHTML"],Fh={class:"flex justify-between items-center mt-10px"},Ih={key:0},Lh={key:1},Vh=["innerHTML"],Dh={class:"swap-label"},Mh={class:"slippage-container"},Bh={class:"swap-label_item-left"},Ph={style:{display:"flex","align-items":"center"}},Eh={class:"swap-label_item-left"},Uh={class:"swap-label_item-left"},Rh={key:0},Hh={key:0,style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:kf,alt:"",srcset:""},Oh={key:1},jh={key:1,class:"path-list"},zh={key:0},Wh={key:1,class:"path-amm"},qh=["src"],Yh={key:2},Gh={key:0,style:{width:"15px",margin:"1px 5px 0"},src:kf,alt:"",srcset:""},Qh={key:1},Kh={key:0},Zh={key:1,class:"path-amm"},Xh=["src"],Jh={key:0,class:"select-token iconfont icon-collapse-down"},eb={key:0},lb={class:"swap-label_item-left"},ab="2",tb=B(s({__name:"market",setup(e){const{t:l}=i(),a=ve(),t=bh(),o=W(),s=Y(),c=U(!1),v=U(!1),_=U(!1),N=d((()=>t.chain)),F=U(!1),I=U(!1),V=U(ab),M=ue("swapSlippage","auto"),B=ue("solanaSlippage","9"),P=ue("suiTonSlippage","2"),E=U(!1),R=U(!1),H=U(!1),j=Sl("percentStepInf"),z=U([]),G=U(!1),Q=U(0),K=U(0),Z=U(0),J=U([0,0]),ee=U(!1),le=U({fromToken:{symbol:"",decimals:18,address:"",logo_url:""},toToken:{symbol:"",decimals:18,address:"",logo_url:""},gasValue:"0",swapRouterPath:[],isAmountOut:!1});let ae={},te={},ne={};const oe=U("0"),ie=U("0"),re=d((()=>{const e=le.value.gasValue;if(!e)return"0";const l=oe.value,a=ie.value;return X(new Be(e.toString()).times(a).times(l).div(String(10**18)).toFixed()||"0",2)})),de=U({}),me=d((()=>"auto"===M.value?V.value:M.value)),pe=d((()=>{if(["solana","ton","sui"].includes(t.chain)||t.fromToken.address===Ye)return!0;if(!t.allowance)return!1;const e=t.fromToken.decimals||0;return Ql(new Be($e.value||0).toFixed(Number(e)||0),e).lte(t.allowance)})),fe=d((()=>{if(!Number($e.value)&&!Number(Fe.value))return"";const e=t.chain;if("solana"===e)return new Be(Q.value||0);if("sui"===e)return new Be(K.value||0);if("ton"===e)return new Be(Z.value||0);const l=_e.value.routerPath,a=(null==l?void 0:l.length)>0?null==l?void 0:l[0]:_e.value.fromToken||null,n=(null==l?void 0:l.length)>0?null==l?void 0:l[l.length-1]:_e.value.toToken||null;if(a&&n){const e=_e.value.from_price||0,l=_e.value.to_price||0,t=Bl(a.amount,a.decimals),o=Bl(n.amount,n.decimals);return new Be(t).times(e).div(new Be(o).times(l)).minus(1).abs()}return""})),xe=d((()=>fe.value?X(fe.value.times(100).toFixed(),2)+"%":"")),he=d((()=>{var e,l,a,t,n,o;return""===fe.value?"":(null==(l=null==(e=fe.value)?void 0:e.gt)?void 0:l.call(e,.4))?"#F81111":(null==(t=null==(a=fe.value)?void 0:a.gt)?void 0:t.call(a,.1))?"#F7933F":(null==(o=null==(n=fe.value)?void 0:n.gt)?void 0:o.call(n,.05))?"#f8be46":""})),be=d((()=>{var e,l,a,n;if(!s.address||!s.provider)return"#999";if(""!==fe.value){if(null==(l=null==(e=fe.value)?void 0:e.gt)?void 0:l.call(e,.4))return"#999";if(null==(n=null==(a=fe.value)?void 0:a.gt)?void 0:n.call(a,.1))return"#F7933F"}return 0===t.activeTab?ye[0]:1===t.activeTab?we[0]:"#558BED"})),ge=d((()=>{var e,a,n,o,s,i,r;const u=(null==(e=_e.value)?void 0:e.totalTax)||((null==(a=_e.value)?void 0:a.total_sell_tax)||0)+((null==(n=_e.value)?void 0:n.total_buy_tax)||0);return u>0?`(${l("tax")}: ${X(u,1)}%)`:0===t.activeTab&&((null==(o=t.baseTokenExtra)?void 0:o.buy_tax)||0)>0?`(${l("tax")}: ${X((null==(s=t.baseTokenExtra)?void 0:s.buy_tax)||0,1)}%)`:1===t.activeTab&&((null==(i=t.baseTokenExtra)?void 0:i.sell_tax)||0)>0?`(${l("tax")}: ${X((null==(r=t.baseTokenExtra)?void 0:r.sell_tax)||0,1)}%)`:""})),ke=u([]),_e=U({fromToken:{symbol:"",decimals:18,amount:"",address:""},toToken:{symbol:"",decimals:18,amount:"",address:""},fromAmount:"",isAmountOut:!1,isSunPump:0}),Ce=U([]),Se=r();m((()=>Se.params.id),(()=>{$e.value="",Fe.value=""}));const Ne=U(0),$e=U(""),Fe=U(""),Ie=U(0),Le=U(!1),Ve=d((()=>{var e,l,a,n,s,i,r,u,d;const c=(null==(l=null==(e=null==o?void 0:o.pairs)?void 0:e[0])?void 0:l.amm)&&(null==(s=["fourmeme","fourmemev2"])?void 0:s.includes(null==(n=null==(a=null==o?void 0:o.pairs)?void 0:a[0])?void 0:n.amm)),v=(null==(r=null==(i=null==o?void 0:o.pairs)?void 0:i[0])?void 0:r.amm)&&["viridian","aerodrome","flapswap"].includes(null==(d=null==(u=null==o?void 0:o.pairs)?void 0:u[0])?void 0:d.amm);return"ton"===t.chain||"sui"===t.chain||v||c||t.isDyorswapfun||t.isXflapswap||t.isCookPump||t.isPopMeFun})),De=d((()=>{var e,l,a;if("ton"===N.value){const n=(null==ne?void 0:ne.totalTransferAmount)||0,o=(null==(a=null==(l=null==(e=t.userBalanceTokens)?void 0:e.find)?void 0:l.call(e,(e=>e.address===Ye)))?void 0:a.initBalance)||0;if(n&&new Be(n).gt(o))return!0}return!1})),{reset:Me,start:Pe}=Kl(15,{immediate:!0,onComplete:()=>{!function(){if(2!==t.swapType||t.token1.address===t.token2.address)return;if(ee.value||I.value||"hidden"===document.visibilityState)return void Ee();_.value?ze():We();Ee()}()}});function Ee(){Me(15),Pe()}function Ue(){Ee(),Le.value&&pe.value&&!ee.value&&dl(!1)}function Re(){ke.value=[],_e.value.totalTax=0,_e.value.total_sell_tax=0,_e.value.total_buy_tax=0,V.value=ab,Ne.value=0,$e.value="",Fe.value="",t.getToken1Info(),t.getBaseToken(He,sl)}function He(){ke.value=[],_e.value.totalTax=0,_e.value.total_sell_tax=0,_e.value.total_buy_tax=0,V.value=ab,Ne.value=0,$e.value="",Fe.value="",t.getToken2Info()}function Oe(){var e,l;const a=t.chain;if("solana"!==a){if(a&&a===t.fromToken.chain&&t.fromToken.address){let n=t.isFourMeme?null==(l=null==(e=_e.value)?void 0:e.quoteResult)?void 0:l.tokenManager:Hl(a);const o=["","TTfvyrAz86hbZk5iDpKD78pqLGgi8C7AAw","TZFs5ch1R1C4mmjwrrmZqeqbUgGpxY1yWB"][t.isSunPump];n=o||n,"xlayer"===a&&t.isDyorswapfun&&(n="0xfd947a61e2c54413031ddb1f754dbe0e696efa09"),"xlayer"===a&&t.isXflapswap&&(n="0xb30d8c4216e1f21f27444d2ffaee3ad577808678"),"gatelayer"===a&&t.isDyorswapfun&&(n="0xC5d6974951201FB5f20C0efB4B6BEF5cf8FF1617"),"juchain"===a&&t.isCookPump&&(n="0xaF2F76f06E27BE138Bd5310ec6553E2c93ec19F4"),"popchain"===a&&t.isPopMeFun&&(n="0x198C8099E0c2CE323a5513769e294f349B015cEE"),c.value=!0,Zl(t.fromToken.address,n).then((e=>{t.allowance=e.toString()})).finally((()=>{c.value=!1}))}}else t.allowance=Ke}function je(e,a=!1){var n,o,s,i;if(a)return;const r=Number(e)/100;let u=t.fromToken.balance||0;if(r){const e=t.fromToken.decimals||0;if((null==(n=t.fromToken)?void 0:n.address)===Ye||"So11111111111111111111111111111111111111112"===(null==(o=t.fromToken)?void 0:o.address)){const a=t.fromToken.chain,n=Xl[a]||.01;if(new Be(u).lt(n))return void se.alert(l("balanceNotEnough",{n:n,s:t.fromToken.symbol}),l("tips"));u=(null==(s=new Be(u).minus(n).times(r).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:s[0])||""}else u=(null==(i=new Be(u).times(r).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:i[0])||"";0===Number(u)&&(u="")}else u="";$e.value!==u&&($e.value=Number(u)<0?"0":u,ze())}function ze(){if(v.value&&!_.value)return;const e=$e.value,l=Number(e);""===e||"."===e?($e.value="",Fe.value="",v.value=!1):0===l&&0!==Number(Fe.value)?(Fe.value="0",v.value=!1):l&&(_.value=!0,Fe.value="",Qe())}function We(){if(v.value&&!_.value)return;const e=Fe.value,l=Number(e);""===e||"."===e?($e.value="",Fe.value="",v.value=!1):0===l&&0!==Number($e.value)?($e.value="0",v.value=!1):l&&(_.value=!1,$e.value="",Qe(!1))}let qe=null;function Qe(e=!0){ol()&&(Number($e.value)||Number(Fe.value)?t.token1.address!==t.token2.address&&(qe&&(clearTimeout(qe),qe=null),qe=setTimeout((()=>{!async function(e,l){var a,n,o,i,r,u,d,c,m,p,f,x,h,b,g,k,_,y,w,T,C,A,S,N,$,I,L,V,D,M,E,U,R,H,O,j,z,W,q,Y,G,Q,K,Z,X,J,ee,oe,se,ie,re,ue,ce,ve,fe,xe,he,be,ge,ye,we,Te,Ae,Se,Ne,Ie,Le,Ve,De,Me,Pe,Ee,Re,He,je,ze,We,qe,Ge,Qe,Ke,ol;if(($e.value||Fe.value)&&t.fromToken.address&&t.toToken.address&&l===t.fromToken.chain){const il=t.fromToken.decimals,rl=t.toToken.decimals;if("sui"===l)return void async function(e,l){var a,n,o;if("sui"===l){const l=t.fromToken.decimals||(null==(a=t.fromToken)?void 0:a.decimal),s=t.toToken.decimals||(null==(n=t.toToken)?void 0:n.decimal),i=t.fromToken.address===Ye?new Be($e.value||0).times("0.997"):new Be($e.value||0),r={tokenIn:t.fromToken.address===Ye?"0x2::sui::SUI":t.fromToken.address,tokenOut:t.toToken.address,amountIn:Ql((null==(o=i.toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l}})?`)))?void 0:o[0])||0,l).toFixed(0),slippage:new Be(P.value).div(100).toNumber()};v.value=!0,ra(r).then((l=>{var a,n;return l.returnAmount&&l.returnAmountWithDecimal||l.amount_out?(ae=l,e&&(Fe.value=(null==l?void 0:l.returnAmount)||Bl((null==l?void 0:l.amount_out)||"0",(null==(a=null==l?void 0:l.to_token)?void 0:a.decimals)||s||(null==(n=t.toToken)?void 0:n.decimals))),Xe()):ea("can not get quote"),dl(!1),v.value=!1,l})).catch((e=>(ea((null==e?void 0:e.error)||e),Promise.resolve("")))).finally((()=>{setTimeout((()=>{v.value=!1,Ue()}),800)}))}}(e,l);if("solana"===l)return void function(e,l){var a,n;if("solana"===l){if(!!((t.isPump||t.isMoonshot)&&"So11111111111111111111111111111111111111112"!==t.token2.address&&"solana"===t.token2.chain))return;const l=t.fromToken.decimals,o=t.toToken.decimals,s={inputMint:t.fromToken.address,inputDecimals:l,inputMintSymbol:t.fromToken.symbol,inputMintName:t.fromToken.symbol,inputAmount:$e.value||0,outputMint:t.toToken.address,outputDecimals:o,outputMintSymbol:t.toToken.symbol,outputMintName:t.toToken.symbol,amount:e?Ql((null==(a=new Be($e.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l}})?`)))?void 0:a[0])||0,l).toFixed(0):Ql((null==(n=new Be(Fe.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${o}})?`)))?void 0:n[0])||0,o).toFixed(0),slippageBps:new Be(B.value).times(100).toFixed(0),swapMode:e?"ExactIn":"ExactOut",slippage:B.value||9,isPump:t.isPump,isMoonshot:t.isMoonshot};if(Ze.amount&&Object.keys(Ze).every((e=>s[e]===Ze[e])))return;Ze={...s},setTimeout((()=>{Ze={}}),15e3),v.value=!0,da(s).then((a=>{var n,s,i,r,u;return a.routeInfo&&a.transaction?(te=a,Fe.value=(null==(i=null==(s=null==(n=a.routeInfo)?void 0:n.amountOut)?void 0:s.amount)?void 0:i.toFixed())||"0",Xe()):e?a.outAmount?(te=a,Fe.value=Bl(a.outAmount||"0",o||(null==(r=t.toToken)?void 0:r.decimals)),Xe()):ea("can not get quote"):a.inAmount?(te=a,$e.value=Bl(a.inAmount||"0",l||(null==(u=t.fromToken)?void 0:u.decimals)),Xe()):ea("can not get quote"),dl(!1),a})).catch((e=>(ea((null==e?void 0:e.error)||e),Promise.resolve("")))).finally((()=>{setTimeout((()=>{v.value=!1,Ze={},Ue()}),800)}))}}(e,l);if("bsc"===l){if(!!((t.isFourMeme||t.isFlap)&&t.token2.address!==Ye&&"bsc"===t.token2.chain))return}if("tron"===l){if(!!(t.isSunPump>0&&t.token2.address!==Ye&&"tron"===t.token2.chain))return}if("xlayer"===l){if(!!((t.isDyorswapfun||t.isXflapswap||t.isCookPump||t.isPopMeFun)&&t.token2.address!==Ye&&"xlayer"===t.token2.chain))return}if("ton"===l)return void async function(e,l){var a,n,o;if("ton"===l){const l=t.fromToken.decimals||(null==(a=t.fromToken)?void 0:a.decimal),s=t.toToken.decimals||(null==(n=t.toToken)?void 0:n.decimal),i=t.fromToken.address===Ye?new Be($e.value||0).times("0.997"):new Be($e.value||0),r={inputToken:t.fromToken.address,outputToken:t.toToken.address,inputTokenAmount:Ql((null==(o=i.toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l}})?`)))?void 0:o[0])||0,l).toFixed(0),slippageBps:new Be(P.value).times(100).toFixed(0)};v.value=!0,ua(r).then((l=>{var a;return l.amountOut&&l.payload?(ne=l,e&&(Fe.value=Bl(l.amountOut||"0",s||(null==(a=t.toToken)?void 0:a.decimals))),Xe()):ea("can not get quote"),dl(!1),v.value=!1,l})).catch((e=>(ea((null==e?void 0:e.error)||e),Promise.resolve("")))).finally((()=>{setTimeout((()=>{v.value=!1,Ue()}),800)}))}}(e,l);v.value=!0;const ul={from_token:t.fromToken.address,to_token:t.toToken.address,amountIn:e?Ql((null==(a=new Be($e.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${il}})?`)))?void 0:a[0])||0,il).toFixed(0):"0",amountOut:e?"0":Ql((null==(n=new Be(Fe.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${rl}})?`)))?void 0:n[0])||0,rl).toFixed(0)};if(t.isFourMeme){try{const a=await Jl(ul,l);e?Fe.value=Bl((null==a?void 0:a.amountOut)||"0",null==(o=t.toToken)?void 0:o.decimals):$e.value=Bl((null==a?void 0:a.amountIn)||"0",null==(i=t.fromToken)?void 0:i.decimals),ke.value=[{symbol:null==(r=t.fromToken)?void 0:r.symbol,nextAmm:"fourmeme"},{symbol:null==(u=t.toToken)?void 0:u.symbol,nextAmm:""}],_e.value.fromAmount=Ql($e.value,null==(d=t.fromToken)?void 0:d.decimals).toFixed(0),_e.value.toAmount=Ql(Fe.value,null==(c=t.toToken)?void 0:c.decimals).toFixed(0),_e.value.fromToken={...t.fromToken,amount:_e.value.fromAmount},_e.value.toToken={...t.toToken,amount:_e.value.toAmount},_e.value.quoteResult={...a},_e.value.isAmountOut=!e,_e.value.isFourMeme=!0,Oe();const[n,s]=[(null==(m=t.fromToken)?void 0:m.address)+"-"+(null==(p=t.fromToken)?void 0:p.chain),(null==(f=t.toToken)?void 0:f.address)+"-"+(null==(x=t.toToken)?void 0:x.chain)];el([n,s]).then((async e=>{var l,a;_e.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,_e.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,_e.value.isFourMeme=!0})),v.value=!1}catch(sl){v.value=!1,ea(sl)}return}if(t.isDyorswapfun){try{const[a,n]=[(null==(h=t.fromToken)?void 0:h.address)+"-"+(null==(b=t.fromToken)?void 0:b.chain),(null==(g=t.toToken)?void 0:g.address)+"-"+(null==(k=t.toToken)?void 0:k.chain)],o=await el([a,n]),s=(null==(_=null==o?void 0:o[0])?void 0:_.current_price_usd)||0,i=(null==(y=null==o?void 0:o[1])?void 0:y.current_price_usd)||0,r=la({...ul,from_price:s,to_price:i,pairs:(null==(w=t.baseToken)?void 0:w.pairs)||[]},l);Fe.value=Bl(r||"0",null==(T=t.toToken)?void 0:T.decimals),ke.value=[{symbol:null==(C=t.fromToken)?void 0:C.symbol,nextAmm:"dyorswapfun"},{symbol:null==(A=t.toToken)?void 0:A.symbol,nextAmm:""}],_e.value.fromAmount=Ql($e.value,null==(S=t.fromToken)?void 0:S.decimals).toFixed(0),_e.value.toAmount=Ql(Fe.value,null==(N=t.toToken)?void 0:N.decimals).toFixed(0),_e.value.fromToken={...t.fromToken,amount:_e.value.fromAmount},_e.value.toToken={...t.toToken,amount:_e.value.toAmount},_e.value.isAmountOut=!e,_e.value.isDyorswapfun=!0,Oe(),_e.value.from_price=s,_e.value.to_price=i,v.value=!1}catch(sl){v.value=!1,ea(sl)}return}if(t.isXflapswap){try{const a=await aa(ul,l);e?Fe.value=Bl((null==a?void 0:a.toString())||"0",null==($=t.toToken)?void 0:$.decimals):$e.value=Bl((null==a?void 0:a.toString())||"0",null==(I=t.fromToken)?void 0:I.decimals),ke.value=[{symbol:null==(L=t.fromToken)?void 0:L.symbol,nextAmm:"xflapswap"},{symbol:null==(V=t.toToken)?void 0:V.symbol,nextAmm:""}],_e.value.fromAmount=Ql($e.value,null==(D=t.fromToken)?void 0:D.decimals).toFixed(0),_e.value.toAmount=Ql(Fe.value,null==(M=t.toToken)?void 0:M.decimals).toFixed(0),_e.value.fromToken={...t.fromToken,amount:_e.value.fromAmount},_e.value.toToken={...t.toToken,amount:_e.value.toAmount},_e.value.quoteResult={...a},_e.value.isAmountOut=!e,_e.value.isXflapswap=!0,Oe();const[n,o]=[(null==(E=t.fromToken)?void 0:E.address)+"-"+(null==(U=t.fromToken)?void 0:U.chain),(null==(R=t.toToken)?void 0:R.address)+"-"+(null==(H=t.toToken)?void 0:H.chain)];el([n,o]).then((async e=>{var l,a;_e.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,_e.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,_e.value.isXflapswap=!0})),v.value=!1}catch(sl){v.value=!1,ea(sl)}return}if(t.isCookPump){try{const a=await ta(ul,l);e?Fe.value=Bl((null==a?void 0:a.toString())||"0",null==(O=t.toToken)?void 0:O.decimals):$e.value=Bl((null==a?void 0:a.toString())||"0",null==(j=t.fromToken)?void 0:j.decimals),ke.value=[{symbol:null==(z=t.fromToken)?void 0:z.symbol,nextAmm:"cookpump"},{symbol:null==(W=t.toToken)?void 0:W.symbol,nextAmm:""}],_e.value.fromAmount=Ql($e.value,null==(q=t.fromToken)?void 0:q.decimals).toFixed(0),_e.value.toAmount=Ql(Fe.value,null==(Y=t.toToken)?void 0:Y.decimals).toFixed(0),_e.value.fromToken={...t.fromToken,amount:_e.value.fromAmount},_e.value.toToken={...t.toToken,amount:_e.value.toAmount},_e.value.isAmountOut=!e,_e.value.isCookPump=!0,Oe();const[n,o]=[(null==(G=t.fromToken)?void 0:G.address)+"-"+(null==(Q=t.fromToken)?void 0:Q.chain),(null==(K=t.toToken)?void 0:K.address)+"-"+(null==(Z=t.toToken)?void 0:Z.chain)];el([n,o]).then((async e=>{var l,a;_e.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,_e.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,_e.value.isCookPump=!0})),v.value=!1}catch(sl){v.value=!1,ea(sl)}return}if(t.isPopMeFun){try{const a=await na(ul,l);e?Fe.value=Bl((null==(X=null==a?void 0:a.amountOut)?void 0:X.toString())||"0",null==(J=t.toToken)?void 0:J.decimals):$e.value=Bl((null==(ee=null==a?void 0:a.amountIn)?void 0:ee.toString())||"0",null==(oe=t.fromToken)?void 0:oe.decimals),ke.value=[{symbol:null==(se=t.fromToken)?void 0:se.symbol,nextAmm:"popmefun"},{symbol:null==(ie=t.toToken)?void 0:ie.symbol,nextAmm:""}],_e.value.fromAmount=Ql($e.value,null==(re=t.fromToken)?void 0:re.decimals).toFixed(0),_e.value.toAmount=Ql(Fe.value,null==(ue=t.toToken)?void 0:ue.decimals).toFixed(0),_e.value.fromToken={...t.fromToken,amount:_e.value.fromAmount},_e.value.toToken={...t.toToken,amount:_e.value.toAmount},_e.value.isAmountOut=!e,_e.value.isPopMeFun=!0,Oe();const[n,o]=[(null==(ce=t.fromToken)?void 0:ce.address)+"-"+(null==(ve=t.fromToken)?void 0:ve.chain),(null==(fe=t.toToken)?void 0:fe.address)+"-"+(null==(xe=t.toToken)?void 0:xe.chain)];el([n,o]).then((async e=>{var l,a;_e.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,_e.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,_e.value.isPopMeFun=!0})),v.value=!1}catch(sl){v.value=!1,ea(sl)}return}if("tron"===l&&t.isSunPump>0){try{const a=await oa({...ul,isSunPump:t.isSunPump},l);e?Fe.value=Bl((null==a?void 0:a.amountOut)||"0",null==(he=t.toToken)?void 0:he.decimals):$e.value=Bl((null==a?void 0:a.amountIn)||"0",null==(be=t.fromToken)?void 0:be.decimals),ke.value=[{symbol:null==(ge=t.fromToken)?void 0:ge.symbol,nextAmm:"sunpump"},{symbol:null==(ye=t.toToken)?void 0:ye.symbol,nextAmm:""}],_e.value.fromAmount=Ql($e.value,null==(we=t.fromToken)?void 0:we.decimals).toFixed(0),_e.value.toAmount=Ql(Fe.value,null==(Te=t.toToken)?void 0:Te.decimals).toFixed(0),_e.value.fromToken={...t.fromToken,amount:_e.value.fromAmount},_e.value.toToken={...t.toToken,amount:_e.value.toAmount},_e.value.quoteResult={...a},_e.value.isAmountOut=!e,_e.value.isSunPump=t.isSunPump,Oe();const[n,o]=[(null==(Ae=t.fromToken)?void 0:Ae.address)+"-"+(null==(Se=t.fromToken)?void 0:Se.chain),(null==(Ne=t.toToken)?void 0:Ne.address)+"-"+(null==(Ie=t.toToken)?void 0:Ie.chain)];el([n,o]).then((async e=>{var l,a;_e.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,_e.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,_e.value.isSunPump=t.isSunPump})),v.value=!1}catch(sl){v.value=!1,ea(sl)}return}const cl=null==(Le=t.baseToken)?void 0:Le.pairs;if((null==(Ve=null==cl?void 0:cl[0])?void 0:Ve.target_token)===(null==(De=null==cl?void 0:cl[0])?void 0:De.pair)&&(null==(Me=null==cl?void 0:cl[0])?void 0:Me.pair)&&"xlayer"!==l){const a=await sa(ul,l);if(a){e?Fe.value=Bl(a||"0",null==(Pe=t.toToken)?void 0:Pe.decimals):$e.value=Bl(a||"0",null==(Ee=t.fromToken)?void 0:Ee.decimals),t.isERC314=!0,ke.value=[{symbol:null==(Re=t.fromToken)?void 0:Re.symbol,nextAmm:null==(He=null==cl?void 0:cl[0])?void 0:He.amm},{symbol:null==(je=t.toToken)?void 0:je.symbol,nextAmm:""}],_e.value.fromAmount=Ql($e.value,null==(ze=t.fromToken)?void 0:ze.decimals).toFixed(0),_e.value.toAmount=Ql(Fe.value,null==(We=t.toToken)?void 0:We.decimals).toFixed(0),_e.value.fromToken={...t.fromToken,amount:_e.value.fromAmount},_e.value.toToken={...t.toToken,amount:_e.value.toAmount};const[l,n]=[(null==(qe=t.fromToken)?void 0:qe.address)+"-"+(null==(Ge=t.fromToken)?void 0:Ge.chain),(null==(Qe=t.toToken)?void 0:Qe.address)+"-"+(null==(Ke=t.toToken)?void 0:Ke.chain)];return el([l,n]).then((async e=>{var l,a;_e.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,_e.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,_e.value.isERC314=!0})),void(v.value=!1)}}let vl="";if("core"===l&&((null==cl?void 0:cl.length)||0)>0){const e=(null==(ol=null==cl?void 0:cl.find)?void 0:ol.call(cl,(e=>{const l=[e.token0_address,e.token1_address];return l.includes(ul.from_token)||l.includes(ul.to_token)})))||(null==cl?void 0:cl[0]),l=(null==e?void 0:e.amm)||"",a={shadowswap:"0x191e94fa59739e188dce837f7f6978d84727ad01"};vl=(null==a?void 0:a[l])||"0x40375c92d9faf44d2f9db9bd9ba41a3317a2404f"}t.isERC314=!1,ia(ul,vl,l).then((e=>{Ce.value=e,nl(e),function(){ll&&(clearTimeout(ll),ll=null);ll=setTimeout((()=>{var e,l,a,t,n,o,i,r,u;Je()&&pe.value&&s.address&&!F.value&&(((null==(e=_e.value)?void 0:e.isSunPump)||0)>0?ca(_e.value,me.value).then((async e=>{var l;de.value={...e,isSunPump:null==(l=_e.value)?void 0:l.isSunPump},le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=ke.value})).catch((e=>{ea(e)})):(null==(l=_e.value)?void 0:l.isFourMeme)?va(_e.value,me.value).then((async e=>{de.value={...e,isFourMeme:!0},le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=ke.value})).catch((e=>{ea(e)})):(null==(a=_e.value)?void 0:a.isERC314)?ma(_e.value).then((async e=>{de.value={...e,isERC314:!0},le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=ke.value})).catch((e=>{ea(e)})):(null==(t=_e.value)?void 0:t.isDyorswapfun)?pa(_e.value,me.value).then((async e=>{de.value={...e,isDyorswapfun:!0},le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=ke.value})).catch((e=>{ea(e)})):(null==(n=_e.value)?void 0:n.isXflapswap)?fa(_e.value,me.value).then((async e=>{de.value={...e,isXflapswap:!0},le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=ke.value})).catch((e=>{ea(e)})):(null==(o=_e.value)?void 0:o.isCookPump)?xa(_e.value,me.value).then((async e=>{de.value={...e,isCookPump:!0},le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=ke.value})).catch((e=>{ea(e)})):(null==(i=_e.value)?void 0:i.isPopMeFun)?ha(_e.value,me.value).then((async e=>{de.value={...e,isPopMeFun:!0},le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=ke.value})).catch((e=>{ea(e)})):(null==(u=null==(r=_e.value)?void 0:r.routerPath)?void 0:u.length)>0&&(ba(_e.value,me.value).then((async e=>{de.value=e,le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=ke.value})).catch((e=>{ea(e)})),al(),tl()))}),3e3)}()})).catch((l=>{ea(l),e?Fe.value="":$e.value=""})).finally((()=>{setTimeout((()=>{v.value=!1,Ue()}),800)}))}}(e,s.chain||"")}),500)):v.value=!1)}let Ze={};function Xe(){const e=t.fromToken.chain,l=t.fromToken.address+"-"+e,a=t.toToken.address+"-"+e;return sessionStorage.swap_tokenPrice===l+"-"+a?(J.value=[0,0],"solana"===e?Q.value=0:"ton"===e?Z.value=0:"sui"===e&&(K.value=0)):sessionStorage.swap_tokenPrice=l+"-"+a,el([l,a]).then((async l=>{var a,t;const n=(null==(a=null==l?void 0:l[0])?void 0:a.current_price_usd)||0,o=(null==(t=null==l?void 0:l[1])?void 0:t.current_price_usd)||0;J.value=[n,o];const s=$e.value||0,i=Fe.value||0,r=Math.abs(Number(s)*n/(Number(i)*o)-1);"solana"===e?Q.value=r:"ton"===e?Z.value=r:"sui"===e&&(K.value=r)}))}function Je(){var e,l,a;if(!s.provider)return!0;const n=t.fromToken.balance||0,o=(t.isPump||t.isMoonshot)&&"So11111111111111111111111111111111111111112"!==t.token2.address,i=(t.isFourMeme||t.isFlap||t.isDyorswapfun||t.isXflapswap||t.isCookPump||t.isPopMeFun)&&t.token2.address!==Ye,r=t.isSunPump>0&&t.token2.address!==Ye;if("ton"===t.chain){const n=(null==ne?void 0:ne.totalTransferAmount)||0,o=(null==(a=null==(l=null==(e=t.userBalanceTokens)?void 0:e.find)?void 0:l.call(e,(e=>e.address===Ye)))?void 0:a.initBalance)||0;if(n&&new Be(n).gt(o))return!1}return!(0===Number(n)||Number(n)<Number($e.value)||!s.provider||"0"===String($e.value)||t.token1.address===t.token2.address||o||i||r)}let ll=null;function al(){const e=t.token1.chain,l=t.token2.chain,a=s.chain;a&&a===e&&a===l&&ga(a).then((e=>{ie.value=e}))}function tl(){const e=s.chain;if(["solana","ton","sui","tron"].includes(e))return;const l=t.token1.chain,a=t.token2.chain;e&&l===a&&e===l&&ka(e).then((e=>{oe.value=(null==e?void 0:e.toString())||"0"})).catch((e=>{oe.value="0"}))}function nl(e=Ce.value){var l,a,n,o,s,i,r;const u=e[Ne.value],d=e[Ne.value].routerPath,c=_.value,m=t.fromToken.decimals,p=t.toToken.decimals;let f=!1;if(c){f=Ql((null==(l=new Be($e.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${m}})?`)))?void 0:l[0])||"0",m).toFixed(0)===((null==(a=d[0])?void 0:a.amount)||0)}else{f=Ql((null==(n=new Be(Fe.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${p}})?`)))?void 0:n[0])||"0",p).toFixed(0)===((null==(o=d[d.length-1])?void 0:o.amount)||0)}if(!f)return;if(1===u.from_cannot_sell_all){const e=new Be(Ql(String(t.fromToken.balance),null==(s=t.fromToken)?void 0:s.decimals).toFixed(0)),l=new Be(null==u?void 0:u.routerPath[0].amount);E.value=e.gt(0)&&l.div(e).gt(.99999)}else E.value=!1;R.value=((null==u?void 0:u.totalTax)||0)>0||((null==u?void 0:u.total_sell_tax)||0)>0||((null==u?void 0:u.total_buy_tax)||0)>0;const x=function(e){if(!Number($e.value)&&!Number(Fe.value))return new Be(0);const l=e.routerPath,a=(null==l?void 0:l.length)>0?null==l?void 0:l[0]:null,t=(null==l?void 0:l.length)>0?null==l?void 0:l[l.length-1]:null;if(a&&t){const l=e.from_price,n=e.to_price,o=Bl(a.amount,a.decimals),s=Bl(t.amount,t.decimals);return new Be(o).times(l).div(new Be(s).times(n)).minus(1).abs().times(100)}return new Be(0)}(u);if(R.value||x.gt(.5)){H.value=((null==u?void 0:u.total_sell_tax)||0)+((null==u?void 0:u.total_buy_tax)||0)+1>49.99;const e=u.totalTax||(u.total_sell_tax||0)+(u.total_buy_tax||0),l=Number(x);if("auto"===M.value){let a=e+l+(e>5||l>5?2.5:2);a=Math.max(Math.min(a,49.99),.5),V.value=String(Number(a.toFixed(2)))}}else H.value=!1,"auto"===M.value&&(V.value=ab);if(_e.value=u,ke.value=d.map(((e,l)=>{var a,t;return{symbol:e.symbol,nextAmm:(null==(t=null==(a=null==u?void 0:u.pair_path)?void 0:a[l])?void 0:t.amm)||""}})),z.value=Ce.value.map((e=>{var l;let a=0,n=0;if(_.value){const n=e.routerPath[e.routerPath.length-1];a=Bl(n.amount||"0",(null==n?void 0:n.decimals)||(null==(l=t.toToken)?void 0:l.decimals))}else{const l=e.routerPath[0];n=Bl(l.amount||"0",(null==l?void 0:l.decimals)||t.fromToken.decimals)}return{path:e.routerPath.map(((l,a)=>{var t,n;return{symbol:l.symbol,nextAmm:(null==(n=null==(t=null==e?void 0:e.pair_path)?void 0:t[a])?void 0:n.amm)||""}})),amount:_.value?a:n,priceImpact:e.priceImpact}})),_.value){const e=d[d.length-1];Fe.value=Bl(e.amount||"0",(null==e?void 0:e.decimals)||(null==(i=t.toToken)?void 0:i.decimals))}else{const e=d[0];$e.value=Bl(e.amount||"0",(null==e?void 0:e.decimals)||(null==(r=t.fromToken)?void 0:r.decimals))}f&&setTimeout((()=>{v.value=!1,Ue()}),800)}function ol(){var e,l,a;const n=s.chain,o=Object.keys(_a).concat(["solana","sui","ton"]),i=t.token1.chain,r=t.token2.chain;return!(i&&!(null==(e=null==o?void 0:o.includes)?void 0:e.call(o,i)))&&(!(r&&!(null==(l=null==o?void 0:o.includes)?void 0:l.call(o,r)))&&(!!n&&(!(n&&!(null==(a=null==o?void 0:o.includes)?void 0:a.call(o,n)))&&(n===i&&n===r))))}function sl(){var e,l,a,n;if(1===t.activeTab){if(Number(V.value)>Number(null==(e=t.baseTokenExtra)?void 0:e.sell_tax)+1)return;const a=Math.max(Math.min(Number(null==(l=t.baseTokenExtra)?void 0:l.sell_tax)+1,49.99),.5);V.value=String(Number(a.toFixed(2)))}else{if(Number(V.value)>Number(null==(a=t.baseTokenExtra)?void 0:a.buy_tax)+1)return;const e=Math.max(Math.min(Number(null==(n=t.baseTokenExtra)?void 0:n.buy_tax)+1,49.99),.5);V.value=String(Number(e.toFixed(2)))}}function il(){var e,a,n,o,i;const r=s.chain,u=Object.keys(_a).concat(["solana","sui","ton"]),d=Ge(r),c=(null==d?void 0:d.name)||"",v=t.token1.chain,m=t.token2.chain,p=null==(e=Ge(v))?void 0:e.name,f=null==(a=Ge(m))?void 0:a.name;return v&&!(null==(n=null==u?void 0:u.includes)?void 0:n.call(u,v))?l("noSupportChain",{chain:p}):m&&!(null==(o=null==u?void 0:u.includes)?void 0:o.call(u,m))?l("noSupportChain",{chain:f}):r&&!(null==(i=null==u?void 0:u.includes)?void 0:i.call(u,r))?l("noSupportChain",{chain:c}):r!==v&&v||r!==m&&m?l("chainNotSame1"):v!==m?l("tokenNoSameChain"):void 0}function rl(){try{if(!s.provider)return void(s.provider||se.alert(l("browserWalletNotDetected"),l("tips"),{confirmButtonText:l("confirm")}));if(!ol())return;const e=s.chain;if(e!==(t.token1.chain||t.token2.chain||e))return void se.alert(l("plsSwitchChain",{chain:e}),l("tips"),{confirmButtonText:l("confirm")});2===t.swapType&&(Ie.value=1,pe.value?dl():async function(){var e,l;I.value=!0;let a=t.isFourMeme?null==(l=null==(e=_e.value)?void 0:e.quoteResult)?void 0:l.tokenManager:Hl(N.value);const n=["","TTfvyrAz86hbZk5iDpKD78pqLGgi8C7AAw","TZFs5ch1R1C4mmjwrrmZqeqbUgGpxY1yWB"][t.isSunPump];a=n||a,"xlayer"===s.chain&&t.isDyorswapfun&&(a="0xfd947a61e2c54413031ddb1f754dbe0e696efa09");"xlayer"===s.chain&&t.isXflapswap&&(a="0xb30d8c4216e1f21f27444d2ffaee3ad577808678");"gatelayer"===s.chain&&t.isDyorswapfun&&(a="0xC5d6974951201FB5f20C0efB4B6BEF5cf8FF1617");"juchain"===s.chain&&t.isCookPump&&(a="0xaF2F76f06E27BE138Bd5310ec6553E2c93ec19F4");"popchain"===s.chain&&t.isPopMeFun&&(a="0x198C8099E0c2CE323a5513769e294f349B015cEE");ya(t.fromToken.address,a).then((e=>e.wait())).then((e=>{Oe()})).catch((e=>{ea(e)})).finally((()=>{I.value=!1}))}())}catch(e){}}function ul(){var e,a,n;const o=t.fromToken.balance||0,i=(t.isPump||t.isMoonshot)&&"So11111111111111111111111111111111111111112"!==t.token2.address,r=(t.isFourMeme||t.isFlap||t.isDyorswapfun||t.isXflapswap||t.isCookPump||t.isPopMeFun)&&t.token2.address!==Ye,u=t.isSunPump>0&&t.token2.address!==Ye,d=s.address;if(!d)return l("pConnectWallet");if(d&&!s.provider)return l("observeAddressNotSwap");if(t.isERC314&&t.token2.address!==Ye||i||r||u)return l("ERC314Tips");if(0===Number(o)||Number(o)<Number($e.value)||!d)return l("insufficientBalance");if("0"===String($e.value))return l("AmountCannotBeZero");if("ton"===t.chain){const o=(null==ne?void 0:ne.totalTransferAmount)||0,s=(null==(n=null==(a=null==(e=t.userBalanceTokens)?void 0:e.find)?void 0:a.call(e,(e=>e.address===Ye)))?void 0:n.initBalance)||0;if(o&&new Be(o).gt(s))return l("tonInsufficientBalance")}}function dl(e=!0){var a,n,o,s,i,r,u,d,c,v,m,p,f,x;if(ll&&(clearTimeout(ll),ll=null),Je())if("sui"===t.chain){const l=null==(i=null==(s=null==(o=null==(n=null==(a=null==ae?void 0:ae.routes)?void 0:a[0])?void 0:n.hops)?void 0:o[0])?void 0:s.pool)?void 0:i.type,r=[t.fromToken,t.toToken].map(((e,a)=>({symbol:e.symbol,nextAmm:0===a&&l||""})));le.value={swapRouterPath:r,fromAmount:$e.value,toAmount:Fe.value,fromToken:t.fromToken,toToken:t.toToken,isAmountOut:!1},e&&(Le.value=!0),ke.value=r}else if("solana"===t.chain){const l=[t.fromToken,t.toToken].map((e=>({symbol:e.symbol,nextAmm:""})));le.value={swapRouterPath:l,fromAmount:$e.value,toAmount:Fe.value,fromToken:t.fromToken,toToken:t.toToken,isAmountOut:!1},e&&(Le.value=!0)}else if("ton"===t.chain){const l=[t.fromToken,t.toToken].map(((e,l)=>({symbol:e.symbol,nextAmm:0===l&&(null==ne?void 0:ne.dex)||""})));le.value={swapRouterPath:l,fromAmount:$e.value,toAmount:Fe.value,fromToken:t.fromToken,toToken:t.toToken,isAmountOut:!1},e&&(Le.value=!0),ke.value=l}else((null==(r=_e.value)?void 0:r.isSunPump)||0)>0?(F.value=!0,ca(_e.value,me.value).then((async l=>{var a;de.value={...l,isSunPump:null==(a=_e.value)?void 0:a.isSunPump},le.value=l.swapInfo,le.value.gasValue=l.gasValue,le.value.swapRouterPath=ke.value,F.value=!1,e&&(Le.value=!0)})).catch((e=>{F.value=!1,ea(e)})),al(),tl()):(null==(u=_e.value)?void 0:u.isFourMeme)?(F.value=!0,va(_e.value,me.value).then((async l=>{de.value={...l,isFourMeme:!0},le.value=null==l?void 0:l.swapInfo,le.value.gasValue=(null==l?void 0:l.gasValue)||"0",le.value.swapRouterPath=ke.value,F.value=!1,e&&(Le.value=!0)})).catch((e=>{F.value=!1,ea(e)})),al(),tl()):(null==(d=_e.value)?void 0:d.isERC314)?(F.value=!0,ma(_e.value).then((async l=>{de.value={...l,isERC314:!0},le.value=l.swapInfo,le.value.gasValue=l.gasValue,le.value.swapRouterPath=ke.value,F.value=!1,e&&(Le.value=!0)})).catch((e=>{F.value=!1,ea(e)})),al(),tl()):(null==(c=_e.value)?void 0:c.isDyorswapfun)?(F.value=!0,pa(_e.value,me.value).then((async l=>{de.value={...l,isDyorswapfun:!0},le.value=null==l?void 0:l.swapInfo,le.value.gasValue=(null==l?void 0:l.gasValue)||"0",le.value.swapRouterPath=ke.value,F.value=!1,e&&(Le.value=!0)})).catch((e=>{F.value=!1,ea(e)})),al(),tl()):(null==(v=_e.value)?void 0:v.isXflapswap)?(F.value=!0,fa(_e.value,me.value).then((async l=>{de.value={...l,isXflapswap:!0},le.value=null==l?void 0:l.swapInfo,le.value.gasValue=(null==l?void 0:l.gasValue)||"0",le.value.swapRouterPath=ke.value,F.value=!1,e&&(Le.value=!0)})).catch((e=>{F.value=!1,ea(e)})),al(),tl()):(null==(m=_e.value)?void 0:m.isCookPump)?(F.value=!0,xa(_e.value,me.value).then((async l=>{de.value={...l,isCookPump:!0},le.value=null==l?void 0:l.swapInfo,le.value.gasValue=(null==l?void 0:l.gasValue)||"0",le.value.swapRouterPath=ke.value,F.value=!1,e&&(Le.value=!0)})).catch((e=>{F.value=!1,ea(e)})),al(),tl()):(null==(p=_e.value)?void 0:p.isPopMeFun)?(F.value=!0,ha(_e.value,me.value).then((async l=>{de.value={...l,isPopMeFun:!0},le.value=null==l?void 0:l.swapInfo,le.value.gasValue=(null==l?void 0:l.gasValue)||"0",le.value.swapRouterPath=ke.value,F.value=!1,e&&(Le.value=!0)})).catch((e=>{F.value=!1,ea(e)})),al(),tl()):(null==(x=null==(f=_e.value)?void 0:f.routerPath)?void 0:x.length)>0&&(F.value=!0,ba(_e.value,me.value).then((async l=>{de.value=l,le.value={...l.swapInfo,fromToken:{...l.swapInfo.fromToken,...t.fromToken},toToken:{...l.swapInfo.fromToken,...t.toToken},fromAmount:$e.value,toAmount:Fe.value,isAmountOut:l.swapInfo.isAmountOut||!1},le.value.gasValue=l.gasValue,le.value.swapRouterPath=ke.value,F.value=!1,e&&(Le.value=!0)})).catch((e=>{F.value=!1,ea(e)})),al(),tl());else se.alert(ul(),l("tips"),{confirmButtonText:l("okay")})}function cl(e,a){se.alert(a,e,{confirmButtonText:l("getIt")}).then((()=>{}))}function vl(){var e,l,a,n;if(!$e.value||!Fe.value)return"--";let o=$e.value,s=Fe.value;if(R.value){let t=(null==(e=_e.value)?void 0:e.totalTax)||((null==(l=_e.value)?void 0:l.total_sell_tax)||0)+((null==(a=_e.value)?void 0:a.total_buy_tax)||0);t=Math.min(49,t),(null==(n=_e.value)?void 0:n.isAmountOut)?o=new Be(o).times(100+t).div(100):s=new Be(s).times(100-t).div(100)}const i=["solana","sui","ton"].includes(N.value),r=i?J.value[0]:_e.value.from_price,u=i?J.value[1]:_e.value.to_price;return r&&u?0===t.activeTab?X(Number($e.value||0)/Number(Fe.value)/(u/r)*u):1===t.activeTab?X(Number(Fe.value||0)/Number($e.value)/(r/u)*r):void 0:"--"}function ml(e){G.value=!1,Ne.value=e,nl()}async function pl(e=de.value){try{if("solana"===N.value)return void async function(){try{Ie.value=1,ee.value=!0,F.value=!0;const e=le.value,a={from_address:e.fromToken.address,from_symbol:e.fromToken.symbol,from_amount:Number(Bl(e.fromTokenAmount||0,e.fromToken.decimals)),to_address:e.toToken.address,to_symbol:e.toToken.symbol,to_amount:Number(Bl(e.toTokenAmount||0,e.toToken.decimals)),chain:s.chain,transaction:"",wallet_address:s.address};setTimeout((()=>{Le.value||(F.value=!1,ee.value=!1)}),6e3),wa(te).then((l=>{var t,n;return le.value.transaction=l.hash,so({chain:"solana",destination:"true"===localStorage.solanaProtection?"v1/blxrsol/sendSolTx":"/ave_nodes/rpc/solana/sendFastSwapTx",type:10,tx_hash:l.hash,status:1,wallet:s.address,out_token:a.to_address,out_amount:e.toAmount,in_token:a.from_address,in_amount:e.fromAmount}),F.value=!1,ee.value=!1,$e.value="",Fe.value="",null==(n=null==(t=j.value)?void 0:t.handleClick)||n.call(t,0),Ie.value=3,l.wait()})).then((e=>{var l;return e&&(io({chain:"solana",tx_hash:null==(l=null==e?void 0:e.transaction)?void 0:l.signatures[0],status:100}),t.getTokenDetails(),t.getUserTokenList()),e})).catch((e=>{"Timeout"===(e||(null==e?void 0:e.message))?n({type:"error",message:l("timeout_error")}):"Swap fail"===(e||(null==e?void 0:e.message))?n({type:"error",message:l("swapFail")}):ea(e,"solana"),Ee(),F.value=!1,ee.value=!1}))}catch(e){F.value=!1,ee.value=!1,ea(e,"solana")}}();if("sui"===N.value)return void async function(){try{ee.value=!0,F.value=!0,Ie.value=2;const e=le.value,a={from_address:e.fromToken.address,from_symbol:e.fromToken.symbol,from_amount:null==e?void 0:e.fromAmount,from_decimals:null==e?void 0:e.fromToken.decimals,to_address:e.toToken.address,to_symbol:e.toToken.symbol,to_amount:null==e?void 0:e.toAmount,to_decimals:null==e?void 0:e.toToken.decimals,chain:"sui",transaction:"",wallet_address:s.address};setTimeout((()=>{Le.value||(F.value=!1,ee.value=!1)}),6e3);const o=!0;Ta({quoteResponse:ae,slippage:new Be(P.value).div(100).toNumber()}).then((e=>Ca((null==e?void 0:e.tx)||e))).then((e=>{var l,t;return(null==e?void 0:e.digest)?(le.value.transaction=e.digest,o&&(a.transaction=e.digest,so({chain:"sui",destination:"wallet rpc",type:10,tx_hash:e.digest,status:1,wallet:s.address,out_token:a.to_address,out_amount:le.value.toAmount,in_token:a.from_address,in_amount:le.value.fromAmount})),F.value=!1,ee.value=!1,$e.value="",Fe.value="",null==(t=null==(l=j.value)?void 0:l.handleClick)||t.call(l,0),Ie.value=3,e.wait()):Promise.reject("Swap fail")})).then((e=>{if(e.digest)return io({chain:"sui",tx_hash:null==e?void 0:e.digest,status:100}),n({type:"success",message:l("tradeSuccess")}),t.getTokenDetails(),t.getUserTokenList(),e})).catch((e=>{Ie.value=1,F.value=!1,ee.value=!1,ea(e,"solana"),Ee()}))}catch(e){Ie.value=1,F.value=!1,ee.value=!1,ea(e,"solana")}}();if("ton"===N.value)return void async function(){try{ee.value=!0,F.value=!0,Ie.value=2;const e=le.value,a={from_address:e.fromToken.address,from_symbol:e.fromToken.symbol,from_amount:null==e?void 0:e.fromAmount,from_decimals:null==e?void 0:e.fromToken.decimals,to_address:e.toToken.address,to_symbol:e.toToken.symbol,to_amount:null==e?void 0:e.toAmount,to_decimals:null==e?void 0:e.toToken.decimals,chain:"ton",transaction:"",wallet_address:s.address};setTimeout((()=>{Le.value||(F.value=!1,ee.value=!1)}),6e3);const o=!0,i=[{address:null==ne?void 0:ne.to,amount:null==ne?void 0:ne.totalTransferAmount,payload:null==ne?void 0:ne.payload}],r=await Aa(a);r&&i.push(r),Sa(i).then((e=>{var l,t;return le.value.transaction=e.hash,so({chain:"ton",destination:"wallet rpc",type:10,tx_hash:e.hash,status:1,wallet:s.address,out_token:a.to_address,out_amount:le.value.toAmount,in_token:a.from_address,in_amount:le.value.fromAmount}),o&&(a.transaction=e.hash),F.value=!1,ee.value=!1,$e.value="",Fe.value="",null==(t=null==(l=j.value)?void 0:l.handleClick)||t.call(l,0),Ie.value=3,e.wait()})).then((async e=>(e?(io({chain:"ton",tx_hash:null==e?void 0:e.hash,status:100}),n({type:"success",message:l("tradeSuccess")}),t.getTokenDetails(),t.getUserTokenList()):(io({chain:"ton",tx_hash:a.transaction,status:-100}),n({type:"error",message:l("tradeFail")})),e))).catch((e=>{"Timeout"===(e||(null==e?void 0:e.message))?n({type:"error",message:l("timeout_error")}):"Swap fail"===(e||(null==e?void 0:e.message))?n({type:"error",message:l("tradeFail")}):ea(e),Ie.value=1,F.value=!1,ee.value=!1,Ee()}))}catch(e){Ie.value=1,F.value=!1,ee.value=!1,ea(e)}}();ee.value=!0,F.value=!0;await e.swapCallStatic();const a=e.swapInfo,o=(a.fromToken.isWrapper&&a.toToken.isETH||a.toToken.isWrapper&&a.fromToken.isETH,{from_address:a.fromToken.address,from_symbol:a.fromToken.symbol,from_amount:Number(Bl(a.fromTokenAmount||0,a.fromToken.decimals)),to_address:a.toToken.address,to_symbol:a.toToken.symbol,to_amount:Number(Bl(a.toTokenAmount||0,a.toToken.decimals)),chain:N.value,transaction:"",wallet_address:s.address});Ie.value=2,de.value.swap().then((e=>{var l,t;return le.value.transaction=e.hash,so({chain:N.value,destination:"wallet rpc",type:10,tx_hash:e.hash,status:1,wallet:s.address,out_token:o.to_address,out_amount:Number(Bl(a.toTokenAmount||0,a.toToken.decimals)),in_token:o.from_address,in_amount:Number(Bl(a.fromTokenAmount||0,a.fromToken.decimals))}),F.value=!1,ee.value=!1,$e.value="",Fe.value="",null==(t=null==(l=j.value)?void 0:l.handleClick)||t.call(l,0),Ie.value=3,e.wait()})).then((e=>{var l,a;return io({chain:N.value,tx_hash:e.hash,status:100,to:(null==(a=null==(l=null==e?void 0:e.to)?void 0:l.toLowerCase)?void 0:a.call(l))||""}),Ne.value=0,Ce.value=[],setTimeout((()=>{t.getTokenDetails(),t.getUserTokenList(),Oe(),"tron"!==t.token1.chain&&"tron"!==t.token2.chain||setTimeout((()=>{t.getTokenDetails()}),3e3)}),1e3),e})).catch((e=>{Ie.value=1,Ee(),F.value=!1,ee.value=!1,ea(e,"swap")}))}catch(a){F.value=!1,ee.value=!1,ea(a,"swap")}}return m([()=>t.fromToken.address,()=>s.address],(()=>{t.fromToken.address&&Oe()})),m([()=>t.fromToken.address,()=>t.toToken.address],(()=>{$e.value="",Fe.value="",Ne.value=0,Ee()})),(e,l)=>{var n,o,i,r,u,d,m,E,U,R;const H=Ae,W=Te,Y=w;return h(),C(A,null,[g("form",{class:"swap-container",action:"",onSubmit:L(rl,["prevent","stop"])},[g("div",wh,[g("div",Th,[y(Yf,{token:x(t).token1,"onUpdate:token":[l[0]||(l[0]=e=>x(t).token1=e),Re],tokens:x(t).swapTokens,chain:x(t).chain},null,8,["token","tokens","chain"]),l[26]||(l[26]=g("span",{style:{flex:"1"}},null,-1)),g("div",{class:"s-text",innerHTML:`${e.$t("balance1")}: ${x(X)((null==(n=x(t).token1)?void 0:n.balance)||0)}`},null,8,Ch),1===x(t).activeTab?(h(),C("button",{key:0,class:"max-btn",type:"button",onClick:l[1]||(l[1]=L((e=>je(100)),["stop"]))},k(e.$t("max")),1)):f("",!0)]),g("div",Ah,[0===x(t).activeTab?(h(),p(H,{key:0,modelValue:x(Fe),"onUpdate:modelValue":[l[2]||(l[2]=e=>D(Fe)?Fe.value=e:null),l[3]||(l[3]=e=>{var l;Fe.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),We()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",readonly:x(Ve),onFocus:l[4]||(l[4]=e=>{var l;return null==(l=x(j))?void 0:l.handleClick(0,!0)})},null,8,["modelValue","readonly"])):f("",!0),1===x(t).activeTab?(h(),p(H,{key:1,modelValue:x($e),"onUpdate:modelValue":[l[5]||(l[5]=e=>D($e)?$e.value=e:null),l[6]||(l[6]=e=>{var l;$e.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),ze()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",onFocus:l[7]||(l[7]=e=>{var l;return null==(l=x(j))?void 0:l.handleClick(0,!0)})},null,8,["modelValue"])):f("",!0)])]),g("div",Sh,[g("div",Nh,[y(Yf,{token:x(t).token2,"onUpdate:token":[l[8]||(l[8]=e=>x(t).token2=e),He],tokens:x(t).swapTokens,chain:x(t).chain},null,8,["token","tokens","chain"]),l[27]||(l[27]=g("span",{style:{flex:"1"}},null,-1)),g("div",{class:"s-text",innerHTML:`${e.$t("balance1")}: ${x(X)(x(t).token2.balance||0)}`},null,8,$h),0===x(t).activeTab?(h(),C("button",{key:0,class:"max-btn",type:"button",onClick:l[9]||(l[9]=L((e=>je(100)),["stop"]))},k(e.$t("max")),1)):f("",!0)]),g("div",Fh,[1===x(t).activeTab?(h(),p(H,{key:0,modelValue:x(Fe),"onUpdate:modelValue":[l[10]||(l[10]=e=>D(Fe)?Fe.value=e:null),l[11]||(l[11]=e=>{var l;Fe.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),We()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",readonly:x(Ve),onFocus:l[12]||(l[12]=e=>{var l;return null==(l=x(j))?void 0:l.handleClick(0,!0)})},null,8,["modelValue","readonly"])):f("",!0),0===x(t).activeTab?(h(),p(H,{key:1,modelValue:x($e),"onUpdate:modelValue":[l[13]||(l[13]=e=>D($e)?$e.value=e:null),l[14]||(l[14]=e=>{var l;$e.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),ze()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",onFocus:l[15]||(l[15]=e=>{var l;return null==(l=x(j))?void 0:l.handleClick(0,!0)})},null,8,["modelValue"])):f("",!0)])]),y(yh,{ref:"percentStepInf",activeColor:0===x(t).activeTab?("upColor"in e?e.upColor:x(ye))[0]:("downColor"in e?e.downColor:x(we))[0],onChange:je},null,8,["activeColor"]),x(s).address?x(s).address&&!x(s).provider?(h(),p(W,{key:1,"native-type":"button",class:"submit-btn",disabled:"",color:"#555555"},{default:b((()=>[T(k(e.$t("watchWalletNotSwap")),1)])),_:1})):ol()?x(pe)?(h(),p(W,{key:4,class:"submit-btn",loading:x(F)||x(v)||x(c),color:x(be),disabled:x(fe)&&(null==(i=null==(o=x(fe))?void 0:o.gt)?void 0:i.call(o,.4))||!Je()||!x($e)||!x(Fe),"native-type":"submit"},{default:b((()=>{var l,a,n,o,i,r;return[0===Number(x(t).fromToken.balance)||Number(x(t).fromToken.balance)<Number(x($e))||""===x(s).address||(x(t).isERC314||x(t).isFourMeme||x(t).isFlap||x(t).isSunPump>0||x(t).isDyorswapfun||x(t).isXflapswap||x(t).isCookPump||x(t).isPopMeFun)&&x(t).token2.address!==("NATIVE_TOKEN"in e?e.NATIVE_TOKEN:x(Ye))||(x(t).isPump||x(t).isMoonshot)&&"So11111111111111111111111111111111111111112"!==x(t).token2.address||x(De)?(h(),C("span",Ih,k(ul()||(0===x(t).activeTab?e.$t("buy"):e.$t("sell"))+" "+(null==(l=x(t).token1)?void 0:l.symbol)||""),1)):x(fe)&&(null==(n=null==(a=x(fe))?void 0:a.gt)?void 0:n.call(a,.4))?(h(),C("span",Lh,k(e.$t("priceImpactTooHigh")),1)):(h(),C(A,{key:2},[g("span",null,k(x(fe)&&(null==(i=null==(o=x(fe))?void 0:o.gt)?void 0:i.call(o,.1))?0===x(t).activeTab?e.$t("buyAnyway"):e.$t("sellAnyway"):0===x(t).activeTab?e.$t("buy"):e.$t("sell"))+" "+k((null==(r=x(t).token1)?void 0:r.symbol)||""),1),x(ge)?(h(),C("span",{key:0,style:{"font-size":"12px"},innerHTML:x(ge)},null,8,Vh)):f("",!0)],64))]})),_:1},8,["loading","color","disabled"])):(h(),p(W,{key:3,class:"submit-btn",color:x(be),"native-type":"submit",loading:x(I)||x(F)||x(c),disabled:Number(x(t).fromToken.balance)<Number(x($e))},{default:b((()=>{var l,a;return[T(k(0===Number(x(t).fromToken.balance)||Number(x(t).fromToken.balance)<Number(x($e))||""===x(s).address?x(fe)&&(null==(a=null==(l=x(fe))?void 0:l.gt)?void 0:a.call(l,.4))?e.$t("priceImpactTooHigh"):ul()||e.$t("approve"):e.$t("approve")),1)]})),_:1},8,["color","loading","disabled"])):(h(),p(W,{key:2,"native-type":"button",class:"submit-btn",disabled:"",color:"#555555"},{default:b((()=>[T(k(il()),1)])),_:1})):(h(),p(W,{key:0,"native-type":"button",class:"submit-btn",color:"#286DFF",onClick:l[16]||(l[16]=L((l=>("useBotStore"in e?e.useBotStore:x(q))().changeConnectVisible(!0,1)),["stop"]))},{default:b((()=>[T(k(e.$t("pConnectWallet")),1)])),_:1})),g("ul",Dh,[g("li",Mh,[g("span",null,k(e.$t("slippage")),1),y(Y,{class:"ml-2px color-[--secondary-text]! clickable",name:"material-symbols:help-outline",onClick:l[17]||(l[17]=L((l=>cl(e.$t("slippage"),e.$t("minimumReceivedTips"))),["stop"]))}),l[28]||(l[28]=g("span",{style:{flex:"1"}},null,-1)),"solana"===x(N)?(h(),p(ox,{key:0,slippage:x(B),"onUpdate:slippage":l[18]||(l[18]=e=>D(B)?B.value=e:null),canSetAuto:!1},null,8,["slippage"])):(null==(r=["sui","ton"])?void 0:r.includes(x(N)))?(h(),p(ox,{key:1,slippage:x(P),"onUpdate:slippage":l[19]||(l[19]=e=>D(P)?P.value=e:null),canSetAuto:!1},null,8,["slippage"])):(h(),p(ox,{key:2,slippage:x(M),"onUpdate:slippage":l[20]||(l[20]=e=>D(M)?M.value=e:null),autoSlippage:x(V)},null,8,["slippage","autoSlippage"]))]),O(g("li",null,[g("div",Bh,[g("span",null,k(e.$t("estimatedAveragePrice")),1)]),g("div",Ph,[g("span",null,"$"+k(vl()),1)])],512),[[ce,x($e)&&x(Fe)]]),O(g("li",null,[g("div",Eh,[g("span",null,k(e.$t("priceImpact")),1),g("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:l[21]||(l[21]=L((l=>cl(e.$t("priceImpact"),e.$t("priceImpactTips"))),["stop"]))})]),g("div",{style:$({color:x(he)})},k(x(xe))+k(x(fe)&&(null==(d=null==(u=x(fe))?void 0:u.gt)?void 0:d.call(u,.05))?`(${e.$t("excessivePriceImpact")})`:""),5)],512),[[ce,x($e)&&x(Fe)&&!x(t).isDyorswapfun]]),O(g("li",null,[g("div",Uh,[g("span",null,k(e.$t("tokenRoute")),1),g("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:l[22]||(l[22]=L((l=>cl(e.$t("tokenRoute"),e.$t("tokenRouteTips"))),["stop"]))})]),(null==(m=["solana","sui"])?void 0:m.includes(x(N)))?(h(),C("div",Rh,[(h(!0),C(A,null,S([x(t).fromToken,x(t).toToken],((e,l)=>(h(),C(A,{key:l},[0!==l?(h(),C("img",Hh)):f("",!0),e.symbol?(h(),C("span",Oh,k(e.symbol),1)):f("",!0)],64)))),128))])):"ton"===x(N)?(h(),C("div",jh,[(h(!0),C(A,null,S(x(ke),((e,t)=>(h(),C(A,{key:t},[e.symbol?(h(),C("span",zh,k(e.symbol),1)):f("",!0),e.nextAmm&&"unknown"!==e.nextAmm?(h(),C("div",Wh,[g("img",{class:"icon-amm-logo rounded",src:`${x(a).token_logo_url}swap/${e.nextAmm}.jpeg`,alt:"",srcset:"",onerror:"this.src='/icon-default.png'"},null,8,qh),l[29]||(l[29]=g("img",{style:{width:"15px",margin:"1px 5px 0"},src:kf,alt:"",srcset:""},null,-1))])):f("",!0)],64)))),128))])):1===(null==(E=x(_e))?void 0:E.toWrapper)||2===(null==(U=x(_e))?void 0:U.toWrapper)?(h(),C("div",Yh,[(h(!0),C(A,null,S(x(ke),((e,l)=>(h(),C(A,{key:l},[0!==l?(h(),C("img",Gh)):f("",!0),e.symbol?(h(),C("span",Qh,k(e.symbol),1)):f("",!0)],64)))),128))])):(h(),C("div",{key:3,class:"path-list clickable",onClick:l[23]||(l[23]=L((e=>!x(t).isFourMeme&&!x(t).isSunPump&&(G.value=!0)),["stop","prevent"]))},[(h(!0),C(A,null,S(x(ke),((e,t)=>(h(),C(A,{key:t},[e.symbol?(h(),C("span",Kh,k(e.symbol),1)):f("",!0),e.nextAmm&&"unknown"!==e.nextAmm?(h(),C("div",Zh,[g("img",{class:"icon-amm-logo rounded",src:`${x(a).token_logo_url}swap/${e.nextAmm}.jpeg`,alt:"",srcset:"",onerror:"this.src='/icon-default.png'"},null,8,Xh),l[30]||(l[30]=g("img",{style:{width:"15px",margin:"1px 5px 0"},src:kf,alt:"",srcset:""},null,-1))])):f("",!0)],64)))),128)),x(z).length>0?(h(),C("i",Jh)):f("",!0)]))],512),[[ce,x($e)&&x(Fe)]]),!(null==(R=["solana","sui","ton","tron"])?void 0:R.includes(x(N)))&&Number(x(re))>0?(h(),C("li",eb,[g("div",lb,k(e.$t("estimatedGas")),1),g("div",null,"≈ $"+k(x(re)),1)])):f("",!0)])],32),y(hx,{visible:x(G),"onUpdate:visible":l[24]||(l[24]=e=>D(G)?G.value=e:null),listRouter:x(z),isAmount:x(_),selectedRouterIndex:x(Ne),onGetSelectedRouter:ml},null,8,["visible","listRouter","isAmount","selectedRouterIndex"]),y(hh,{visible:x(Le),"onUpdate:visible":l[25]||(l[25]=e=>D(Le)?Le.value=e:null),swapInfo:x(le),swapQuoteInfo:x(_e),slippage:"solana"===x(N)?x(B):"ton"===x(N)||"sui"===x(N)?x(P):x(me),loading:x(ee),chain:x(N),nativePrice:x(ie),gasPrice:x(oe),activeShow:x(Ie),onSubmit:pl},null,8,["visible","swapInfo","swapQuoteInfo","slippage","loading","chain","nativePrice","gasPrice","activeShow"])],64)}}}),[["__scopeId","data-v-00c4b4dd"]]),nb={class:"relative"},ob=B(s({__name:"solanaLimitExpired",props:{expiredTime:{type:[Number,null],default:null}},emits:["update:visible","update:expiredTime"],setup(e,{emit:l}){const{t:a}=i(),t=e,n=l,o=Sl("selectRef"),s=d((()=>[{name:a("never"),value:""},{name:a("10min"),value:600},{name:a("1h"),value:3600},{name:a("1d"),value:86400},{name:a("3d"),value:259200},{name:a("7d"),value:604800}].map((e=>e.value===t.expiredTime?{...e,color:"#286DFF "}:e)))),r=d((()=>{var e;return null==(e=s.value.find((e=>e.value===(null===t.expiredTime?"":t.expiredTime))))?void 0:e.name})),u=d({get:()=>null===t.expiredTime?"":t.expiredTime,set(e){n("update:expiredTime",""===e?null:e)}});return(e,l)=>{const a=w,t=Tn,n=wn;return h(),C("div",nb,[g("div",{class:"select-container clickable",onClick:l[0]||(l[0]=L((e=>{var l,a;return null==(a=null==(l=x(o))?void 0:l.focus)?void 0:a.call(l)}),["stop"]))},[g("span",null,k(x(r)),1),y(a,{class:"clickable text-12px color-#999 ml-5px",name:"solar:alt-arrow-down-bold"})]),y(n,{ref_key:"selectRef",ref:o,modelValue:x(u),"onUpdate:modelValue":l[1]||(l[1]=e=>D(u)?u.value=e:null),placeholder:"Select",size:"small",style:{width:"80px",opacity:"0",position:"absolute",right:"0",top:"50%",transform:"translateY(-50%)"}},{default:b((()=>[(h(!0),C(A,null,S(x(s),(e=>(h(),p(t,{key:e.value,label:e.name,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-775d3efa"]]),sb={key:0},ib={key:1},rb={key:1},ub={key:2},db={class:"swap-info"},cb={key:0,class:"swap-info_item"},vb={class:"swap-info_item-label"},mb=["innerHTML"],pb={class:"swap-info_item"},fb={class:"swap-info_item-label"},xb={class:"swap-info_item-value"},hb=["src"],bb=["innerHTML"],gb={class:"ml-5px"},kb={class:"swap-info_item"},_b={class:"swap-info_item-label"},yb={class:"swap-info_item-value"},wb=["innerHTML"],Tb={style:{color:"var(--custom-primary-color)"}},Cb={class:"swap-info_item"},Ab={class:"swap-info_item-label"},Sb={class:"swap-info_item-value"},Nb=["src"],$b=["innerHTML"],Fb={class:"ml-5px"},Ib={class:"swap-info_item"},Lb={class:"swap-info_item-label"},Vb={class:"swap-info_item-value"},Db=["src"],Mb=["innerHTML"],Bb={class:"ml-5"},Pb={class:"swap-info_item"},Eb={class:"swap-info_item-label"},Ub={class:"swap-info_item-value"},Rb=["innerHTML"],Hb={style:{color:"var(--custom-primary-color)"}},Ob={class:"swap-info_item"},jb={class:"swap-info_item-label"},zb={class:"swap-info_item-value"},Wb=["src"],qb=["innerHTML"],Yb={class:"ml-5"},Gb={key:3,class:"swap-info_item"},Qb={class:"swap-info_item-label"},Kb=["innerHTML"],Zb={class:"swap-info_item tips warning"},Xb={class:"swap-info_item tips warning"},Jb={key:0,class:"swap-info_item tips warning"},eg={key:1,class:"swap-info_item tips warning"},lg={key:1,class:"swap-info center"},ag={class:"mt-20"},tg={class:"swap-info center"},ng={class:"mt-20px"},og={class:"footer"},sg=B(s({__name:"confirmLimit",props:{visible:{type:Boolean,default:!1},limitInfo:{type:Object,default:()=>{}},loading:{type:Boolean,default:!1},chain:{type:String,default:""},limitGasU:{type:String,default:""},activeShow:{type:Number,default:0}},emits:["update:visible","submit"],setup(e,{emit:l}){const a=e,t=l,n=d({get:()=>a.visible,set(e){t("update:visible",e)}});function o(e){var l;return e.logoURI&&!(null==(l=null==e?void 0:e.logoURI)?void 0:l.includes("empty-token"))?e.logoURI:be({symbol:null==e?void 0:e.symbol,chain:null==e?void 0:e.chain,logo_url:null==e?void 0:e.logo_url})}function s(){window.open(ee(a.chain,a.limitInfo.transaction,"tx"))}return(l,a)=>{const i=Te,r=Ll,u=w,d=Ue;return h(),p(d,{modelValue:x(n),"onUpdate:modelValue":a[1]||(a[1]=e=>D(n)?n.value=e:null),width:"446px"},{header:b((()=>[1===e.activeShow?(h(),C(A,{key:0},[0===e.limitInfo.orderType?(h(),C("span",sb,k(0===e.limitInfo.activeTab?l.$t("limitBuy"):l.$t("limitSell")),1)):f("",!0),1===e.limitInfo.orderType?(h(),C("span",ib,k(0===e.limitInfo.activeTab?l.$t("stopLimitBuy"):l.$t("stopLimitSell")),1)):f("",!0)],64)):2===e.activeShow?(h(),C("span",rb,k(l.$t("waitForConfirming")),1)):3===e.activeShow?(h(),C("span",ub,k(l.$t("tradeConfirmed")),1)):f("",!0)])),default:b((()=>{var n,d,c,v,m,p,_,w,S,N,F,I,V,D,M,B,P,E,U,R,H,O,j;return[1==e.activeShow?(h(),C(A,{key:0},[g("ul",db,[1===e.limitInfo.orderType?(h(),C("li",cb,[g("div",vb,k(l.$t("limitEffective")),1),g("div",{class:"swap-info_item-value",innerHTML:l.$t("triggerPriceEffective",{symbol:1===e.limitInfo.activeTab?(null==(d=null==(n=e.limitInfo)?void 0:n.fromToken)?void 0:d.symbol)||"":(null==(v=null==(c=e.limitInfo)?void 0:c.toToken)?void 0:v.symbol)||"",price:("formatNumber"in l?l.formatNumber:x(X))((null==(m=e.limitInfo)?void 0:m.triggerPrice)||0)})},null,8,mb)])):f("",!0),0===e.limitInfo.activeTab?(h(),C(A,{key:1},[g("li",pb,[g("div",fb,k(l.$t("limitBuy")),1),g("div",xb,[g("img",{class:"icon-token",src:o(e.limitInfo.toToken),alt:"",height:"20"},null,8,hb),g("span",{innerHTML:("formatNumber"in l?l.formatNumber:x(X))(e.limitInfo.toAmount||0)},null,8,bb),g("span",gb,k((null==(_=null==(p=e.limitInfo)?void 0:p.toToken)?void 0:_.symbol)||""),1)])]),g("li",kb,[g("div",_b,k(l.$t("limitPrice"))+"("+k(1===e.limitInfo.activeTab?(null==(S=null==(w=e.limitInfo)?void 0:w.fromToken)?void 0:S.symbol)||"":(null==(F=null==(N=e.limitInfo)?void 0:N.toToken)?void 0:F.symbol)||"")+")",1),g("div",yb,[g("span",{innerHTML:`$${("formatNumber"in l?l.formatNumber:x(X))(e.limitInfo.targetLimitPrice||0)}`},null,8,wb),g("span",Tb,"("+k(l.$t("auto-submitWhenPriceBuy"))+")",1)])]),g("li",Cb,[g("div",Ab,k(l.$t("expectedPayment")),1),g("div",Sb,[g("img",{class:"icon-token",src:o(e.limitInfo.fromToken),alt:"",height:"20"},null,8,Nb),g("span",{innerHTML:("formatNumber"in l?l.formatNumber:x(X))(e.limitInfo.fromAmount||0)},null,8,$b),g("span",Fb,k((null==(V=null==(I=e.limitInfo)?void 0:I.fromToken)?void 0:V.symbol)||""),1)])])],64)):f("",!0),1===e.limitInfo.activeTab?(h(),C(A,{key:2},[g("li",Ib,[g("div",Lb,k(l.$t("limitSell")),1),g("div",Vb,[g("img",{class:"icon-token",src:o(e.limitInfo.fromToken),alt:"",height:"20"},null,8,Db),g("span",{innerHTML:("formatNumber"in l?l.formatNumber:x(X))(e.limitInfo.fromAmount||0)},null,8,Mb),g("span",Bb,k((null==(M=null==(D=e.limitInfo)?void 0:D.fromToken)?void 0:M.symbol)||""),1)])]),g("li",Pb,[g("div",Eb,k(l.$t("limitPrice"))+"("+k(1===e.limitInfo.activeTab?(null==(P=null==(B=e.limitInfo)?void 0:B.fromToken)?void 0:P.symbol)||"":(null==(U=null==(E=e.limitInfo)?void 0:E.toToken)?void 0:U.symbol)||"")+")",1),g("div",Ub,[g("span",{innerHTML:`$${("formatNumber"in l?l.formatNumber:x(X))(e.limitInfo.targetLimitPrice||0)}`},null,8,Rb),g("span",Hb,"("+k(l.$t("auto-submitWhenPriceSell"))+")",1)])]),g("li",Ob,[g("div",jb,k(l.$t("expectedReceivable")),1),g("div",zb,[g("img",{class:"icon-token",src:o(e.limitInfo.toToken),alt:"",height:"20"},null,8,Wb),g("span",{innerHTML:("formatNumber"in l?l.formatNumber:x(X))(e.limitInfo.toAmount||0)},null,8,qb),g("span",Yb,k((null==(H=null==(R=e.limitInfo)?void 0:R.toToken)?void 0:H.symbol)||""),1)])])],64)):f("",!0),"solana"!==e.chain?(h(),C("li",Gb,[g("div",Qb,k(l.$t("estimateGas")),1),g("div",{class:"swap-info_item-value",style:{"text-align":"right"},innerHTML:l.$t("estimateGasTips",{n:("formatNumber"in l?l.formatNumber:x(X))(e.limitGasU??1,1)})},null,8,Kb)])):f("",!0),"solana"!==e.chain?(h(),C(A,{key:4},[g("li",Zb,"* "+k(l.$t("limitFeeTip")),1),g("li",Xb,"* "+k(l.$t("limitTokenTips")),1),(null==(j=null==(O=e.limitInfo)?void 0:O.fromToken)?void 0:j.address)===x(Ye)?(h(),C("li",Jb,k(l.$t("limitTips1")),1)):(h(),C("li",eg,k(l.$t("limitTips2")),1))],64)):f("",!0)]),g("div",{class:"footer",style:$({"padding-bottom":"solana"!==e.chain?"10px":"0"})},[y(i,{class:"swap-button w-full",type:"primary",size:"large",loading:e.loading,"loading-text":l.$t("confirming"),block:"",onClick:a[0]||(a[0]=L((e=>t("submit")),["stop"]))},{default:b((()=>[T(k(l.$t("confirm")),1)])),_:1},8,["loading","loading-text"])],4)],64)):2==e.activeShow?(h(),C("div",lg,[y(r,{size:110,color:"#747782",style:{animation:"rotating 2s linear infinite normal"}},{default:b((()=>[y(x(Pl))])),_:1}),g("span",ag,k(l.$t("plsConfirmWallet")),1)])):3==e.activeShow?(h(),C(A,{key:2},[g("div",tg,[y(u,{name:"lineicons:arrow-up-circle",class:"text-110px"}),g("span",ng,k(l.$t("plsViewBlockChainExplorer")),1)]),g("div",og,[y(i,{class:"swap-button w-full",type:"primary",size:"large",block:"",onClick:L(s,["stop"])},{default:b((()=>[T(k(l.$t("viewTransition")),1)])),_:1})])],64)):f("",!0)]})),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-2d2e0786"]]);async function ig(e){const{from_token:l,to_token:a,amountIn:t,amountOut:n}=e,o=await function(e){let l="Lifinity V1,Lifinity V2,Phoenix,Openbook,OpenBook V2";sessionStorage.isMoonshot||sessionStorage.isMeteora||(l+=",Meteora,Meteora DLMM");const a={...e,restrictIntermediateTokens:!0,excludeDexes:l};a.inputMint===Ye&&(a.inputMint="So11111111111111111111111111111111111111112");a.outputMint===Ye&&(a.outputMint="So11111111111111111111111111111111111111112");return Oa({method:"get",url:"https://api.jup.ag/swap/v1/quote",params:a},"v3")}({inputMint:l,outputMint:a,amount:t||n||"",slippageBps:200,swapMode:t?"ExactIn":"ExactOut"});return{...o,chain:"solana"}}function rg(e,{chain:l,QuoteContract:a,swapContract:t,gasPrice:n,nativePrice:o,amountIn:s,amountOut:i,balance:r,allowanceAmount:u,fromIsETH:d,toIsETH:c,mainName:v,from_token:m,to_token:p}){var f;let x="0";if(!e.pair_path||0===(null==(f=e.pair_path)?void 0:f.length)||!e.token_path||0===e.token_path.length)return Promise.resolve({routerPath:[],routerPairPath:[]});const h=e.pair_path.map((e=>{var a;return(null==(a=ja)?void 0:a.includes(l))?{pair:"v4"===e.protocol?"0x".padEnd(42,"0"):e.pair,tokenIn:e.token_in,tokenOut:e.token_out,router:e.amm_router,poolId:"v4"===e.protocol?e.pair:"0x".padEnd(66,"0")}:{pair:e.pair,tokenIn:e.token_in,tokenOut:e.token_out,router:e.amm_router}}));let b=1;"arbitrum"===l?b=3.5:("optimism"===l||"base"===l)&&(b=4);const g=Y();return Number(s)?a.getAmountsOut.staticCall(h,s).then((async a=>{var i,f,k,_;let y=e.token_path.map(((e,l)=>({...e,amount:a[l].toString()})));d&&(y[0].isETH=d,y[0].symbol=v),c&&(y[y.length-1].isETH=c,y[y.length-1].symbol=v);let w=0;if(u.gte(s)&&r.gte(s)){const r=g.address,u=String(e.feeIn??"2"),d=30,c=za(g.address);let v={srcToken:m,dstToken:p,srcReceiver:0!==Number(h[0].router)?e.pair_path[0].pair:t.address,dstReceiver:r,amount:s,minReturnAmount:"1",feeIn:u,feeRate:d,feeTo:za(g.address),receiveRate:0,referrer:c,path:h,routerPath:[]};(null==(i=ja)?void 0:i.includes(l))&&(v={srcToken:m,dstToken:p,amount:s,minReturnAmount:"1",feeIn:u,feeRate:d,feeTo:za(g.address),minLiquidity:"0",maxLiquidity:"0",referRates:[0],referrers:[c],paths:h});const _=m===Ye?s:"0",C=null==a?void 0:a[y.length-1];try{const a=new Be(await(null==(f=null==t?void 0:t[Wa(l)])?void 0:f.staticCall(v,{value:_})));w=Number(((1e4-a.times(1e4).div(C).toNumber()-d)/100).toFixed(2))||0,w>0&&(y[y.length-1].amount=a.toString()),(e.total_sell_tax||0)>0&&(b=2,"arbitrum"===l?b=4:"eth"===l?b=2.3:("optimism"===l||"base"===l)&&(b=4.5));const s=new Be("360000"),i=null==(k=y[y.length-1])?void 0:k.decimals,r=new Be(o.toString()),u=new Be(e.to_price.toString()),c=new Be(n.toString()).times(r).times(s.toString()).times(b).div(u).times(10**(i-18)).toFixed(0);x=new Be(n.toString()).times(r).times(s.toString()).times(b).div(10**18).toFixed(),c&&(y[y.length-1].amount=a.minus(c).toString())}catch(T){}}else{w=new Be(e.total_buy_tax||0).plus(e.total_sell_tax||0)||new Be(0);let l=new Be("360000");(e.total_sell_tax||0)>0?l=l.times(2):w.gt(0)&&(l=l.times(1.5));const t=null==a?void 0:a[y.length-1],s=new Be(e.to_price.toString()),i=null==(_=y[y.length-1])?void 0:_.decimals,r=new Be(o.toString()),u=new Be(n.toString()).times(r).times(l.toString()).div(s).times(10**(i-18)).toFixed(0);let d=new Be(t.toString()).times(new Be(100).minus(w)).div(100);d.gt(u)&&(d=d.minus(u)),x=new Be(n.toString()).times(r).times(l.toString()).times(b).div(10**18).toFixed(),y[y.length-1].amount=d.toFixed(0)}return y=y.map((e=>({...e,address:e.isETH?Ye:e.address}))),y[0].price=e.from_price,y[y.length-1].price=e.to_price,{routerPath:y,routerPairPath:h,...e,totalTax:Math.max(Number(w.toFixed()),0),isAmountOut:!1,gas:"0".toString(),gasU:x}})):i?a.getAmountsIn.staticCall(h,i).then((async a=>{var s,f;let k=e.token_path.map(((e,l)=>({...e,amount:a[l].toString()})));d&&(k[0].isETH=d,k[0].symbol=v),c&&(k[k.length-1].isETH=c,k[k.length-1].symbol=v);const _=null==a?void 0:a[0];let y=0;if(u.gte(_)&&r.gte(_)){const a=g.address,u=String(e.feeIn??"2"),d=30,c=za(g.address),v=0,f={srcToken:m,dstToken:p,srcReceiver:0!==Number(h[0].router)?e.pair_path[0].pair:t.address,dstReceiver:a,amount:r.toString(),minReturnAmount:i,feeIn:u,feeRate:d,feeTo:c,receiveRate:et.test(l)?v:0,referrer:c,path:h,routerPath:[]},T=m===Ye?f.amount:"0";try{const a=new Be(await t.exactOutput.staticCall(f,{value:T}));y=Number(((1e4-_.times(1e4).div(a).toNumber()-d)/100).toFixed(2))||0,y>0&&(k[0].amount=a.toString()),(e.total_sell_tax||0)>0&&(b=2,"arbitrum"===l?b=4:"eth"===l?b=2.3:"optimism"===l?b=4.5:"base"===l&&(b=5));const i=new Be("360000"),r=null==(s=k[0])?void 0:s.decimals,u=new Be(o.toString()),c=new Be(e.from_price.toString()),v=new Be(n.toString()).times(u).times(i.toString()).times(b).div(c).times(10**(r-18)).toFixed(0);x=new Be(n.toString()).times(u).times(i.toString()).times(b).div(10**18).toFixed(),v&&(k[0].amount=a.plus(v).toString())}catch(w){}}else{y=new Be(e.total_buy_tax||0).plus(e.total_sell_tax||0)||new Be(0);let t=new Be("360000");(e.total_sell_tax||0)>0?t=t.times(2):y.gt(0)&&(t=t.times(1.5)),"arbitrum"===l&&(t=t.times(3.5)),"optimism"===l&&(t=t.times(4)),"base"===l&&(t=t.times(4.5));const s=null==a?void 0:a[0],i=null==(f=k[0])?void 0:f.decimals,r=new Be(o.toString()),u=new Be(e.from_price.toString()),d=new Be(n.toString()).times(r).times(t.toString()).div(u).times(10**(i-18)).toFixed(0),c=new Be(s.toString()).div(new Be(100).minus(y)).times(100).plus(d);x=new Be(n.toString()).times(r).times(t.toString()).div(10**18).toFixed(),k[0].amount=c.toFixed(0)}return k=k.map((e=>({...e,address:e.isETH?Ye:e.address}))),k[0].price=e.from_price,k[k.length-1].price=e.to_price,{routerPath:k,routerPairPath:h,...e,totalTax:Math.max(Number(y.toFixed()),0),isAmountOut:!0,gas:"0".toString(),gasU:x}})):Promise.resolve({routerPath:[],routerPairPath:[]})}async function ug(e,l=null){const a=qa.deserialize(Ya.from(e,"base64")),t=await Ga(a,l);return{hash:t,wait:()=>Qa(t)}}async function dg(e,l=Y().address){const{fromToken:a,fromAmount:t,toToken:n,toAmount:o,expiredAt:s}=e,i={maker:l,payer:l,params:{makingAmount:t,takingAmount:o,expiredAt:s?String(s):void 0},inputMint:a,outputMint:n,computeUnitPrice:"auto"};return(r=i,Oa({method:"POST",url:"https://api.jup.ag/trigger/v1/createOrder",data:r})).then((e=>{const l=e.transaction;return{result:e,send:()=>ug(l)}}));var r}function cg({id:e,fromToken:l,fromAmount:a,toToken:t,toAmount:n,maker:s,salt:i,signature:r,minReturn:u,targetToken:d,targetLimitPrice:c,orderType:v,triggerPrice:m,currentPrice:p},f=Y().chain){v=v||0,m=m||c,p=p||0;const{$api:x}=o();return x("/v1api/v2/aveswap/limitorder/add",{method:"post",body:{order_id:e,chain:f,from_token:l,from_amount:a,to_token:t,to_amount:n,maker:s,salt:i,signature:r,to_min_amount:u,target_token:d,target_limit_price:c,order_type:v,trigger_price:m,current_price:p}})}async function vg({fromToken:e,fromAmount:l,toToken:a,minReturn:t,salt:n,id:s,order_id:i},r=Y().chain){const u=await Ia(),d=new Da(Ua[r],Ra,u);return d.cancelOrder.estimateGas(e,l,a,t,n).then((u=>d.cancelOrder(e,l,a,t,n,{gasLimit:u.toString()}).then((e=>e.wait())).then((e=>function(e,l,a=Y().chain){const{$api:t}=o();return t("/v1api/v2/aveswap/limitorder/cancel",{method:"post",body:{id:e,chain:a,order_id:l}})}(s,i,r)))))}async function mg(e,l=Y().address){return function(e){const{$api:l}=o();return l("https://jup.ag/api/limit/v1/cancelOrders",{method:"post",body:e})}({owner:l,feePayer:l,orders:[e]}).then((e=>async function(e,l=null){const a=qa.deserialize(Ya.from(e,"base64")),t=Ka(),n=await Promise.all(a.message.addressTableLookups.map((async e=>new Za({key:e.accountKey,state:Za.deserialize(await t.getAccountInfo(e.accountKey).then((e=>e.data)))})))),o=Xa.decompile(a.message,{addressLookupTableAccounts:n});o.instructions=await Ja(o.instructions),a.message=o.compileToV0Message(n);const s=await Ga(a,l);return{hash:s,wait:()=>Qa(s)}}(e.tx)))}async function pg(e,l=Y().address){return(a={maker:l,orders:[e],computeUnitPrice:"auto"},Oa({method:"post",url:"https://api.jup.ag/trigger/v1/cancelOrders",data:a})).then((e=>ug(e.transactions[0])));var a}const fg=["onClick"],xg={class:"flex items-center"},hg={key:0,class:"token-container"},bg={class:"icon-token-container mr-5px"},gg=["src"],kg=["innerHTML"],_g={class:"mr-5px text-12px label"},yg={key:1,class:"token-container"},wg=["innerHTML"],Tg={class:"flex items-center mt-5px"},Cg={key:0,class:"token-container"},Ag={class:"icon-token-container mr-5px"},Sg=["src"],Ng=["innerHTML"],$g={class:"flex items-center justify-between mt-5px"},Fg={class:"label mr-20px flex items-center"},Ig={key:0},Lg={class:"flex items-center"},Vg={key:0,class:"token-container"},Dg={class:"icon-token-container mr-5px"},Mg=["src"],Bg=["innerHTML"],Pg={class:"flex items-center mt-5px"},Eg={key:0,class:"token-container"},Ug={class:"icon-token-container mr-5px"},Rg=["src"],Hg=["innerHTML"],Og={class:"flex justify-between mt-10px"},jg={class:"label mr-20px"},zg={class:"token-container flex items-end flex-col",style:{"align-items":"end"}},Wg={class:"text-12px",style:{"text-align":"right"}},qg={class:"color-666 text-12px",style:{"text-align":"right"}},Yg={class:"flex items-center justify-between mt-10px"},Gg={class:"mr-20px label"},Qg={key:0,class:"color-#999 text-12px",style:{"text-align":"right"}},Kg={class:"label"},Zg={key:1,class:"color-#999 text-12px"},Xg={class:"label"},Jg={key:0,class:"flex items-center justify-between mt-10px"},ek={class:"mr-20px label"},lk={class:"color-#999 text-12px"},ak=B(s({__name:"limitTxItem",props:{tableList:{type:Array,default:()=>[]}},emits:["refresh"],setup(e,{emit:l}){const a=l,t=Y(),n=He(),o=ve(),s=Q(),r=bh(),{t:u}=i(),d=U({}),c=U(!1);function v(e){const l="solana"===(null==e?void 0:e.chain)?u("cancelOrderConfirmingSolana"):u("confirmCancelMessage");se.confirm(l,u("cancelOrderConfirming"),{confirmButtonText:u("confirm"),cancelButtonText:u("cancel"),beforeClose:(l,t,n)=>{"confirm"===l?(n(),t.confirmButtonLoading=!0,"solana"===e.chain?m(e,(()=>{t.confirmButtonLoading=!1})):function(e){if("solana"===e.chain)return void m(e);const l={fromToken:e.from_token||"",fromAmount:e.from_amount||"0",toToken:e.to_token||"",minReturn:e.to_min_amount||"0",salt:e.salt||"0",id:e.id||"",order_id:e.order_id||""};c.value=!0,vg(l).then((l=>{oe.success(u("cancelledOrderSuccessfully")),a("refresh",e)})).catch((e=>{ea(e)})).finally((()=>{c.value=!1}))}(e)):n()}}).then((()=>{}))}function m(e,l){d.value[e.orderKey]=!0;return("v1"===(null==e?void 0:e.version)?mg:pg)(e.orderKey).then((e=>(l&&l(),e.wait()))).then((l=>{!function(e){if("solana"!==e.chain&&e.from_token!==Ye)return;r.getTokenDetails()}(e),setTimeout((()=>{a("refresh",e,d.value)}),3e3)})).catch((l=>{ea(l,"solana"),d.value[e.orderKey]=!1})).finally((()=>{}))}function _(e){if((0===e.status||-1===e.status)&&1e3*e.created_at+at<Date.now())return u("expired1");const l=e.status;return{0:"",1:u("cancelled"),2:u("completed"),3:u("unknownError1"),7:u("unknownError1"),4:u("notEnoughBalance"),5:u("insufficientSlippage1"),8:u("insufficientSlippage1"),6:u("transferFailed"),10:u("fail1"),11:u("fail1"),12:u("fail1"),13:u("fail1"),"-1":""}[l]??l}function w(e){if((0===e.status||-1===e.status)&&1e3*e.created_at+at<Date.now())return"#999999";const l=e.status;return 1===l||10===l||11===l||12===l?"#999999":2===l?"#12B886":0===l?"#286DFF":"#FF0000"}function N(e){const l=["So11111111111111111111111111111111111111112","EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"];return l.indexOf(e.from_token)<=l.indexOf(e.to_token)}function F(e){return N(e)?(null==e?void 0:e.from_token_symbol)||"":(null==e?void 0:e.to_token_symbol)||""}function I(e){return N(e)?X(new Be(e.to_amount).times(10**((null==e?void 0:e.from_token_decimals)-(null==e?void 0:e.to_token_decimals))).times((null==e?void 0:e.to_token_price)||0).div(e.from_amount).toFixed()):X(new Be(e.from_amount).times(10**((null==e?void 0:e.to_token_decimals)-(null==e?void 0:e.from_token_decimals))).times((null==e?void 0:e.from_token_price)||0).div(e.to_amount).toFixed())}function V(e){return N(e)?X(e.to_amount*10**((null==e?void 0:e.from_token_decimals)-(null==e?void 0:e.to_token_decimals))/e.from_amount)+" "+((null==e?void 0:e.to_token_symbol)||"")+" per "+((null==e?void 0:e.from_token_symbol)||""):X(e.from_amount*10**((null==e?void 0:e.to_token_decimals)-(null==e?void 0:e.from_token_decimals))/e.to_amount)+" "+((null==e?void 0:e.from_token_symbol)||"")+" per "+((null==e?void 0:e.to_token_symbol)||"")}function D(e){if("Pending"===(null==e?void 0:e.state)&&null!==(null==e?void 0:e.expiredAt)&&Date.now()>1e3*Number((null==e?void 0:e.expiredAt)||0))return u("expired1");const l=e.state;return{Pending:"",Completed:u("completed"),Cancelled:u("cancelled")}[l]??l}function M(e){if("Pending"===(null==e?void 0:e.state)&&null!==(null==e?void 0:e.expiredAt)&&Date.now()>1e3*Number((null==e?void 0:e.expiredAt)||0))return"#999999";return{Pending:"",Completed:"#12B886",Cancelled:"#999999"}[e.state]??"#286DFF"}return(l,a)=>{var i;const r=ge,u=Te,m=to,B=$n;return h(),C("ul",null,[(h(!0),C(A,null,S(e.tableList,((e,s)=>(h(),C("li",{key:s,class:"tx-li-item clickable",onClick:L((l=>function(e){if("solana"===e.chain){if("Sending"===(null==e?void 0:e.state))return;const l=(null==e?void 0:e.closeTx)||(null==e?void 0:e.openTx);if(!l)return;window.open(ee("solana",l,"tx"))}else 2===e.status&&window.open(ee(e.chain,e.executed_tx_hash,"tx"))}(e)),["stop"])},["solana"!==e.chain?(h(),C(A,{key:0},[g("div",xg,[g("span",{class:"label",style:$({"min-width":"en"===x(n).locale?"30px":"20px"})},k(l.$t("from")),5),e.from_token?(h(),C("div",hg,[g("div",bg,[y(r,{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:x(be))({logo_url:e.from_token_logo_url,symbol:e.from_token_symbol,chain:e.chain||x(t).chain}),lazy:""},null,8,["src"]),(null==e?void 0:e.chain)?(h(),C("img",{key:0,class:"icon-chain",src:`${x(o).token_logo_url}chain/${null==e?void 0:e.chain}.png`,alt:"",srcset:""},null,8,gg)):f("",!0)]),g("span",{class:"mr-5px",innerHTML:("formatNumber"in l?l.formatNumber:x(X))(("formatUnits"in l?l.formatUnits:x(Bl))(e.from_amount,e.from_token_decimals))},null,8,kg),g("span",null,k(e.from_token_symbol||""),1)])):f("",!0),a[0]||(a[0]=g("span",{style:{flex:"1"}},null,-1)),g("span",_g,k(l.$t("price"))+"("+k(e.target_token===e.from_token?(null==e?void 0:e.from_token_symbol)||"":(null==e?void 0:e.to_token_symbol)||"")+") ",1),e.target_token?(h(),C("div",yg,[g("span",{innerHTML:`$${e.target_limit_price?("formatNumber"in l?l.formatNumber:x(X))(e.target_limit_price):"--"}`},null,8,wg)])):f("",!0)]),g("div",Tg,[g("span",{class:"label",style:$({"min-width":"en"===x(n).locale?"30px":"20px"})},k(l.$t("to")),5),e.to_token?(h(),C("div",Cg,[g("div",Ag,[y(r,{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:x(be))({logo_url:e.to_token_logo_url,symbol:e.to_token_symbol,chain:e.chain||x(t).chain}),lazy:""},null,8,["src"]),(null==e?void 0:e.chain)?(h(),C("img",{key:0,class:"icon-chain",src:`${x(o).token_logo_url}chain/${null==e?void 0:e.chain}.png`,alt:"",srcset:""},null,8,Sg)):f("",!0)]),g("span",{class:"mr-5px",innerHTML:("formatNumber"in l?l.formatNumber:x(X))(("formatUnits"in l?l.formatUnits:x(Bl))(e.to_amount,e.to_token_decimals))},null,8,Ng),g("span",null,k((null==e?void 0:e.to_token_symbol)||""),1)])):f("",!0)]),g("div",$g,[g("div",Fg,[g("span",null,k(("formatDate"in l?l.formatDate:x(le))(e.created_at)),1),(0===e.status||-1===e.status)&&Date.now()<1e3*e.created_at+x(at)?(h(),C("span",Ig," ("+k(l.$t("expiresInTime",{t:x(tt)(1e3*e.created_at+x(at)).fromNow()}))+") ",1)):f("",!0)]),1===e.status||2===e.status?(h(),C("span",{key:0,class:"status-txt",style:$({color:w(e)})},k(_(e)),5)):(h(),C(A,{key:1},[a[1]||(a[1]=g("span",{style:{flex:"1"}},null,-1)),0!==e.status||(0===e.status||-1===e.status)&&1e3*e.created_at+x(at)<Date.now()?(h(),C("span",{key:0,class:"status-txt",style:$({color:w(e)})},k(_(e)),5)):f("",!0),e.from_token===x(Ye)||(0===e.status||-1===e.status)&&1e3*e.created_at+x(at)>Date.now()?(h(),p(u,{key:1,class:"btn-s",plain:"",hairline:"",type:"primary",size:"small",loading:x(c),"loading-text":l.$t("revoke"),"loading-size":"0.28rem",onClick:L((l=>v(e)),["stop"])},{default:b((()=>[T(k(l.$t("revoke")),1)])),_:2},1032,["loading","loading-text","onClick"])):f("",!0)],64))])],64)):(h(),C(A,{key:1},[g("div",Lg,[g("span",{class:"label",style:$({"min-width":"en"===x(n).locale?"30px":"20px"})},k(l.$t("from")),5),e.from_token?(h(),C("div",Vg,[g("div",Dg,[y(r,{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:x(be))({logo_url:e.from_token_logo_url,symbol:e.from_token_symbol,chain:e.chain||x(t).chain}),lazy:""},null,8,["src"]),(null==e?void 0:e.chain)?(h(),C("img",{key:0,class:"icon-chain",src:`${x(o).token_logo_url}chain/${null==e?void 0:e.chain}.png`,alt:"",srcset:""},null,8,Mg)):f("",!0)]),g("span",{class:"mr-5px",innerHTML:("formatNumber"in l?l.formatNumber:x(X))(("formatUnits"in l?l.formatUnits:x(Bl))(e.from_amount,e.from_token_decimals))},null,8,Bg),g("span",null,k(e.from_token_symbol||""),1)])):f("",!0),a[2]||(a[2]=g("span",{style:{flex:"1"}},null,-1)),"Sending"===e.state?(h(),p(m,{key:1,class:"text-16px"})):(h(),C(A,{key:2},[g("span",{class:"label",style:$({color:M(e)})},k(D(e)),5),"solana"===e.chain&&"Pending"===e.state?(h(),p(u,{key:0,class:"btn-s",plain:"",hairline:"",type:"primary",size:"small",loading:x(d)[e.orderKey],"loading-text":l.$t("revoke"),"loading-size":"14px",onClick:L((l=>v(e)),["stop"])},{default:b((()=>[T(k(l.$t("revoke")),1)])),_:2},1032,["loading","loading-text","onClick"])):f("",!0)],64))]),g("div",Pg,[g("span",{class:"label",style:$({"min-width":"en"===x(n).locale?"30px":"20px"})},k(l.$t("to")),5),e.to_token?(h(),C("div",Eg,[g("div",Ug,[y(r,{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:x(be))({logo_url:e.to_token_logo_url,symbol:e.to_token_symbol,chain:e.chain||x(t).chain}),lazy:""},null,8,["src"]),(null==e?void 0:e.chain)?(h(),C("img",{key:0,class:"icon-chain",src:`${x(o).token_logo_url}chain/${null==e?void 0:e.chain}.png`,alt:"",srcset:""},null,8,Rg)):f("",!0)]),g("span",{class:"mr-5px",innerHTML:("formatNumber"in l?l.formatNumber:x(X))(("formatUnits"in l?l.formatUnits:x(Bl))(e.to_amount,e.to_token_decimals))},null,8,Hg),g("span",null,k((null==e?void 0:e.to_token_symbol)||""),1)])):f("",!0)]),g("div",Og,[g("span",jg,k(l.$t("delegatePrice"))+"("+k(F(e))+")",1),g("div",zg,[g("span",Wg,"$"+k(I(e)),1),g("span",qg,"("+k(V(e))+")",1)])]),g("div",Yg,[g("span",Gg,k(l.$t("amount1")),1),N(e)?(h(),C("div",Qg,[g("span",null,k(("formatNumber"in l?l.formatNumber:x(X))(("formatUnits"in l?l.formatUnits:x(Bl))(e.from_amount_used||0,e.from_token_decimals)))+"/"+k(("formatNumber"in l?l.formatNumber:x(X))(("formatUnits"in l?l.formatUnits:x(Bl))(e.from_amount||0,e.from_token_decimals)))+" "+k(e.from_token_symbol),1),g("span",Kg,"("+k(("formatNumber"in l?l.formatNumber:x(X))(e.percent||0))+"%)",1)])):(h(),C("div",Zg,[g("span",null,k(("formatNumber"in l?l.formatNumber:x(X))(("formatUnits"in l?l.formatUnits:x(Bl))(e.to_amount_used||0,e.to_token_decimals)))+"/"+k(("formatNumber"in l?l.formatNumber:x(X))(("formatUnits"in l?l.formatUnits:x(Bl))(e.to_amount||0,e.to_token_decimals)))+" "+k(e.to_token_symbol),1),g("span",Xg,"("+k(("formatNumber"in l?l.formatNumber:x(X))(e.percent||0))+"%)",1)]))]),void 0!==e.expiredAt?(h(),C("div",Jg,[g("span",ek,k(l.$t("expiredTime")),1),g("span",lk,k(e.expiredAt?("formatDate"in l?l.formatDate:x(le))(e.expiredAt):l.$t("never")),1)])):f("",!0)],64))],8,fg)))),128)),e.tableList&&0!==(null==(i=e.tableList)?void 0:i.length)?f("",!0):(h(),p(B,{key:0,"image-size":100,image:"light"===x(s).theme?x(ae):x(te)},null,8,["image"]))])}}}),[["__scopeId","data-v-d47732f3"]]),tk={class:"card-container mt-10px"},nk={class:"flex items-center"},ok=["innerHTML"],sk={class:"flex justify-between items-center mt-10px"},ik={class:"card-container bottom mt-10px"},rk={class:"flex items-center"},uk=["innerHTML"],dk={class:"flex justify-between items-center mt-10px"},ck={key:0,class:"limit-price-label mb-5px"},vk={key:1,class:"card-container flex justify-between items-center rd-6px! py-0!"},mk=["disabled"],pk=["disabled"],fk={class:"limit-price-label mt-10px mb-5px"},xk={class:"card-container flex justify-between items-center rd-6px! py-0!",style:{"margin-bottom":"10px"}},hk=["disabled"],bk=["disabled"],gk={class:"limit-price-label mt-10px mb-5px"},kk={class:"card-container flex justify-between items-center rd-6px! py-0!",style:{"margin-bottom":"10px"}},_k=["disabled"],yk=["disabled"],wk={class:"swap-label mt-10px"},Tk={key:0,class:"slippage-container"},Ck={key:1},Ak={class:"swap-label_item-left"},Sk={key:1,style:{display:"flex","align-items":"center"}},Nk={class:"mt-10px"},$k={class:"tabs-1"},Fk=["onClick"],Ik=B(s({__name:"limit",setup(e){const l=bh(),a=Y(),t=Sl("percentStepInf"),s=d((()=>l.chain)),{t:r}=i(),u=ue("limitSlippage","10"),c=U(""),_=U(""),N=U(!1),$=U("0"),F=U(""),I=U(0),M=U(!1),B=U(0),P=U(""),E=U(""),R=U(""),H=U(!1),j=U(!1),z=U(!1),W=U(null),G=U(!1),Q=U(!1),K=U(0),Z=U([]),J=U(!1),ee=U(!1),le=U("limit"),ae=d((()=>[{name:r("historyLimitOrder"),value:"limit"}])),te=d((()=>{var e;if(ee.value){const a=l.token1.address;return null==(e=Z.value)?void 0:e.filter((e=>e.target_token===a))}return Z.value})),ne=U({chain:"",orderType:0,triggerPrice:0,fromToken:{address:"",chain:"",balance:0,symbol:"",price:0},toToken:{address:"",chain:"",balance:0,symbol:"",price:0},targetTokenInfo:{address:"",chain:"",balance:0,symbol:"",price:0},fromAmount:"",toAmount:"",targetToken:"",targetLimitPrice:"",activeTab:l.activeTab,minReturn:"0",slippage:u.value||"10"}),ie=d((()=>{if(["solana","ton","sui"].includes(l.chain)||l.fromToken.address===Ye)return!0;if(!$.value)return!1;const e=(0===l.activeTab?l.token2:l.token1).decimals||0,a=0===l.activeTab?_.value:c.value;return Ql(new Be(a||0).toFixed(e),e).lte($.value)})),re=d((()=>a.address&&a.provider?0===l.activeTab?ye[0]:1===l.activeTab?we[0]:"#558BED":"#999"));function de(){var e,a;c.value="",_.value="",null==(a=null==(e=t.value)?void 0:e.handleClick)||a.call(e,0),1===l.activeTab&&me(),l.getToken1Info(),l.getBaseToken(),"solana"===s.value&&pe()}function ve(){var e,a;c.value="",_.value="",null==(a=null==(e=t.value)?void 0:e.handleClick)||a.call(e,0),l.getToken2Info(),0===l.activeTab&&me(),"solana"===s.value&&pe()}function me(){const e=0===l.activeTab?l.token2:l.token1;if(a.chain&&a.chain===e.chain&&e.address){const l=e.chain||a.chain;if(["solana","ton","sui"].includes(l))return;const t=Ua[l];N.value=!0,Zl(e.address,t).then((e=>{$.value=e.toString()})).finally((()=>{N.value=!1}))}}function pe(){var e,a,t,n,o;if(!(null==(e=l.token1)?void 0:e.address)||!(null==(a=l.token2)?void 0:a.address)||"solana"!==s.value||0!==l.swapType)return;const i={from_token:null==(t=l.token1)?void 0:t.address,to_token:null==(n=l.token2)?void 0:n.address,amountIn:Ql("1",null==(o=l.token1)?void 0:o.decimals).toFixed(0)};F.value="",ig(i).then((e=>{var a;const t=Bl((null==e?void 0:e.outAmount)||0,null==(a=l.token2)?void 0:a.decimals);I.value=t,function(){const e=l.token1.chain,a=l.token1.address+"-"+e,t=l.token2.address+"-"+e;return el([a,t]).then((async e=>{var a,t;return l.token1.price=(null==(a=null==e?void 0:e[0])?void 0:a.current_price_usd)||0,l.token2.price=(null==(t=null==e?void 0:e[1])?void 0:t.current_price_usd)||0,[l.token1.price,l.token2.price]}))}().then((e=>{})),F.value=""})).catch((e=>{I.value=0,F.value="1"}))}function fe(){P.value&&new Be(P.value).gt("0")&&(P.value=rl(new Be(P.value).times(.99).toFixed()),Fe())}function xe(){P.value&&new Be(P.value).gt("0")&&(P.value=rl(new Be(P.value).times(1.01).toFixed()),Fe())}function he(){R.value&&new Be(R.value).gt("0")&&(R.value=rl(new Be(R.value).times(.99).toFixed()))}function be(){P.value&&new Be(R.value).gt("0")&&(R.value=rl(new Be(R.value).times(1.01).toFixed()))}function ge(){B.value&&new Be(B.value).gt("0")&&(B.value=rl(new Be(B.value).times(.99).toFixed()),Le())}function ke(){B.value&&new Be(B.value).gt("0")&&(B.value=rl(new Be(B.value).times(1.01).toFixed()),Le())}function _e(e,a=!1){var t,n;if(a)return;const o=Number(e)/100,s=0===l.activeTab?l.token2:l.token1;let i=s.balance||0;if(o){const e=s.decimals||18;if((null==s?void 0:s.address)===Ye){const l=s.chain,a=ul[l]||.01;i=(null==(t=new Be(i).minus(a).times(o).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:t[0])||0}else i=(null==(n=new Be(i).times(o).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:n[0])||0;0===Number(i)&&(i="")}else i="";0===l.activeTab?_.value!==i&&(_.value=Number(i)<0?"0":i,$e()):c.value!==i&&(c.value=Number(i)<0?"0":i,Se())}let Ce=null;function Se(){M.value||(Ce&&(clearTimeout(Ce),Ce=null),Ce=setTimeout((()=>{const e=c.value,l=Number(e);""===e||"."===e?(c.value="",_.value=""):0===l&&0!==Number(_.value)?_.value=0:l&&(_.value="",Fe())}),500))}let Ne=null;function $e(){M.value||(Ne&&(clearTimeout(Ne),Ne=null),Ne=setTimeout((()=>{const e=_.value,l=Number(e);""===e||"."===e?(c.value="",_.value=""):0===l&&0!==Number(c.value)?c.value=0:l&&(c.value="",Fe())}),500))}function Fe(){"solana"!==l.chain?Ve()&&(Number(P.value)&&(Number(c.value)||Number(_.value))&&l.token1.address!==l.token2.address&&a.provider?(Ie&&(clearTimeout(Ie),Ie=null),Ie=setTimeout((()=>{const e=0===l.activeTab?l.token2:l.token1,a=1===l.activeTab?l.token2:l.token1,t=Ql((0===l.activeTab?_.value:c.value)||"0",e.decimals).toFixed(0),n=Ql((1===l.activeTab?_.value:c.value)||"0",a.decimals).toFixed(0),o={from_token:e.address,to_token:a.address,amountIn:t,amountOut:n};M.value=!0,async function({from_token:e,to_token:l,amountIn:a,amountOut:t},n,o=Y().chain,s=3,i=3){const r=await Na(e,Hl(o),o),u=r.balance,d=r.allowance,c=Ge(o),v=null==c?void 0:c.wmain_wrapper,m=null==c?void 0:c.main_name,p=null==c?void 0:c.wmain_name;let f=e,x=l,h=!1,b=!1,g=!1,k=!1;return f===v&&(g=!0),x===v&&(k=!0),f===Ye&&(f=v,h=!0),x===Ye&&(x=v,b=!0),g&&b||h&&k?Promise.resolve({toWrapper:h&&k?1:2,wrapper:v,amount:"0"!==a&&a?a:t,routerPath:[{address:h?Ye:v,amount:"0"!==a&&a?a:t,decimals:18,isETH:h,isWrapper:g,symbol:h?m:p},{address:b?Ye:v,amount:"0"!==t&&t?t:a,decimals:18,isETH:b,isWrapper:k,symbol:b?m:p}]}):$a(f,x,o,s,i).then((async n=>{if(0===(null==n?void 0:n.length))return Promise.reject({code:"noMatchingRoute"});const{_provider:s}=Fa(o),i=await Ia(),r="tron"===o?La(Va,Hl(o)):new Da(Hl(o),Va,i||s),c="tron"===o?La(lt,Ma[o]):new Da(Ma[o],Ba(o),i||s),v=await ka(o),p=await ga(o),f={chain:o,QuoteContract:c,swapContract:r,gasPrice:v,nativePrice:p,amountIn:a,amountOut:t,balance:u,allowanceAmount:d,fromIsETH:h,toIsETH:b,mainName:m,from_token:e,to_token:l};return 1===(null==n?void 0:n.length)?rg(n[0],f):2===(null==n?void 0:n.length)?rg(n[0],f).catch((async e=>rg(n[1],f))):(null==n?void 0:n.length)>2?rg(n[0],f).catch((async e=>rg(n[1],f).catch((async e=>rg(n[2],f))))):void 0}))}(o).then((e=>{var a,t,n,o,s,i,u,d;if(1===e.toWrapper||2===e.toWrapper)return void(M.value=!1);E.value=e.gasU;const v=null==(t=null==(a=null==e?void 0:e.routerPath)?void 0:a.find)?void 0:t.call(a,(e=>e.address===l.token1.address)),m=null==(o=null==(n=null==e?void 0:e.routerPath)?void 0:n.find)?void 0:o.call(n,(e=>e.address===l.token2.address));l.token1.price=v.price,l.token2.price=m.price,new Be((null==v?void 0:v.amount)||0).lte(0)||new Be((null==m?void 0:m.amount)||0).lte(0)?se.alert(r("limitOrderAmount"),r("tips"),{confirmButtonText:r("okay")}):P.value&&c.value&&_.value?0===l.activeTab?c.value=(null==(s=new Be(Bl(v.amount,v.decimals)).times(v.price||0).div(P.value||1).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l.token1.decimals}})?`)))?void 0:s[0])||"":_.value=(null==(i=new Be(Bl(m.amount,m.decimals)).times(P.value||0).div(v.price||1).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l.token2.decimals}})?`)))?void 0:i[0])||"":P.value&&c.value?_.value=(null==(u=new Be(Bl(m.amount,m.decimals)).times(P.value||0).div(v.price||1).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l.token2.decimals}})?`)))?void 0:u[0])||"":P.value&&_.value&&(c.value=(null==(d=new Be(Bl(v.amount,v.decimals)).times(v.price||0).div(P.value||1).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l.token1.decimals}})?`)))?void 0:d[0])||"")})).catch((e=>{ea(e)})).finally((()=>{M.value=!1}))}),500)):l.token1.address===l.token2.address&&n({type:"error",message:r("twoIdenticalTokens")})):Le()}let Ie=null;function Le(){Number(B.value)&&(Number(c.value)||Number(_.value))&&l.token1.address!==l.token2.address&&a.provider?(Ie&&(clearTimeout(Ie),Ie=null),Ie=setTimeout((()=>{var e,a;c.value?_.value=new Be(c.value||0).times(B.value).div((null==(e=l.token2)?void 0:e.price)||1).toFixed(l.token2.decimals):_.value&&(c.value=new Be(_.value).times((null==(a=l.token2)?void 0:a.price)||0).div(B.value).toFixed(l.token1.decimals))}),500)):l.token1.address===l.token2.address&&n({type:"error",message:r("twoIdenticalTokens")})}function Ve(){var e,t,n,o,s;const i=a.chain,r=l.token1.chain,u=l.token2.chain,d=Object.keys(Ua).concat("solana");return!(r&&!(null==(e=null==d?void 0:d.includes)?void 0:e.call(d,r)))&&(!(u&&!(null==(t=null==d?void 0:d.includes)?void 0:t.call(d,u)))&&(!!i&&(!(null==(o=null==(n=a.address)?void 0:n.startsWith)?void 0:o.call(n,"T"))&&(!(i&&!(null==(s=null==d?void 0:d.includes)?void 0:s.call(d,i)))&&(i===r&&i===u)))))}function De(){var e,t,n,o,s,i,u;const d=a.chain,c=Object.keys(Ua).concat("solana"),v=Ge(d).name,m=l.token1.chain,p=l.token2.chain;return m&&!(null==(e=null==c?void 0:c.includes)?void 0:e.call(c,m))?r("noSupportChain",{chain:null==(t=Ge(m))?void 0:t.name}):p&&!(null==(n=null==c?void 0:c.includes)?void 0:n.call(c,p))?r("noSupportChain",{chain:null==(o=Ge(p))?void 0:o.name}):d?(null==(i=null==(s=a.address)?void 0:s.startsWith)?void 0:i.call(s,"T"))?r("noSupportChain",{chain:"TRON"}):d&&!(null==(u=null==c?void 0:c.includes)?void 0:u.call(c,d))?r("noSupportChain",{chain:v}):d!==m&&m||d!==p&&p?r("chainNotSame1"):m!==p?r("tokenNoSameChain"):"":r("noSupportChain",{chain:v})}function Me(){if("solana"===s.value&&F.value)return!1;const e=(0===l.activeTab?l.token2:l.token1).balance||0,t=0===l.activeTab?_.value:c.value;return!(0===Number(e)||Number(e)<Number(t)||!a.provider||"0"===String(t)||l.token1.address===l.token2.address)}function Pe(){if("solana"===s.value&&F.value)return r("noSToken");const e=(0===l.activeTab?l.token2:l.token1).balance||0,t=0===l.activeTab?_.value:c.value;return a.address?a.address&&!a.provider?r("observeAddressNotSwap"):Number(0===e||Number(e)<Number(t)||!a.provider)?r("insufficientBalance"):"0"===String(t)?r("AmountCannotBeZero"):"":r("pConnectWallet")}function Ee(){try{if(!a.provider)return void(a.provider||se.alert(r("browserWalletNotDetected"),r("tips"),{confirmButtonText:r("confirm")}));if(!Ve())return;const e=a.chain;if(e!==(l.token1.chain||l.token2.chain||e))return void se.alert(r("plsSwitchChain",{chain:e}),r("tips"));0!==l.swapType&&1!==l.swapType||(ie.value?function(){var e;const t=0===l.activeTab?l.token2:l.token1,n=0===l.activeTab?l.token1:l.token2,o=0===l.activeTab?_.value:c.value,s=0===l.activeTab?c.value:_.value,i=0===l.activeTab?l.token1.decimals:l.token2.decimals;let d=new Be(u.value||0);d=new Be(1).minus(d.div(100));let v=new Be(it[t.chain||a.chain]||0).times(5);v=v.gte(3)?v.gte(50)?new Be(50):v:new Be(3);if(!new Be(o).times((null==t?void 0:t.price)||0).gte(v.times(.999)))return void se.alert(r("minimumTransactionAmount",{n:v.toFixed()}),r("tips"),{confirmButtonText:r("okay")});const m=l.token1.chain||a.chain;ne.value={chain:m,orderType:l.swapType,fromToken:t,toToken:n,fromAmount:o,toAmount:s,targetToken:l.token1.address,targetTokenInfo:l.token1,targetLimitPrice:"solana"===m?B.value:P.value,triggerPrice:R.value,activeTab:l.activeTab,minReturn:(null==(e=new Be(s||0).times(d).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${i}})?`)))?void 0:e[0])||"0",slippage:u.value},K.value=1,"solana"===m?(j.value=!0,el([ne.value.targetToken+"-"+m]).then((e=>{var a,t,n,o,s,i,u,d;const c=(null==(a=null==e?void 0:e[0])?void 0:a.current_price_usd)||(null==(n=null==(t=ne.value)?void 0:t.targetTokenInfo)?void 0:n.price)||(null==(o=l.baseToken)?void 0:o.token.current_price_usd)||0;0===l.activeTab&&new Be(c).lt((null==(s=ne.value)?void 0:s.targetLimitPrice)||"0")?se.alert(r("limitPriceTips",{p1:X(null==(i=ne.value)?void 0:i.targetLimitPrice),p2:X(c)}),r("tips"),{confirmButtonText:r("okay")}):1===l.activeTab&&new Be(c).gt((null==(u=ne.value)?void 0:u.targetLimitPrice)||"0")?se.alert(r("limitPriceTips1",{p1:X(null==(d=ne.value)?void 0:d.targetLimitPrice),p2:X(c)}),r("tips"),{confirmButtonText:r("okay")}):(G.value=!0,j.value=!1)})).catch((()=>{G.value=!0,j.value=!1})).finally((()=>{j.value=!1}))):G.value=!0}():async function(){if(!Ve())return;z.value=!0;const e=l.token1.chain||a.chain||"",t=Ua[e],n=0===l.activeTab?l.token2:l.token1;ya(n.address,t).then((e=>e.wait())).then((e=>{me()})).catch((e=>{ea(e)})).finally((()=>{z.value=!1}))}())}catch(e){}}function Ue(){var e,t,n,o,s;if(!Ve())return;let i=new Be(u.value||0);i=new Be(1).minus(i.div(100));const d=a.address,v=0===l.activeTab?l.token2:l.token1,m=0===l.activeTab?l.token1:l.token2,p=0===l.activeTab?_.value:c.value,f=0===l.activeTab?c.value:_.value,x=v.address,h=Ql((null==(e=new Be(p||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${v.decimals}})?`)))?void 0:e[0])||0,v.decimals).toFixed(0),b=m.address,g=Ql((null==(t=new Be(f||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${m.decimals}})?`)))?void 0:t[0])||0,m.decimals).toFixed(0),k=Ql((null==(n=new Be(f||0).times(i).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${m.decimals}})?`)))?void 0:n[0])||0,m.decimals).toFixed(0),y=l.token1.address,w=P.value;Q.value=!0;const T=l.swapType;R.value;const C=(null==(s=null==(o=l.baseToken)?void 0:o.token)?void 0:s.current_price_usd)?rl(l.baseToken.token.current_price_usd):"";if("solana"!==l.chain)(async function(e,l,a,t,n,o,s,i,r,u,d,c=Date.now(),v=Y().chain){const m=Pa(Ea.defaultAbiCoder().encode(["address","address","uint256","address","uint256","uint256"],[e,l,a,t,n,c])),p=Y(),f=await Ia();if(l===Ye){const x=new Da(Ua[v],Ra,f);return x.depositEth.estimateGas(t,n,c,{value:a}).then((f=>x.depositEth(t,n,c,{value:a,gasLimit:f.toString()}).then((e=>e.wait())).then((f=>{const x={id:m,fromToken:l,fromAmount:a,toToken:t,toAmount:o,minReturn:n,targetToken:s,targetLimitPrice:i,salt:c,signature:"",maker:e,orderType:r,triggerPrice:u,currentPrice:d};return so({chain:v,destination:"wallet rpc",type:20,order_id:"aveswap_"+m,status:1,wallet:p.address,out_token:t,out_amount:o,in_token:l,in_amount:a}),cg(x)}))))}const x=Ha(m);return null==f?void 0:f.signMessage(x).then((v=>cg({id:m,fromToken:l,fromAmount:a,toToken:t,toAmount:o,minReturn:n,targetToken:s,targetLimitPrice:i,salt:c,signature:v,maker:e,orderType:r,triggerPrice:u,currentPrice:d})))})(d,x,h,b,k,g,y,w,T,R.value,C).then((()=>{oe.success(r("submitOrdersSuccess")),Re(),c.value="",_.value="",G.value=!1,v.address===Ye&&(v.address===l.token1.address?l.getToken1Info():v.address===l.token2.address&&l.getToken2Info())})).catch((e=>{ea(e)})).finally((()=>{Q.value=!1}));else{const e=W.value?Number(Math.floor(Date.now()/1e3)+Math.floor(W.value)):null;let t="";dg({fromToken:x,fromAmount:h,toToken:b,toAmount:g,expiredAt:e}).then((e=>{const l=e.result;return t=l.order,e.send()})).then((l=>{const n={from_token:x,from_token_symbol:null==v?void 0:v.symbol,from_token_decimals:null==v?void 0:v.decimals,to_token:b,to_token_symbol:null==m?void 0:m.symbol,to_token_decimals:null==m?void 0:m.decimals,from_amount:Number(h)||0,to_amount:Number(g)||0,id:t,orderKey:t,chain:"solana",created_at:0,state:"Sending",from_amount_used:"0",percent:"0",expiredAt:e,from_token_logo_url:v.logo_url,to_token_logo_url:m.logo_url};return so({chain:"solana",destination:"wallet rpc",type:20,order_id:"jupiter_"+t,status:1,wallet:a.address,out_token:b,out_amount:n.to_amount,in_token:x,in_amount:n.from_amount}),Z.value=[n,...Z.value],Q.value=!1,G.value=!1,l.wait()})).then((()=>{Re(t),c.value="",_.value="",v.address===l.token1.address?l.getToken1Info():v.address===l.token2.address&&l.getToken2Info()})).catch((e=>{Z.value=Z.value.filter((e=>e.orderKey!==t)),ea(e,"solana")})).finally((()=>{Q.value=!1,G.value=!1}))}}function Re(e,l){if(a.chain){const t=a.chain;if("solana"===t)return void je(e,l);J.value=!0,function(e,l=1,a=1e3){const t=Y(),n=e.chain||t.chain||"",s=e.maker||t.address||"";if(!n||!s)return Promise.resolve([]);const{$api:i}=o();return i("/v1api/v2/aveswap/limitorder",{method:"get",query:{pageNO:l,pageSize:a,...{maker:s,chain:n,...e}}}).then((e=>{var l;return Promise.resolve((null==(l=null==e?void 0:e.data)?void 0:l.data)||(null==e?void 0:e.data)||e||[])}))}({chain:t}).then((e=>{Z.value=e})).finally((()=>{setTimeout((()=>{J.value=!1}),800)}))}}let He=null,Oe=0;function je(e,l=1){if("solana"===a.chain)return J.value=!0,Promise.all([rt({wallet:a.address}),ut({wallet:a.address,take:100})]).then((async a=>{var t,n,o,s,i,r,u,d,c,v;const m=(null==(n=null==(t=null==a?void 0:a[0])?void 0:t.map)?void 0:n.call(t,(e=>[(null==e?void 0:e.inputMint)+"-solana",(null==e?void 0:e.outputMint)+"-solana"])))||[],p=(null==(s=null==(o=null==a?void 0:a[1])?void 0:o.map)?void 0:s.call(o,(e=>[(null==e?void 0:e.inputMint)+"-solana",(null==e?void 0:e.outputMint)+"-solana"])))||[],f=Array.from(new Set([...null==(i=null==m?void 0:m.flat)?void 0:i.call(m),...null==p?void 0:p.flat()])),x=await dt(f).catch((async e=>({}))),h=[...null==(u=null==(r=null==a?void 0:a[0])?void 0:r.map)?void 0:u.call(r,(e=>{var l,a,t,n,o,s,i,r,u,d,c,v,m,p,f,h,b,g,k;const _=null==(l=x[e.inputMint+"-solana"])?void 0:l.decimal,y=null==(a=x[e.outputMint+"-solana"])?void 0:a.decimal;return{...e,from_token:e.inputMint,from_token_symbol:null==(t=x[e.inputMint+"-solana"])?void 0:t.symbol,from_token_decimals:null==(n=x[e.inputMint+"-solana"])?void 0:n.decimal,from_token_price:null==(o=x[e.inputMint+"-solana"])?void 0:o.current_price_usd,to_token:e.outputMint,to_token_symbol:null==(s=x[e.outputMint+"-solana"])?void 0:s.symbol,to_token_decimals:null==(i=x[e.outputMint+"-solana"])?void 0:i.decimal,to_token_price:null==(r=x[e.outputMint+"-solana"])?void 0:r.current_price_usd,from_amount:(null==(c=null==(d=null==(u=new Be(e.makingAmount||0))?void 0:u.times)?void 0:d.call(u,10**_))?void 0:c.toFixed(0))||0,to_amount:(null==(p=null==(m=null==(v=new Be(e.takingAmount||0))?void 0:v.times)?void 0:m.call(v,10**y))?void 0:p.toFixed(0))||0,chain:"solana",from_amount_used:null==(h=null==(f=new Be(e.makingAmount||0).minus(e.remainingMakingAmount))?void 0:f.times)?void 0:h.call(f,10**_).toFixed(0),to_amount_used:null==(b=new Be(e.takingAmount||0).minus(e.remainingTakingAmount))?void 0:b.times(10**y).toFixed(0),percent:new Be(e.makingAmount||0).minus(e.remainingMakingAmount).div(e.makingAmount).times(100).toFixed(),from_token_logo_url:null==(g=x[e.inputMint+"-solana"])?void 0:g.logo_url,to_token_logo_url:null==(k=x[e.outputMint+"-solana"])?void 0:k.logo_url,id:e.orderKey,state:"Pending"}})),...null==(c=null==(d=null==a?void 0:a[1])?void 0:d.map)?void 0:c.call(d,(e=>{var l,a,t,n,o,s,i,r,u,d,c,v,m,p,f,h,b,g,k;const _=null==(l=x[e.inputMint+"-solana"])?void 0:l.decimal,y=null==(a=x[e.outputMint+"-solana"])?void 0:a.decimal;return{...e,from_token:e.inputMint,from_token_symbol:null==(t=x[e.inputMint+"-solana"])?void 0:t.symbol,from_token_decimals:null==(n=x[e.inputMint+"-solana"])?void 0:n.decimal,from_token_price:null==(o=x[e.inputMint+"-solana"])?void 0:o.current_price_usd,to_token:e.outputMint,to_token_symbol:null==(s=x[e.outputMint+"-solana"])?void 0:s.symbol,to_token_decimals:null==(i=x[e.outputMint+"-solana"])?void 0:i.decimal,to_token_price:null==(r=x[e.outputMint+"-solana"])?void 0:r.current_price_usd,from_amount:(null==(c=null==(d=null==(u=new Be(e.makingAmount||0))?void 0:u.times)?void 0:d.call(u,10**_))?void 0:c.toFixed(0))||0,to_amount:(null==(p=null==(m=null==(v=new Be(e.takingAmount||0))?void 0:v.times)?void 0:m.call(v,10**y))?void 0:p.toFixed(0))||0,chain:"solana",from_amount_used:null==(h=null==(f=new Be(e.makingAmount||0).minus(e.remainingMakingAmount))?void 0:f.times)?void 0:h.call(f,10**_).toFixed(0),to_amount_used:null==(b=new Be(e.takingAmount||0).minus(e.remainingTakingAmount))?void 0:b.times(10**y).toFixed(0),percent:new Be(e.makingAmount||0).minus(e.remainingMakingAmount).div(e.makingAmount).times(100).toFixed(),from_token_logo_url:null==(g=x[e.inputMint+"-solana"])?void 0:g.logo_url,to_token_logo_url:null==(k=x[e.outputMint+"-solana"])?void 0:k.logo_url,id:e.orderKey,state:e.status}}))],b=null==h?void 0:h.some((l=>l.orderKey===e)),g=null==h?void 0:h.some((l=>l.orderKey===e&&"Cancelled"===l.state));return e&&Oe<=30&&(0!==l&&!b||0===l&&!g)?(He&&(clearTimeout(He),He=null),new Promise((a=>{He=setTimeout((()=>{var t;Oe+=5,null==(t=null==je?void 0:je(e,l))||t.then((e=>{a(e)}))}),5e3)}))):(J.value=!1,Z.value=null==(v=null==h?void 0:h.filter)?void 0:v.call(h,(a=>!(a.orderKey===e&&"Pending"===a.state&&0===l))),Oe=0,h)})).catch((e=>{Oe=0,J.value=!1}))}function ze(e,l){var a;"solana"===e.chain?null==(a=null==je?void 0:je(e.publicKey,0))||a.then((()=>{l&&(l[e.publicKey]=!1)})):Re()}return m((()=>l.fromToken.address),(()=>{l.fromToken.address&&(c.value="",_.value="",me())})),m((()=>a.address),(()=>{a.address&&(me(),Re())})),v((()=>{var e,a,t,n,o,i;me(),Re(),"solana"!==s.value?(P.value=(null==(a=null==(e=l.baseToken)?void 0:e.token)?void 0:a.current_price_usd)?rl(l.baseToken.token.current_price_usd):"",R.value=(null==(n=null==(t=l.baseToken)?void 0:t.token)?void 0:n.current_price_usd)?rl(l.baseToken.token.current_price_usd):""):B.value=(null==(i=null==(o=l.baseToken)?void 0:o.token)?void 0:i.current_price_usd)?X(l.baseToken.token.current_price_usd):"",pe()})),(e,n)=>{var o,i;const d=Ae,v=Ll,m=Te,$=w;return h(),C(A,null,[g("form",{class:"swap-container",action:"",onSubmit:L(Ee,["prevent","stop"])},[g("div",tk,[g("div",nk,[y(Yf,{token:x(l).token1,"onUpdate:token":[n[0]||(n[0]=e=>x(l).token1=e),de],tokens:x(l).swapTokens,chain:x(l).chain},null,8,["token","tokens","chain"]),n[21]||(n[21]=g("span",{style:{flex:"1"}},null,-1)),g("div",{class:"s-text",innerHTML:`${e.$t("balance1")}: ${("formatNumber"in e?e.formatNumber:x(X))((null==(o=x(l).token1)?void 0:o.balance)||0)}`},null,8,ok),1===x(l).activeTab?(h(),C("button",{key:0,class:"max-btn",type:"button",onClick:n[1]||(n[1]=L((e=>_e(100)),["stop"]))},k(e.$t("max")),1)):f("",!0)]),g("div",sk,[y(d,{modelValue:x(c),"onUpdate:modelValue":[n[2]||(n[2]=e=>D(c)?c.value=e:null),n[3]||(n[3]=e=>{var l;c.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),Se()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",onFocus:n[4]||(n[4]=e=>{var l;return null==(l=x(t))?void 0:l.handleClick(0,!0)})},null,8,["modelValue"])])]),g("div",ik,[g("div",rk,[y(Yf,{token:x(l).token2,"onUpdate:token":[n[5]||(n[5]=e=>x(l).token2=e),ve],tokens:x(l).swapTokens,chain:x(l).chain},null,8,["token","tokens","chain"]),n[22]||(n[22]=g("span",{style:{flex:"1"}},null,-1)),g("div",{class:"s-text",innerHTML:`${e.$t("balance1")}: ${("formatNumber"in e?e.formatNumber:x(X))((null==(i=x(l).token2)?void 0:i.balance)||0)}`},null,8,uk),0===x(l).activeTab?(h(),C("button",{key:0,class:"max-btn",type:"button",onClick:n[6]||(n[6]=L((e=>_e(100)),["stop"]))},k(e.$t("max")),1)):f("",!0)]),g("div",dk,[y(d,{modelValue:x(_),"onUpdate:modelValue":[n[7]||(n[7]=e=>D(_)?_.value=e:null),n[8]||(n[8]=e=>{var l;_.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),$e()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",onFocus:n[9]||(n[9]=e=>{var l;return null==(l=x(t))?void 0:l.handleClick(0,!0)})},null,8,["modelValue"])])]),y(yh,{ref:"percentStepInf",activeColor:0===x(l).activeTab?("upColor"in e?e.upColor:x(ye))[0]:("downColor"in e?e.downColor:x(we))[0],onChange:_e},null,8,["activeColor"]),1===x(l).swapType?(h(),C("div",ck,k(e.$t("triggerPrice"))+"("+k(x(l).token1.symbol||"")+")",1)):f("",!0),1===x(l).swapType?(h(),C("div",vk,[g("button",{class:"limit-price-icon",type:"button",disabled:!x(R),onClick:L(he,["stop"])},[y(v,null,{default:b((()=>[y(x(nt))])),_:1})],8,mk),n[23]||(n[23]=g("span",{class:"text-14px color-[--d-666-l-999]"},"$",-1)),y(d,{modelValue:x(R),"onUpdate:modelValue":[n[10]||(n[10]=e=>D(R)?R.value=e:null),n[11]||(n[11]=e=>{var l;R.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,"")})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:center"},null,8,["modelValue"]),g("button",{class:"limit-price-icon",type:"button",disabled:!x(R),onClick:L(be,["stop"])},[y(v,null,{default:b((()=>[y(x(ot))])),_:1})],8,pk)])):f("",!0),"solana"===x(l).chain&&0===x(l).swapType?(h(),C(A,{key:2},[g("div",fk,k(e.$t("delegatePrice"))+"("+k(x(l).token1.symbol||"")+")",1),g("div",xk,[g("button",{class:"limit-price-icon",type:"button",disabled:!x(B),onClick:L(ge,["stop"])},[y(v,null,{default:b((()=>[y(x(nt))])),_:1})],8,hk),n[24]||(n[24]=g("span",{class:"text-14px color-[--d-666-l-999]"},"$",-1)),y(d,{modelValue:x(B),"onUpdate:modelValue":[n[12]||(n[12]=e=>D(B)?B.value=e:null),n[13]||(n[13]=e=>{var l;B.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),Le()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:center"},null,8,["modelValue"]),g("button",{class:"limit-price-icon",type:"button",disabled:!x(B),onClick:L(ke,["stop"])},[y(v,null,{default:b((()=>[y(x(ot))])),_:1})],8,bk)])],64)):(h(),C(A,{key:3},[g("div",gk,k(e.$t("delegatePrice"))+"("+k(x(l).token1.symbol||"")+")",1),g("div",kk,[g("button",{class:"limit-price-icon",type:"button",disabled:!x(P),onClick:L(fe,["stop"])},[y(v,null,{default:b((()=>[y(x(nt))])),_:1})],8,_k),n[25]||(n[25]=g("span",{class:"text-14px color-[--d-666-l-999]"},"$",-1)),y(d,{modelValue:x(P),"onUpdate:modelValue":[n[14]||(n[14]=e=>D(P)?P.value=e:null),n[15]||(n[15]=e=>{var l;P.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),Fe()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:center"},null,8,["modelValue"]),g("button",{class:"limit-price-icon",type:"button",disabled:!x(P),onClick:L(xe,["stop"])},[y(v,null,{default:b((()=>[y(x(ot))])),_:1})],8,yk)])],64)),x(a).address?x(a).address&&!x(a).provider?(h(),p(m,{key:5,"native-type":"button",class:"submit-btn",disabled:"",color:"#555555"},{default:b((()=>[T(k(e.$t("watchWalletNotSwap")),1)])),_:1})):Ve()?!x(ie)||x(N)?(h(),p(m,{key:7,class:"submit-btn",block:"",color:x(re),"native-type":"submit","loading-text":x(N)?e.$t("checkingAllowance"):x(H)?e.$t("quoting"):x(z)?e.$t("approve"):"",disabled:!Me(),loading:x(z)||x(j)||x(N)},{default:b((()=>[T(k(Pe()||e.$t("approve")),1)])),_:1},8,["color","loading-text","disabled","loading"])):(h(),p(m,{key:8,class:"submit-btn",block:"",loading:x(j)||x(M),"loading-text":x(M)?e.$t("quoting"):x(j)?0===x(l).activeTab?e.$t("buying"):e.$t("selling"):e.$t("quoting"),color:x(re),disabled:!Me()||!x(c)||!x(_)||x(N),"native-type":"submit"},{default:b((()=>{var a;return[T(k(Pe()||(0===x(l).activeTab?e.$t("buy"):e.$t("sell"))+" "+((null==(a=x(l).token1)?void 0:a.symbol)||"")),1)]})),_:1},8,["loading","loading-text","color","disabled"])):(h(),p(m,{key:6,"native-type":"button",class:"submit-btn",disabled:"",block:"",color:"#555555"},{default:b((()=>[T(k(De()),1)])),_:1})):(h(),p(m,{key:4,"native-type":"button",class:"submit-btn",color:"#286DFF",onClick:n[16]||(n[16]=L((l=>("useBotStore"in e?e.useBotStore:x(q))().changeConnectVisible(!0,1)),["stop"]))},{default:b((()=>[T(k(e.$t("pConnectWallet")),1)])),_:1})),g("ul",wk,["solana"!==x(s)?(h(),C("li",Tk,[g("span",null,k(e.$t("slippage")),1),y($,{name:"material-symbols:help-outline",onClick:n[17]||(n[17]=L((l=>{return a=e.$t("slippage"),t=e.$t("minimumReceivedTips"),void se.alert(t,a,{confirmButtonText:r("getIt")}).then((()=>{}));var a,t}),["stop"]))}),n[26]||(n[26]=g("span",{style:{flex:"1"}},null,-1)),y(ox,{slippage:x(u),"onUpdate:slippage":n[18]||(n[18]=e=>D(u)?u.value=e:null),canSetAuto:!1},null,8,["slippage"])])):f("",!0),0===x(l).swapType||1===x(l).swapType?(h(),C("li",Ck,[g("div",Ak,[g("span",null,k(e.$t("limitExpiredTime")),1)]),0===x(l).swapType&&"solana"===x(s)?(h(),p(ob,{key:0,expiredTime:x(W),"onUpdate:expiredTime":n[19]||(n[19]=e=>D(W)?W.value=e:null)},null,8,["expiredTime"])):(h(),C("div",Sk,k(x(st))+" "+k(e.$t("days1")),1))])):f("",!0)])],32),O(g("div",Nk,[g("div",$k,[(h(!0),C(A,null,S(x(ae),((e,l)=>(h(),C("button",{key:l,class:V(["tab-item",{active:e.value===x(le)}]),type:"button",onClick:L((l=>le.value=e.value),["stop"])},k(e.name),11,Fk)))),128))]),O(y(ak,{class:"mt-5px",tableList:x(te),onRefresh:ze},null,8,["tableList"]),[[ce,"limit"===x(le)]])],512),[[ce,2!==x(l).swapType]]),y(sg,{visible:x(G),"onUpdate:visible":n[20]||(n[20]=e=>D(G)?G.value=e:null),limitInfo:x(ne),loading:x(Q),chain:x(a).chain,limitGasU:x(E),activeShow:x(K),onSubmit:Ue},null,8,["visible","limitInfo","loading","chain","limitGasU","activeShow"])],64)}}}),[["__scopeId","data-v-a255978a"]]),Lk=s({__name:"swap",setup(e){const l=bh(),a=d((()=>0===l.swapType||1===l.swapType?Ik:tb));return(e,t)=>(h(),C(A,null,[y(gf,{tab:x(l).swapType,"onUpdate:tab":t[0]||(t[0]=e=>x(l).swapType=e)},null,8,["tab"]),(h(),p(ct(x(a))))],64))}}),Vk=s({__name:"index",setup(e){const l=Y(),a=bh(),t=W(),n=r();return m([()=>{var e;return(null==(e=t.token)?void 0:e.token)||""},()=>l.chain,()=>l.address],(()=>{var e;a.init(null==(e=n.params)?void 0:e.id)}),{immediate:!0}),v((()=>{})),(e,l)=>(h(),C("div",null,[y(tf),y(hf,{activeTab:x(a).activeTab,"onUpdate:activeTab":l[0]||(l[0]=e=>x(a).activeTab=e)},null,8,["activeTab"]),y(Lk)]))}}),Dk={class:"flex flex-col h-[calc(100vh-94px)] overflow-visible"},Mk={class:"p-15px bg-[--secondary-bg]"},Bk={class:"p-15px bg-[--secondary-bg] mt-1px"},Pk={class:"p-15px pb-5px bg-[--secondary-bg] mt-1px"},Ek={class:"flex justify-between border-b-1px border-b-solid border-b-[--main-divider] pb-8px mb-8px text-12px"},Uk={class:"text-12px color-[--main-text]"},Rk=s({__name:"index",setup(e){const l=u(!1),a=u(""),n=Y(),o=W(),s=d((()=>n.address?Vk:mf)),i=vt((()=>ie((()=>import("./ClxWKn9T.js")),__vite__mapDeps([6,4,5]),import.meta.url))),r=[{id:"5m",name:"5M"},{id:"1h",name:"1H"},{id:"4h",name:"4H"},{id:"24h",name:"24H"}],c=ue("token_tab_active","24h"),v=e=>{l.value=!0,a.value=e};return(e,u)=>{const d=t,m=Te,_=Ue;return h(),C("div",null,[y(d,{height:"calc(100vh - 92px)"},{default:b((()=>{var l;return[g("div",Dk,[g("div",Mk,[y(Rc,{modelValue:x(c),"onUpdate:modelValue":u[0]||(u[0]=e=>D(c)?c.value=e:null),tabs:r},null,8,["modelValue"]),(h(),C(A,null,S(r,(e=>(h(),C(A,{key:e.id},[x(c)===e.id?(h(),p(x(i),{key:0,tabActive:e.id,tabActiveName:e.name},null,8,["tabActive","tabActiveName"])):f("",!0)],64)))),64))]),g("div",Bk,[(h(),p(ct(x(s)),{key:x(n).address?"Swap":"BotSwap"}))]),g("div",Pk,[g("div",Ek,[g("span",Uk,k(e.$t("totalPair")),1),T(" "+k(("formatNumber"in e?e.formatNumber:x(X))((null==(l=x(o).token)?void 0:l.main_pair_tvl)||0,1)),1)]),y(Cv,{onOpenFilterModal:v})]),y(wm,{class:"px-15px pb-10px pr-0 bg-[--secondary-bg] mt-1px"}),u[3]||(u[3]=g("div",{class:"bg-[--secondary-bg] flex-1"},null,-1))])]})),_:1}),y(_,{modelValue:x(l),"onUpdate:modelValue":u[2]||(u[2]=e=>D(l)?l.value=e:null),title:x(a),width:"480"},{footer:b((()=>[y(m,{type:"primary",block:"",class:"w-full h-[48px]",size:"large",onClick:u[1]||(u[1]=e=>l.value=!1)},{default:b((()=>[T(k(e.$t("confirm")),1)])),_:1})])),default:b((()=>[y(Cv,{search:x(a),isInModal:!0},null,8,["search"])])),_:1},8,["modelValue","title"])])}}});function Hk(e="add"){const{$i18n:l}=o();return new Promise(((a,t)=>{se.prompt("",l.t("enterGroupName"),{confirmButtonText:l.t("confirm1"),cancelButtonText:l.t("cancel"),customClass:"w-320px p-16px inputPop",cancelButtonClass:"w-140px h-30px",confirmButtonClass:"w-140px h-30px ml-8px!",inputValidator:e=>e?!((null==e?void 0:e.length)>20)||(t(),l.t("maximum10characters")):(t(),l.t("enterGroupName"))}).then((({value:l})=>{"add"===e?function(e,l,a){const{evmAddress:t}=q(),{address:n}=Y(),{$i18n:s}=o(),i=Ln.service();$e(e,t||n).then((()=>{oe.success(s.t("success")),l(!0)})).catch((e=>{oe.error(s.t("fail")),a()})).finally((()=>{i.close()}))}(l,a,t):a(l)}))}))}const Ok={class:"flex h-420px"},jk={class:"w-240px h-full py-20px"},zk={class:"font-500 text-20px lh-[100%] mb-10px px-20px"},Wk={class:"h-[310px]"},qk=["onClick"],Yk={class:"flex items-center gap-8px dragItemIcons invisible"},Gk={class:"flex items-center px-20px"},Qk={class:"w-480px h-full py-20px bg-[--secondary-bg]"},Kk={class:"font-500 text-20px lh-[100%] mb-20px px-20px"},Zk={class:"flex items-center"},Xk={class:"flex flex-col items-start"},Jk={class:"[&&]:color-[--main-text] text-12px flex lh-[1.15]"},e_={key:0,class:"mt-2px border-solid border-0.5px border-#286dff color-#286dff rounded-4px text-10px px-4px py-1px overflow-hidden text-ellipsis whitespace-nowrap max-w-100px lh-[1.15]"},l_={class:"flex items-center gap-8px justify-end"},a_=["infinite-scroll-disabled"],t_={key:0,class:"text-center px-0 pt-15px pb-10px text-12px color-[--third-text]"},n_={key:1,class:"text-center px-0 pt-15px pb-10px text-12px color-[--third-text]"},o_={class:"flex-between h-80px px-20px"},s_=s({__name:"dialogFavoriteManage2",props:{list:{type:Array,default:()=>[]},getData:{type:Function,default:()=>{}},visible:Boolean},setup(e){const l=e,a=U(l.list);m((()=>l.list),(e=>{a.value=e}));const n=pe(Me.FAV_DIALOG),{t:o}=i(),s=q(),r=Y(),c=d((()=>s.evmAddress||r.address));W();const _=u(0),N=u([]),$=u({loading:!1,finished:!1,pageNo:1});U(!1);const F=u(!1),I=U(!0),M=U([]);async function B(){if(!$.value.loading)try{$.value.loading=!0;const e=await mt(_.value,$.value.pageNo,c.value),l=(e||[]).map((e=>({...e,id:e.token+"-"+e.chain,address:e.token,network:e.chain,priceChange24h:(null==e?void 0:e.price_change)?Number(null==e?void 0:e.price_change)/100:0,priceUSD:(null==e?void 0:e.current_price_usd)||0,activeGroup:_.value})));1===$.value.pageNo?N.value=l:N.value=[...N.value,...l],0===(null==e?void 0:e.length)&&($.value.finished=!0),$.value.finished||$.value.pageNo++}catch(e){}finally{$.value.loading=!1}}async function P(e,l,a){const t=e.token+"-"+e.chain,s=l+a;if(s<0||s+1>N.value.length)return;const i=N.value[s],r=i.token+"-"+i.chain;try{await bt(t,r,_.value,c.value),oe.success(o("success")),E(),n.emit({type:"order",tokenId:t})}catch(u){oe.error(o("fail"))}}function E(){$.value.pageNo=1,$.value.finished=!1,B()}async function R(e){const l=e.token+"-"+e.chain,{value:a}=await se.prompt("",o("enterRemark"),{confirmButtonText:o("confirm1"),cancelButtonText:o("cancel"),customClass:"w-320px p-16px inputPop",cancelButtonClass:"w-140px h-30px",confirmButtonClass:"w-140px h-30px ml-8px!",inputValidator:e=>!((null==e?void 0:e.length)>50)||o("maximum10characters")});!async function(e,l,a){try{await Ve(l,e,c.value),a.remark=e,gt(N),oe.success(o("success")),n.emit({type:"remark",tokenId:l})}catch(t){}}(a,l,e)}function H(){!function(e){yt({address:c.value,group:e}).then((()=>{oe.success(o("success")),l.getData()})).catch((e=>{oe.error(String(e))}))}(a.value.map((e=>e.group_id)))}async function j(){await Hk(),l.getData(),n.emit({type:"changeFavoriteGroupName"})}async function z(e){const{value:a}=await se.prompt("",o("enterGroupName"),{confirmButtonText:o("confirm1"),cancelButtonText:o("cancel"),customClass:"w-320px p-16px inputPop",cancelButtonClass:"w-140px h-30px",confirmButtonClass:"w-140px h-30px ml-8px!",inputValidator:e=>e?!((null==e?void 0:e.length)>20)||o("maximum10characters"):o("cannotBeEmpty")});!async function(e,a){try{await wt(e,a,c.value),oe.success(o("success")),l.getData(),n.emit({type:"changeFavoriteGroupName"})}catch(t){oe.error(t+""||o("fail"))}}(a,e.group_id)}async function G(){await se.confirm(o("removeTokenTips"),o("tips"),{confirmButtonText:o("confirm"),cancelButtonText:o("cancel"),customClass:"w-320px p-16px inputPop",cancelButtonClass:"w-140px h-30px",confirmButtonClass:"w-140px h-30px ml-8px!",dangerouslyUseHTMLString:!0}),_t({address:c.value,token_ids:M.value}).then((()=>{oe.success(o("success")),E(),M.value=[],F.value=!1,I.value=!1,n.emit({type:"delete"})})).catch((e=>{oe.error(String(e))}))}m([M,N],(e=>{const l=e[0],a=e[1];l.length===a.length&&a.length>0?F.value=!0:F.value=!1,I.value=l.length>0&&l.length<a.length})),v((()=>{B()})),m((()=>[c.value,l.visible]),(()=>{E(),M.value=[],F.value=!1,I.value=!1}));const Q=e=>{M.value=e?N.value.map((e=>e.token+"-"+e.chain)):[],I.value=!1};return(s,i)=>{const r=w,u=t,d=Te,v=xt,m=tl,U=co,W=Tn,q=wn,Y=uo,K=wl,Z=ft;return h(),C("div",Ok,[g("div",jk,[g("div",zk,k(x(o)("favoritesGroup")),1),g("div",Wk,[y(u,{"wrap-class":"mb-0px"},{default:b((()=>[y(x(mo),pt({modelValue:x(a),"onUpdate:modelValue":i[0]||(i[0]=e=>D(a)?a.value=e:null),class:"flex flex-col",tag:"ul"},{animation:300},{"item-key":"show_index",handle:".handle1",onEnd:H}),{default:b((()=>[(h(!0),C(A,null,S(x(a),(e=>(h(),C("li",{key:null==e?void 0:e.show_index,class:V(`dragItem flex-between font-400 py-12px px-20px hover:bg-[--d-2A2A2A-l-F2F2F2] cursor-pointer ${x(_)===e.group_id&&"bg-[--dialog-list-hover]"}`),onClick:l=>{return a=e.group_id,_.value=a,E(),M.value=[],F.value=!1,void(I.value=!1);var a}},[g("span",null,k(null==e?void 0:e.name),1),g("div",Yk,[(null==e?void 0:e.group_id)?(h(),p(r,{key:0,name:"material-symbols:dehaze",class:"text-16px text-[--third-text] cursor-move handle1"})):f("",!0),(null==e?void 0:e.group_id)?(h(),p(r,{key:1,name:"bxs:edit-alt",class:"text-13px clickable color-[--third-text]",onClick:L((l=>z(e)),["stop","prevent"])},null,8,["onClick"])):f("",!0),(null==e?void 0:e.group_id)?(h(),p(r,{key:2,name:"bx:bxs-trash-alt",class:"text-13px clickable color-[--third-text]",onClick:L((a=>async function(e){await se.confirm(o("removeFavGroupTips"),o("tips"),{confirmButtonText:o("confirm"),cancelButtonText:o("cancel"),customClass:"w-320px p-16px inputPop",cancelButtonClass:"w-140px h-30px",confirmButtonClass:"w-140px h-30px ml-8px!",dangerouslyUseHTMLString:!0});try{await kt(e.group_id,c.value),oe.success(o("success")),l.getData(),n.emit({type:"removeFavoriteGroup",groupId:e.group_id})}catch(a){}}(e)),["stop","prevent"])},null,8,["onClick"])):f("",!0)])],10,qk)))),128))])),_:1},16,["modelValue"])])),_:1})]),g("div",Gk,[y(d,{type:"primary",color:"#3F80F7",class:"w-100% h-40px",onClick:j},{default:b((()=>[T(k(x(o)("newGroup")),1)])),_:1})])]),g("div",Qk,[g("div",Kk,k(x(o)("groupDetails")),1),y(K,{modelValue:x(M),"onUpdate:modelValue":i[1]||(i[1]=e=>D(M)?M.value=e:null)},{default:b((()=>[y(Y,{id:"table_fav",ref:"table_ref",data:x(N),height:"280px",class:"w-full table-container [&&]:text-12px","highlight-current-row":""},{empty:b((()=>[y(v)])),append:b((()=>{var e,l;return[O(g("div",{class:"text-0 lh-0 h-0","infinite-scroll-disabled":x($).loading||x($).finished,"infinite-scroll-distance":20,"infinite-scroll-delay":200,"infinite-scroll-immediate":!0},null,8,a_),[[Z,B]]),x($).loading&&(null==(e=x(N))?void 0:e.length)>0?(h(),C("div",t_,k(s.$t("loading")),1)):x($).finished&&(null==(l=x(N))?void 0:l.length)>0?(h(),C("div",n_,k(s.$t("noMore")),1)):f("",!0)]})),default:b((()=>[y(U,{label:s.$t("token")},{default:b((({row:e})=>[g("div",Zk,[y(m,{value:(null==e?void 0:e.token)+"-"+(null==e?void 0:e.chain),size:"large"},null,8,["value"]),y(Tl,{class:"mr-8px",row:e},null,8,["row"]),g("div",Xk,[g("span",Jk,k(e.symbol),1),e.remark?(h(),C("span",e_,k(e.remark||"-"),1)):f("",!0)])])])),_:1},8,["label"]),y(U,{label:s.$t("changeGroup"),align:"right"},{default:b((({row:l})=>[y(q,{modelValue:l.activeGroup,"onUpdate:modelValue":e=>l.activeGroup=e,class:"[&&]:[--el-fill-color-blank:--border]",placeholder:s.$t("pleaseSelectGroup"),onChange:e=>async function(e,l){try{const a=e.token+"-"+e.chain;await Le(a,l,c.value),oe.success(o("success")),E(),n.emit({type:"confirmSwitchGroup",tokenId:a})}catch(a){oe.error(o("fail"))}}(l,e)},{default:b((()=>[(h(!0),C(A,null,S(e.list,(e=>(h(),p(W,{key:e.group_id,label:e.name,value:e.group_id,disabled:x(_)===e.group_id},null,8,["label","value","disabled"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","onChange"])])),_:1},8,["label"]),y(U,{label:s.$t("operate"),align:"right"},{default:b((({row:e,$index:a})=>[g("div",l_,[y(r,{name:"bx:arrow-to-top",class:V("text-16px clickable "+(0===a?"color-[--third-text] cursor-not-allowed":"color-[--main-text]")),onClick:L((l=>async function(e,l){if(0!==l)try{const l=e.token+"-"+e.chain;await ht(l,_.value,c.value),oe.success(o("success")),E(),n.emit({type:"order",tokenId:l})}catch(a){oe.error(o("fail"))}}(e,a)),["stop"])},null,8,["class","onClick"]),y(r,{name:"material-symbols:arrow-upward",class:V("text-16px clickable "+(0===a?"color-[--third-text] cursor-not-allowed":"color-[--main-text]")),onClick:L((l=>P(e,a,-1)),["stop"])},null,8,["class","onClick"]),y(r,{name:"material-symbols:arrow-downward",class:V("text-16px clickable "+(a+1===x(N).length?"color-[--third-text] cursor-not-allowed":"color-[--main-text]")),onClick:L((l=>P(e,a,1)),["stop"])},null,8,["class","onClick"]),y(r,{name:"bxs:edit-alt",class:"text-13px clickable color-[--main-text]",onClick:L((l=>R(e)),["stop","prevent"])},null,8,["onClick"]),y(r,{name:"bx:bxs-trash-alt",class:"text-13px clickable color-[--main-text]",onClick:L((a=>function(e){De(`${e.token}-${e.chain}`,c.value).then((()=>{n.emit({type:"delete"}),E(),oe.success(o("cancelled1")),l.getData()})).catch((e=>{}))}(e)),["stop","prevent"])},null,8,["onClick"])])])),_:1},8,["label"])])),_:1},8,["data"])])),_:1},8,["modelValue"]),g("div",o_,[y(m,{modelValue:x(F),"onUpdate:modelValue":i[2]||(i[2]=e=>D(F)?F.value=e:null),indeterminate:x(I),onChange:Q,label:x(o)("selectAll"),size:"large"},null,8,["modelValue","indeterminate","label"]),y(d,{type:"primary",color:"#3F80F7",class:"h-40px",onClick:G,disabled:!x(M).length},{default:b((()=>[T(k(x(o)("batchDelete")),1)])),_:1},8,["disabled"])])])])}}}),i_=B(s_,[["__scopeId","data-v-0c6833b1"]]),r_=s({__name:"favDialog2",props:{visible:Boolean,isScroll:Boolean,loading:Boolean,list:{type:Array,default:()=>[]},getData:{type:Function,default:()=>{}}},emits:["update:visible"],setup(e,{emit:l}){const a=e,{t:t}=i(),n=l,{theme:o}=Q(),s=u("dialogFavoriteManage"),r=d({get:()=>a.visible,set(e){n("update:visible",e)}}),c=d((()=>[{name:t("favoriteManage"),id:"dialogFavoriteManage"},{name:t("groupManage"),id:"dialogGroupManage"}])),v={dialogFavoriteManage:i_,dialogGroupManage:vt((()=>ie((()=>import("./BgvJAoK2.js")),__vite__mapDeps([7,4,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61]),import.meta.url)))};return m(r,(e=>{e&&a.getData()})),d((()=>{var e;const l=null==(e=c.value.find((e=>e.id===s.value)))?void 0:e.id;return v[l]||v.dialogFavoriteManage})),(l,a)=>{const t=Ue;return h(),p(t,{modelValue:x(r),"onUpdate:modelValue":a[0]||(a[0]=e=>D(r)?r.value=e:null),"append-to-body":"","show-close":!0,"align-center":"",width:"720px",class:V(`${x(o)} [--el-message-close-size:24px] favDialog2`)},{default:b((()=>[y(i_,{visible:x(r),list:e.list,"get-data":e.getData,loading:e.loading},null,8,["visible","list","get-data","loading"])])),_:1},8,["modelValue","class"])}}}),u_={class:"flex items-center justify-between pr-15px pl-12px mt-10px"},d_={class:"flex items-center min-w-0"},c_=["onClick"],v_=["infinite-scroll-disabled"],m_={class:"pb-20px"},p_={class:"flex items-center flex-1"},f_={class:"flex flex-col items-start"},x_={class:"text-12px flex items-center"},h_=["src"],b_={key:0,class:"mt-2px border-solid border-0.5px border-#286dff color-#286dff rounded-4px text-10px px-4px py-1px overflow-hidden text-ellipsis whitespace-nowrap max-w-100px"},g_={class:"flex-1 text-12px text-right"},k_={key:0},__={key:1},y_={key:0,class:"color-#959a9f text-12px text-center"},w_=s({__name:"favoriteTable",props:{height:{type:[Number,String],default:0}},setup(l){const a=pe(Me.TOP_FAV_CHANGE);a.on(_);const n=pe(Me.FAV_DIALOG);n.on(_);const o=pe(Me.TOP_ADD_GROUP);o.on(ve);const s=U();function _(e){-1===e?function(){const e=P.value.address+"-"+P.value.chain,l=oe.value.findIndex((l=>l.token+"-"+l.chain===e));-1!==l&&oe.value.splice(l,1);gt(oe)}():(ge(),be())}de((()=>{a.off(_),n.off(_),o.off(_)}));const{t:$}=i(),F=je(),I=vo(),{token:M}=G(W()),B=r(),P=d((()=>{var e,l;const a=B.params.id;return a?c(a):{address:(null==(e=M.value)?void 0:e.token)||"",chain:(null==(l=M.value)?void 0:l.chain)||""}}));m((()=>F.wsResult[kl.PRICEV2]),(e=>{oe.value=oe.value.map((l=>{const a=e.prices.find((e=>l.token===e.token&&l.chain===e.chain));return a?{...l,current_price_usd:a.uprice,price_change:a.price_change_v2}:l})),"price_change"===ae.value.sortBy&&oe.value.sort(((e,l)=>((l[ae.value.sortBy]||0)-(e[ae.value.sortBy]||0))*ae.value.activeSort)),gt(oe)}));const E=l,R=d((()=>Number(E.height)-110)),j=q(),z=Y(),Q=d((()=>j.evmAddress||z.address)),K=u(!1),Z=u(!1),J=u([]),ee=u(0),le=re("favoriteCondition",{currentMode:"mcap"}),ae=u({activeSort:0,sortBy:null}),te={sort:"",sort_dir:""},ne=U({finished:!1,loading:!1,pageNo:1,error:!1}),oe=u([]),se=d((()=>[{label:$("token"),value:"symbol",flex:"flex-1",sort:!0},{label:("mcap"===le.value.currentMode?$("mCap"):$("price"))+"{currentMode}/24h%",value:(le.value.currentMode,"price_change"),currentMode:le.value.currentMode,flex:"flex-1 justify-end",sort:!0}])),ie=d((()=>0!==ae.value.activeSort&&ae.value.sortBy?"symbol"===ae.value.sortBy?oe.value.toSorted(((e,l)=>((l.symbol[0].toLowerCase().charCodeAt(0)||0)-(e.symbol[0].toLowerCase().charCodeAt(0)||0))*ae.value.activeSort)):"price_change"===ae.value.sortBy?oe.value.toSorted(((e,l)=>((l[ae.value.sortBy]||0)-(e[ae.value.sortBy]||0))*ae.value.activeSort)):oe.value:oe.value));v((()=>{Q.value&&ve()})),m((()=>Q.value),(()=>{ve(),xe(0,0)})),m((()=>ae.value),(e=>{"price_change"===e.sortBy?(te.sort_dir=["asc","","desc"][(e.activeSort||0)+1],te.sort="price_change"):(te.sort_dir="",te.sort=""),ge(),be()})),m((()=>z.walletSignature[z.address]),(()=>{ge(),be()}));const ue=U(!1);async function ve(){try{Z.value=!0;const e=await he(Q.value);J.value=[{group_id:0,name:$("defaultGroup")}].concat((e||[]).filter((e=>!!e.name))),setTimeout((()=>{var e;ue.value=Number(null==(e=fe.value)?void 0:e.offsetWidth)>212}))}catch(e){}finally{Z.value=!1}}function me(){K.value=!0}v((()=>{be()}));const fe=U(null);function xe(e,l){ee.value=e,ge(),be(),Tt(fe,l)}async function be(){try{ne.value.loading=!0;const e=ne.value.pageNo,l=await mt(ee.value,e,Q.value,te.sort_dir,te.sort);if(Array.isArray(l)){const a=l.map((e=>({...e,id:e.token+"-"+e.chain,price_change:e.price_change_v2,pool_circulating_supply:(e.total-e.lock_amount-e.burn_amount-e.other_amount)*e.current_price_usd}))).filter((e=>{var l,a;return"brc20"!==(null==e?void 0:e.chain)&&"runes"!==(null==e?void 0:e.chain)&&!(null==(l=null==e?void 0:e.token)?void 0:l.includes("inscription:"))&&!(null==(a=null==e?void 0:e.token)?void 0:a.includes("("))}));oe.value=1===e?a:oe.value.concat(a),I.setMultiPriceParams("favorite",oe.value.map((e=>e.id))),I.sendPriceWs(),ne.value.finished=0===(null==l?void 0:l.length),ne.value.finished||ne.value.pageNo++}}catch(e){ne.value.error=!0}finally{ne.value.loading=!1}}function ge(){s.value.setScrollTop(0),ne.value.finished=!1,ne.value.pageNo=1}function ke(e){"mcap"===le.value.currentMode?le.value.currentMode="price":le.value.currentMode="mcap"}return(l,a)=>{const n=w,o=N,i=xt,r=t,u=H("tooltip"),d=ft,c=Ce;return O((h(),C("div",null,[g("div",u_,[g("div",d_,[O(g("span",{class:"w-20px h-20px rounded-2px color-[--third-text] hover:color-[--secondary-text] bg-[--secondary-bg] flex items-center justify-center cursor-pointer",onClick:a[0]||(a[0]=e=>("scrollElement"in l?l.scrollElement:x(Ct))(x(fe),-200))},[y(n,{name:"material-symbols:arrow-back-ios-new-rounded"})],512),[[ce,x(ue)]]),g("div",{ref_key:"tabsContainer",ref:fe,class:"flex items-center gap-10px whitespace-nowrap overflow-x-auto overflow-y-hidden scrollbar-hide"},[g("span",{class:V("decoration-none shrink-0 text-12px lh-16px text-center px-4px py-2px rounded-4px cursor-pointer "+(0===x(ee)?"bg-[--border] color-[--main-text]":"color-[--third-text]")),onClick:a[1]||(a[1]=e=>xe(0,0))},k(l.$t("defaultGroup")),3),(h(!0),C(A,null,S(x(J).slice(1),((e,l)=>(h(),C("span",{key:l,class:V("decoration-none shrink-0 text-12px lh-16px text-center px-4px py-2px rounded-4px cursor-pointer "+(x(ee)===e.group_id?"bg-[--border] color-[--main-text]":"color-[--third-text]")),onClick:a=>xe(e.group_id,l+1)},k(e.name),11,c_)))),128))],512),O(g("span",{class:"mr-4px w-20px h-20px rounded-2px color-[--third-text] hover:color-[--secondary-text] bg-[--secondary-bg] flex items-center justify-center cursor-pointer",onClick:a[2]||(a[2]=e=>("scrollElement"in l?l.scrollElement:x(Ct))(x(fe),200))},[y(n,{name:"material-symbols:arrow-forward-ios-rounded"})],512),[[ce,x(ue)]])]),y(n,{name:"custom:remark",class:"shrink-0 text-12px mr-0 cursor-pointer color-[--third-text] hover:color-#286DFF",onClick:L(me,["self"])})]),y(e,{sort:x(ae),"onUpdate:sort":a[3]||(a[3]=e=>D(ae)?ae.value=e:null),columns:x(se),toggleMode:ke},null,8,["sort","columns"]),y(r,{ref_key:"otherListArea",ref:s,height:x(R)},{default:b((()=>[O((h(),C("div",{"infinite-scroll-disabled":x(ne).loading||x(ne).finished,"infinite-scroll-distance":"200","infinite-scroll-delay":10,"infinite-scroll-immediate":!1},[g("div",m_,[(h(!0),C(A,null,S(x(ie),((e,a)=>(h(),p(o,{key:`${e.token}-${e.chain}`,class:"px-10px flex items-center h-40px cursor-pointer hover:bg-[--dialog-bg]",to:`/token/${e.token}-${e.chain}`},{default:b((()=>[g("div",p_,[O(y(Tl,{class:"mr-8px",row:e},null,8,["row"]),[[u,{content:{is:Tl,props:{row:e,"chain-class":"hidden","token-class":"w-240px h-240px [&&]:mr-0 rounded-16px"}},props:{placement:"bottom-start","show-arrow":!1,"popper-class":"tooltip-pd-0"}}]]),g("div",f_,[g("span",x_,[T(k(e.symbol)+" ",1),e.issue_platform?O((h(),C("img",{key:0,class:"ml-5px w-10px h-10px rounded-full",src:("formatIconTag"in l?l.formatIconTag:x(_e))(e.issue_platform),alt:""},null,8,h_)),[[u,e.issue_platform]]):f("",!0)]),e.remark?(h(),C("span",b_,k(e.remark),1)):f("",!0)])]),g("div",g_,["mcap"!==x(le).currentMode?(h(),C("div",k_," $"+k(x(X)(e.current_price_usd||0,4)),1)):(h(),C("div",__,"$"+k(x(X)(e.pool_circulating_supply||0,2)),1)),g("div",{class:V(`flex-1 text-right text-12px\n                ${("getColorClass"in l?l.getColorClass:x(At))(e.price_change)}\n            `)},[0===Number(e.price_change)?(h(),C(A,{key:0},[T("0%")],64)):e.price_change&&"--"!==e.price_change?(h(),C(A,{key:2},[T(k(Number(e.price_change)>0?"+":"-")+k(x(X)(Math.abs(Number(e.price_change))||0,2))+"% ",1)],64)):(h(),C(A,{key:1},[T("--")],64))],2)])])),_:2},1032,["to"])))),128)),0!==x(ie).length||x(ne).loading?f("",!0):(h(),p(i,{key:0}))]),x(ne).loading&&x(ne).pageNo>1?(h(),C("div",y_,k(l.$t("loading")),1)):f("",!0)],8,v_)),[[d,be]])])),_:1},8,["height"]),y(r_,{visible:x(K),"onUpdate:visible":a[4]||(a[4]=e=>D(K)?K.value=e:null),loading:x(Z),"get-data":ve,list:x(J)},null,8,["visible","loading","list"])])),[[c,1===x(ne).pageNo&&x(ne).loading]])}}}),T_={class:"pt-10px flex items-center px-12px gap-20px border-b-solid border-b-1px border-b-#FFFFFF08"},C_=["onClick"],A_={class:"text-12px mt-10px"},S_=s({__name:"topLeftTable",props:{height:{type:Number,default:370}},setup(e){const{t:l}=i(),a=e,t=q(),n=Y(),o=u("FavoriteTable"),s=d((()=>[{name:l("favorites"),component:"FavoriteTable"},{name:l("positions"),component:"PositionsTable"}])),r={FavoriteTable:w_,PositionsTable:vt((()=>ie((()=>import("./DfhoFjpW.js")),__vite__mapDeps([62,4,5,63,9,10,15,16,17,18,19,20,21,11,12,22,23,24,53,54,25,26,27,28,29,30,31,13,32,33,34,35,36,37,38,39,40,41,8,14,42,43,44,45,46,47,48,49,50,51,52,55,56,57,58,59,60]),import.meta.url)))},c=d((()=>r[o.value])),v=d((()=>"PositionsTable"===o.value?a.height-4:a.height));return(l,i)=>{const r=Te,u=xt;return h(),C("div",{style:$(`height: ${Math.max(e.height,0)}px;`),class:V("color-[--main-text] bg-[--secondary-bg] rounded-2px text-14px overflow-hidden\n    ")},[g("div",T_,[(h(!0),C(A,null,S(x(s),(e=>(h(),C("a",{key:e.component,href:"javascript:;",class:V("decoration-none text-12px lh-16px pb-8px text-center b-b-solid b-b-2px font-500\n         "+(x(o)===e.component?"color-[--main-text] b-b-[--main-text]":"color-[--third-text] b-b-transparent")),onClick:l=>o.value=e.component},k(e.name),11,C_)))),128))]),x(t).evmAddress||x(n).address?(h(),p(St,{key:0},[(h(),p(ct(x(c)),{height:x(v)},null,8,["height"]))],1024)):(h(),p(u,{key:1,style:$({height:a.height-50+"px"}),class:"overflow-hidden"},{default:b((()=>[g("span",A_,k(l.$t("noWalletTip")),1),y(r,{class:"mt-10px",onClick:i[0]||(i[0]=e=>x(t).$patch({connectVisible:!0}))},{default:b((()=>[T(k(l.$t("connectWallet")),1)])),_:1})])),_:1},8,["style"]))],4)}}}),N_={class:"color-[--main-text]"},$_={class:"flex-1 flex items-center"},F_={class:"ml-6px"},I_={class:"flex items-center"},L_={class:"color-[--main-text] max-w-80px overflow-hidden text-ellipsis whitespace-nowrap"},V_=["src"],D_=["src"],M_={class:"mt-2px color-[--third-text]"},B_={class:"flex flex-col items-end"},P_=s({__name:"trending",props:{finalHeight:{type:Number,required:!0}},setup(l){const{t:a}=i();v((()=>{}));const{hotList:n}=G(j()),o=u({activeSort:0,sortBy:""}),s=d((()=>n.value||[])),r=d((()=>{const{activeSort:e,sortBy:l}=o.value;return 0!==e&&l?s.value.toSorted(((a,t)=>{if("symbol"===l){return((t.symbol[0].toLowerCase().charCodeAt(0)||0)-(a.symbol[0].toLowerCase().charCodeAt(0)||0))*e}return"mcap"===l?(Number(Nt(t))-Number(Nt(a)))*e:(Number(t[l]||0)-Number(a[l]||0))*e})):s.value})),c=d((()=>[{label:a("token")+"/"+a("mCap"),value:"mcap",flex:"flex-[3]",sort:!0},{label:a("price"),value:"current_price_usd",flex:"flex-1 justify-end",sort:!0},{label:"24h%",value:"price_change",flex:"flex-1 justify-end",sort:!0}]));return(a,n)=>{const s=_,i=w,u=N,d=t,v=H("tooltip");return h(),C("div",N_,[y(e,{sort:x(o),"onUpdate:sort":n[0]||(n[0]=e=>D(o)?o.value=e:null),columns:x(c)},null,8,["sort","columns"]),y(d,{height:Math.max(500,l.finalHeight-130),class:"[&&]:h-auto"},{default:b((()=>[(h(!0),C(A,null,S(x(r),((e,l)=>(h(),p(u,{key:l,class:"px-10px flex items-center h-40px cursor-pointer hover:bg-[--dialog-bg] text-12px",to:`/token/${e.token}-${e.chain}`},{default:b((()=>{var l;return[g("div",$_,[y(s,{"popper-class":"tooltip-pd-0",placement:"bottom-start","show-arrow":!1},{default:b((()=>[y(Tl,{row:e},null,8,["row"])])),content:b((()=>[y(Tl,{row:e,"chain-class":"hidden","token-class":"w-240px h-240px [&&]:mr-0 rd-16px"},null,8,["row"])])),_:2},1024),g("div",F_,[g("div",I_,[g("span",L_,k(e.symbol),1),e.launchpad?O((h(),C("img",{key:0,class:"ml-5px w-10px h-10px rounded-full",src:("formatIconTag"in a?a.formatIconTag:x(_e))(e.launchpad),alt:""},null,8,V_)),[[v,e.launchpad]]):f("",!0),(null==(l=e.badges)?void 0:l.length)>0?(h(!0),C(A,{key:1},S(e.badges,((e,l)=>O((h(),C("img",{key:l,class:"ml-5px rd-50%",src:("formatIconTag"in a?a.formatIconTag:x(_e))(e.tag),alt:"",width:10,onerror:"this.src='/icon-default.png'"},null,8,D_)),[[v,a.$t(`${e.tag}`)]]))),128)):f("",!0),e.risk_score>55?(h(),p(i,{key:2,name:"custom:danger",class:"font-14 ml-2px color-#F72121"})):f("",!0)]),g("div",M_,[0===e.current_price_usd?(h(),C(A,{key:0},[T("0")],64)):"--"===e.current_price_usd?(h(),C(A,{key:1},[T("--")],64)):(h(),C(A,{key:2},[T(" $"+k(x(X)(x(Nt)(e),2)),1)],64))])])]),g("div",B_,[g("div",null,[0===Number(e.current_price_usd)?(h(),C(A,{key:0},[T("0")],64)):"--"===e.current_price_usd?(h(),C(A,{key:1},[T("--")],64)):(h(),C(A,{key:2},[T(" $"+k(x(X)(e.current_price_usd,4)),1)],64))]),g("div",{class:V(("getColorClass"in a?a.getColorClass:x(At))(e.price_change_v2))},[0===Number(e.price_change_v2)?(h(),C(A,{key:0},[T("0")],64)):"--"===e.price_change_v2?(h(),C(A,{key:1},[T("--")],64)):(h(),C(A,{key:2},[T(k(Number(e.price_change_v2)>0?"+":"-")+k(x(X)(Math.abs(Number(e.price_change_v2)),2))+"% ",1)],64))],2)])]})),_:2},1032,["to"])))),128))])),_:1},8,["height"])])}}}),E_={class:"bg-[--secondary-bg] rounded-2px text-14px pt-10px flex-1 flex flex-col"},U_={class:"flex items-center px-12px gap-20px border-b-#FFFFFF08"},R_=["onClick"],H_=s({__name:"bottomLeftTable",setup(e){const{t:l}=i(),{height:a}=Re(),t=re("topLeftHeight",$t.TOPLEFT),n=d((()=>a.value-t.value)),o=u("Trending"),s=d((()=>[{name:l("trending"),component:"Trending"}])),r={Trending:P_},c=d((()=>r[o.value]));return(e,l)=>(h(),C("div",E_,[g("div",U_,[(h(!0),C(A,null,S(x(s),(e=>(h(),C("a",{key:e.component,href:"javascript:;",class:V("decoration-none text-12px lh-16px pb-8px text-center b-b-solid b-b-2px font-500\n        "+(x(o)===e.component?"color-[--main-text] b-b-[--main-text]":"color-[--third-text] b-b-transparent")),onClick:l=>o.value=e.component},k(e.name),11,R_)))),128))]),(h(),p(St,null,[(h(),p(ct(x(c)),{class:"flex-1 relative",finalHeight:x(n)},null,8,["finalHeight"]))],1024))]))}}),O_={class:"relative"},j_=s({__name:"left",setup(e){const l=re("topLeftHeight",$t.TOPLEFT),a=u(!1),t=j(),{height:n}=Re();function o(e){let t=e.clientY;return a.value=!0,document.onmousemove=e=>{if(!a.value)return;const{clientY:o}=e,s=o<t?l.value-(t-o):l.value+o-t;s<=n.value-164&&(l.value=s),t=o},document.onmouseup=()=>{a.value=!1,document.onmousemove=null,document.onmouseup=null},!1}return(e,a)=>O((h(),C("div",null,[g("div",O_,[y(S_,{height:x(l)},null,8,["height"]),g("div",{class:"w-full cursor-row-resize bg-[--border] gap-1px hover:bg-[--third-text] flex items-center justify-center h-4px",onMousedown:L(o,["stop","prevent"])},[(h(),C(A,null,S(4,(e=>g("span",{key:e,class:"bg-[--icon-color] w-2px h-2px rounded-full"}))),64))],32)]),y(H_)],512)),[[ce,x(t).showLeft]])}}),z_={key:1,class:"color-#F2AD41 mt-5px"},W_={class:"block mt-5px"},q_={class:"block mt-5px"},Y_={class:"block mt-5px"},G_=s({__name:"tagsContent",props:{tags:{type:Array,default:()=>[]}},setup(e){const{locale:l}=He();return(a,t)=>(h(),C("div",null,[(h(!0),C(A,null,S(e.tags,((e,t)=>{var n;return h(),C(A,{key:t},[Number(e.type)?(h(),C("span",{key:0,class:"mr-3px text-12px",style:$({color:e.color})}," ["+k(null==e?void 0:e[x(Ft)(x(l))])+"] ",5)):f("",!0),(null==(n=e.extra_info)?void 0:n.length)>0&&"9"==e.type?(h(),C("div",z_,[(h(!0),C(A,null,S(null==e?void 0:e.extra_info,((e,l)=>(h(),C(A,{key:l},[g("span",W_,k(a.$t("lockAmount"))+": "+k(("formatNumber"in a?a.formatNumber:x(X))(e.amount,4)),1),g("span",q_,k(a.$t("lockDate"))+": "+k(x(tt)(e.lockDate,"YYYY-MM-DD")),1),g("span",Y_,k(a.$t("unlockDate"))+": "+k(x(tt)(e.unlockDate,"YYYY-MM-DD")),1)],64)))),128))])):f("",!0)],64)})),128))]))}}),Q_=["src"],K_=s({__name:"index",props:{tags:{type:Array,default:()=>[]},tagClass:{type:String,default:"ml-3px"},walletAddress:{type:String,default:""},chain:{type:String,default:""}},setup(e){const{$tooltip:l}=o(),a=e,{getPublicPortrait:t}=It(),n=d((()=>{var e;if(!a.walletAddress||!a.chain)return a.tags;const l=(null==(e=t(a.walletAddress,a.chain))?void 0:e.new_tags)||[];return((null==l?void 0:l.length)>0?l:a.tags)||[]})),s=d((()=>n.value.filter((e=>{var l,a;return(null==(l=e.type)?void 0:l.includes("TOP"))&&(null==(a=e.type)?void 0:a.slice(3))<25||Number(e.type)}))));function i(e){var l,t;let o=-1,i=0;for(let a=0;a<=e;a++){const s=n.value[a];s&&((null==(l=s.type)?void 0:l.includes("TOP"))&&(null==(t=s.type)?void 0:t.slice(3))<25||Number(s.type))&&(a===e&&(o=i),i++)}return o===s.value.length-1?"":a.tagClass}function r(e){n.value.some((e=>Number(e.type)))&&l.show({content:{is:G_,props:{tags:n.value}},target:e.target,props:{placement:"top","popper-class":"signal-tags-tooltip"}})}function u(){l.hide()}return(e,l)=>{var a;return(null==(a=x(n))?void 0:a.length)>0?(h(),C("div",{key:0,class:"flex cursor-pointer",onMouseover:L(r,["stop"]),onMouseleave:L(u,["stop"])},[(h(!0),C(A,null,S(x(n),((e,l)=>{var a,t;return h(),C(A,{key:l},[(null==(a=e.type)?void 0:a.includes("TOP"))&&(null==(t=e.type)?void 0:t.slice(3))<25||Number(e.type)?(h(),C("img",{key:0,style:{"pointer-events":"none"},class:V(i(l)+" signal-tag-hover"),src:x(F)(e.icon),alt:"",height:"15"},null,10,Q_)):f("",!0)],64)})),128))],32)):f("",!0)}}}),Z_={class:"text-14px font-400 color-[--main-text]"},X_={class:"mt-10px flex color-[--secondary-text] text-12px"},J_={class:"flex-[1.2]"},ey={class:"flex-1"},ly={class:"mt-5px flex items-center gap-4px text-12px"},ay={key:0,class:"text-12px text-[--down-color] mt-4px"},ty={class:"flex mt-20px"},ny=s({__name:"tableDateFilter",props:{visible:Boolean,modelValue:{type:Array,default:()=>[]},boundary:{type:HTMLElement,default:void 0}},emits:["update:visible","confirm","reset"],setup(e,{emit:l}){const{isDark:a}=G(Q()),t=e,n=l,o=d({get:()=>t.visible,set(e){n("update:visible",e)}}),s=U([]),i=e=>!!s.value[1]&&tt(e).isAfter(tt(1e3*s.value[1])),r=e=>{if(s.value[0]){const l=tt(1e3*s.value[0]);return tt(e).isBefore(l)&&!tt(e).isSame(l,"day")}return!1},u=d((()=>!(!s.value[1]||!s.value[0])&&s.value[1]<s.value[0]));return m((()=>t.modelValue),(e=>{s.value=e})),(l,t)=>{const d=w,c=Wn,v=Te,m=M;return h(),p(m,{visible:x(o),"onUpdate:visible":t[4]||(t[4]=e=>D(o)?o.value=e:null),placement:"bottom",width:420,trigger:"click",teleported:"","popper-style":"max-width: 420px;--el-text-color-primary:--third-text","popper-class":"transaction-popover","popper-options":{modifiers:[{name:"preventOverflow",options:{boundary:e.boundary,padding:0}}]}},{reference:b((()=>[y(d,{name:"custom:filter",class:V((e.modelValue.length?"color-[--primary-color]":"color-[--third-text]")+" cursor-pointer text-10px")},null,8,["class"])])),default:b((()=>[g("div",Z_,k(l.$t("filterTime")),1),g("div",X_,[g("span",J_,k(l.$t("startTime")),1),g("span",ey,k(l.$t("endTime1")),1)]),g("div",ly,[y(c,{modelValue:x(s)[0],"onUpdate:modelValue":t[0]||(t[0]=e=>x(s)[0]=e),"disabled-date":i,class:"[--el-font-size-base:12px]",type:"datetime","range-separator":"To","start-placeholder":"yyyy/mm/dd hh:mm:ss","end-placeholder":"yyyy/mm/dd hh:mm:ss",format:"YYYY-MM-DD HH:mm:ss","value-format":"X","prefix-icon":"Calendar",teleported:!1},null,8,["modelValue"]),T(" "+k(l.$t("to"))+" ",1),y(c,{modelValue:x(s)[1],"onUpdate:modelValue":t[1]||(t[1]=e=>x(s)[1]=e),"disabled-date":r,class:"[--el-font-size-base:12px]",type:"datetime","range-separator":"To","start-placeholder":"yyyy/mm/dd hh:mm:ss","end-placeholder":"yyyy/mm/dd hh:mm:ss",format:"YYYY-MM-DD HH:mm:ss","value-format":"X","prefix-icon":"Calendar",teleported:!1},null,8,["modelValue"])]),x(u)?(h(),C("div",ay,k(l.$t("selectCorrectTimeRange")),1)):f("",!0),g("div",ty,[y(v,{class:"h-30px flex-1 m-l-auto",color:x(a)?"#252E3C":"#D9E8FF",onClick:t[2]||(t[2]=e=>{x(s).length=0,n("confirm")})},{default:b((()=>[T(k(l.$t("reset")),1)])),_:1},8,["color"]),y(v,{disabled:x(u),type:"primary",class:"h-30px flex-1 m-l-auto",onClick:t[3]||(t[3]=e=>n("confirm",x(s).slice()))},{default:b((()=>[T(k(l.$t("confirm")),1)])),_:1},8,["disabled"])])])),_:1},8,["visible","popper-options"])}}}),oy={class:"text-12px font-400"},sy={class:"flex mt-10px"},iy={class:"flex mt-10px"},ry={class:"flex mt-10px"},uy=s({__name:"volFilter",props:{visible:Boolean,modelValue:{type:Array,default:()=>[]}},emits:["update:visible","confirm","reset"],setup(e,{emit:l}){const{isDark:a}=G(Q()),t=e,n=l,o=d({get:()=>t.visible,set(e){n("update:visible",e)}}),s=U([]),i=d((()=>t.modelValue.filter((e=>!!e)).length>0)),r=Q();function u(e){const l=Number(s.value[0]),a=Number(s.value[1])<=l;0===e&&a?s.value[0]=void 0:1===e&&a&&(s.value[1]=void 0)}return(e,l)=>{const a=w,t=Te,d=ao,c=M;return h(),p(c,{visible:x(o),"onUpdate:visible":l[6]||(l[6]=e=>D(o)?o.value=e:null),placement:"bottom",width:350,trigger:"click"},{reference:b((()=>[y(a,{name:"custom:filter",class:V((x(i)?"color-[--primary-color]":"color-[--third-text]")+" cursor-pointer text-10px")},null,8,["class"])])),default:b((()=>[g("div",oy,k(e.$t("amountU"))+"($) ",1),g("div",sy,[(h(),C(A,null,S([10,100,200],((e,l)=>y(t,{key:l,plain:"",size:"default",class:"flex-1 h-30px font-400",onClick:L((l=>{x(s)[0]=e,x(s)[1]=void 0}),["stop"])},{default:b((()=>[T(" ≥"+k(e),1)])),_:2},1032,["onClick"]))),64))]),g("div",iy,[y(d,{modelValue:x(s)[0],"onUpdate:modelValue":l[0]||(l[0]=e=>x(s)[0]=e),min:0,controls:!1,placeholder:e.$t("minor"),clearable:"",required:"",onBlur:l[1]||(l[1]=e=>u(0))},null,8,["modelValue","placeholder"]),l[7]||(l[7]=g("span",{class:"ml-10px mr-10px"},"~",-1)),y(d,{modelValue:x(s)[1],"onUpdate:modelValue":l[2]||(l[2]=e=>x(s)[1]=e),min:0,controls:!1,placeholder:e.$t("max1"),clearable:"",required:"",onBlur:l[3]||(l[3]=e=>u(1))},null,8,["modelValue","placeholder"])]),g("div",ry,[(h(),p(t,{key:x(r).theme,class:"h-30px flex-1 m-l-auto",color:"var(--border)",onClick:l[4]||(l[4]=e=>{x(s).length=0,n("confirm")})},{default:b((()=>[T(k(e.$t("reset")),1)])),_:1})),y(t,{type:"primary",class:"h-30px flex-1 m-l-auto",onClick:l[5]||(l[5]=e=>n("confirm",x(s).slice()))},{default:b((()=>[T(k(e.$t("confirm")),1)])),_:1})])])),_:1},8,["visible"])}}}),dy={class:"flex"},cy={class:"flex mt-20px"},vy=s({__name:"makersFilter",props:{visible:Boolean,modelValue:{type:String,default:""},chain:{type:String,default:""}},emits:["update:visible","confirm","reset"],setup(e,{emit:l}){const a=e,t=l,{evmAddress:n,getWalletAddress:o}=q(),s=Q(),i=u(""),r=d({get:()=>a.visible,set(e){t("update:visible",e)}});return m((()=>a.modelValue),(()=>{i.value=a.modelValue})),(l,a)=>{const u=w,d=Ae,c=Te,v=M;return h(),p(v,{visible:x(r),"onUpdate:visible":a[4]||(a[4]=e=>D(r)?r.value=e:null),placement:"bottom",width:215,trigger:"click"},{reference:b((()=>[y(u,{name:"custom:filter",class:V((e.modelValue?"color-[--primary-color]":"color-[--third-text]")+" cursor-pointer text-10px")},null,8,["class"])])),default:b((()=>[g("div",dy,[y(d,{modelValue:x(i),"onUpdate:modelValue":a[0]||(a[0]=e=>D(i)?i.value=e:null),modelModifiers:{trim:!0},style:{"--el-input-bg-color":"var(--dialog-list-hover)"},placeholder:l.$t("enterAddress"),clearable:""},null,8,["modelValue","placeholder"])]),x(n)?(h(),p(c,{key:x(s).theme,class:"h-30px mt-20px w-full",size:"default",color:"var(--border)",onClick:a[1]||(a[1]=l=>i.value=x(o)(e.chain)||"")},{default:b((()=>[T(k(l.$t("filterWallet")),1)])),_:1})):f("",!0),g("div",cy,[(h(),p(c,{key:x(s).theme,class:"h-30px flex-1 m-l-auto",color:"var(--border)",onClick:a[2]||(a[2]=e=>{i.value="",t("confirm")})},{default:b((()=>[T(k(l.$t("reset")),1)])),_:1})),y(c,{type:"primary",class:"h-30px flex-1 m-l-auto",onClick:a[3]||(a[3]=e=>t("confirm",x(i)))},{default:b((()=>[T(k(l.$t("confirm")),1)])),_:1})])])),_:1},8,["visible"])}}}),my=""+new URL("aveai.BpE2-HFd.svg",import.meta.url).href,py=""+new URL("aveai-b.DJfoTmOb.svg",import.meta.url).href,fy={key:1,class:"flex flex-col gap-6px w-210px color-[--main-text]"},xy={class:"flex gap-6px items-center"},hy={class:"flex justify-between"},by={class:"color-[--secondary-text]"},gy={class:"color-[--third-text]"},ky={class:"color-[--main-text]"},_y={class:"flex justify-between"},yy={class:"color-[--secondary-text]"},wy={class:"flex justify-between"},Ty={class:"color-[--secondary-text]"},Cy={class:"flex justify-between whitespace-nowrap"},Ay={class:"color-[--secondary-text]"},Sy={class:"color-[--third-text] mr-10px"},Ny={class:"color-#12B886"},$y={class:"flex justify-between whitespace-nowrap"},Fy={class:"color-[--secondary-text]"},Iy={class:"color-[--third-text] mr-10px"},Ly={class:"color-#F6465D"},Vy={class:"flex justify-between"},Dy={class:"color-[--secondary-text]"},My={class:"color-#12B886"},By={class:"flex justify-between"},Py={class:"color-[--secondary-text]"},Ey={class:"flex justify-between"},Uy={class:"color-[--secondary-text]"},Ry={class:"color-[--third-text]"},Hy={class:"flex justify-between"},Oy={class:"color-[--secondary-text]"},jy={class:"color-[--third-text]"},zy={key:1,class:"color-[--third-text]"},Wy={key:0},qy={class:"color-[--secondary-text] lh-16px mb-8px"},Yy={class:"flex-wrap flex items-center gap-x-20px gap-y-6px"},Gy={class:"ml-4px"},Qy={class:"flex justify-center my-12px"},Ky={key:0,src:my,alt:"",class:"h-14px"},Zy={key:1,src:py,alt:"",class:"h-14px"},Xy=s({__name:"markerTooltip",props:{virtualRef:{type:HTMLElement,default:null},currentRow:{type:Object,default:()=>({})},addressAndChain:{type:Object,default:()=>({})},modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:l}){const a=l,t=e,n=Q(),o=d({get:()=>t.modelValue,set(e){a("update:modelValue",e)}}),s=u(!1),i=U();return m((()=>t.currentRow),(()=>{t.currentRow&&async function(){const e={user_address:t.currentRow.wallet_address,chain:t.addressAndChain.chain,token:t.addressAndChain.address};s.value=!0;try{const l=await Lt(e);l&&(i.value={...l,ratio:Number(l.history_max_balance_amount)>0?Math.min(new Be(l.balance_amount).dividedBy(new Be(l.history_max_balance_amount)).multipliedBy(100).toNumber(),100):0,isLoading:""===l.total_sold_usd&&""===l.total_purchase_usd})}catch(l){}finally{s.value=!1}}()})),(l,a)=>{const t=Dt,r=Vt,u=Bt,d=Pt,c=w,v=Qn,m=Ut,$=Rt,F=Tl,I=N,M=_,B=H("copy");return h(),p(M,{ref:"tooltipRef",visible:x(o),"onUpdate:visible":a[1]||(a[1]=e=>D(o)?o.value=e:null),placement:"left","virtual-ref":e.virtualRef,"virtual-triggering":"",trigger:"hover","raw-content":"","popper-class":"[&&]:p-12px [&&]:[--el-text-color-primary:--dialog-bg]!",style:{"--el-text-color-primary":"var(--d-222-l-FFF)"}},{content:b((()=>{var _;return[!x(i)||x(i).isLoading||x(s)?(h(),p(r,{key:0,animated:"",class:"relative inline-block [&&]:w-210px text-12px font-400 box-border px-4px py-6px"},{template:b((()=>[(h(),C(A,null,S(10,(e=>y(t,{key:e,variant:"p",style:{width:"100%"}}))),64))])),_:1})):(h(),C("div",fy,[g("div",xy,[y(u,{class:"relative",chain:e.currentRow.chain,address:e.currentRow.address,"icon-size":"20px"},null,8,["chain","address"]),y(d,{canEdit:!1,remark:e.currentRow.remark,address:e.currentRow.wallet_address,chain:e.currentRow.chain,wallet_logo:e.currentRow.wallet_logo,class:"color-[--d-CCC-l-333]",formatAddress:e=>e.slice(0,4)+"..."+e.slice(-4)},null,8,["remark","address","chain","wallet_logo","formatAddress"]),O(y(c,{name:"bxs:copy",class:"cursor-pointer color-[--third-text] text-10px"},null,512),[[B,e.currentRow.wallet_address]]),Mt(l.$slots,"default")]),g("div",hy,[g("span",by,k(l.$t("position1"))+":",1),g("div",null,[g("span",gy,"("+k(("formatNumber"in l?l.formatNumber:x(X))(x(i).balance_amount||0,3))+"/"+k(("formatNumber"in l?l.formatNumber:x(X))(x(i).history_max_balance_amount||0,3))+")",1),a[2]||(a[2]=T()),g("span",ky,"$"+k(("formatNumber"in l?l.formatNumber:x(X))(x(i).balance_usd||0,2)),1),y(v,{color:"var(--main-text)","show-text":!1,percentage:x(i).ratio||0,"stroke-width":4},null,8,["percentage"])])]),g("div",_y,[g("span",yy,k(l.$t("profit2"))+":",1),g("span",{class:V(`${("getColorClass"in l?l.getColorClass:x(At))(x(i).total_profit)}`)},["0"===x(i).total_profit?(h(),C(A,{key:0},[T("--")],64)):(h(),C(A,{key:1},[T(k(("addSign"in l?l.addSign:x(Et))(x(i).total_profit))+"$"+k(("formatNumber"in l?l.formatNumber:x(X))(Math.abs(x(i).total_profit),1)),1)],64))],2)]),g("div",wy,[g("span",Ty,k(l.$t("unrealized_profit"))+":",1),g("span",{class:V(`${("getColorClass"in l?l.getColorClass:x(At))(x(i).unrealized_profit)}`)},["0"===x(i).unrealized_profit?(h(),C(A,{key:0},[T("--")],64)):(h(),C(A,{key:1},[T(k(("addSign"in l?l.addSign:x(Et))(x(i).unrealized_profit))+"$"+k(("formatNumber"in l?l.formatNumber:x(X))(Math.abs(x(i).unrealized_profit),1)),1)],64))],2)]),g("div",Cy,[g("span",Ay,[T(k(l.$t("totalBuy2"))+" ",1),"--"!==x(i).total_purchase&&0!==Number.parseFloat(x(i).total_purchase)?(h(),C(A,{key:0},[T(" ("+k(x(i).total_purchase)+") ",1)],64)):f("",!0),a[3]||(a[3]=T(":"))]),g("span",null,[g("span",Sy,k(x(i).total_purchase_amount?("formatNumber"in l?l.formatNumber:x(X))(x(i).total_purchase_amount,2):"--"),1),g("span",Ny,k(x(i).total_purchase_usd?`$${("formatNumber"in l?l.formatNumber:x(X))(x(i).total_purchase_usd,2)}`:"--"),1)])]),g("div",$y,[g("span",Fy,[T(k(l.$t("totalSell2"))+" ",1),"--"!==x(i).total_sold&&0!==Number.parseFloat(x(i).total_sold)?(h(),C(A,{key:0},[T(" ("+k(x(i).total_sold)+") ",1)],64)):f("",!0),a[4]||(a[4]=T(":"))]),g("span",null,[g("span",Iy,k(x(i).total_sold_amount?("formatNumber"in l?l.formatNumber:x(X))(x(i).total_sold_amount,2):"--"),1),g("span",Ly,k(x(i).total_sold_usd?`$${("formatNumber"in l?l.formatNumber:x(X))(x(i).total_sold_usd,2)}`:"--"),1)])]),y(m,{class:"[--el-border-color:--dialog-divider]",style:{margin:"0"}}),g("div",Vy,[g("span",Dy,"7D "+k(l.$t("winRate2"))+":",1),g("span",My,k(("formatNumber"in l?l.formatNumber:x(X))(x(i).win_ratio,1))+"%",1)]),g("div",By,[g("span",Py,"7D "+k(l.$t("profit2"))+":",1),g("span",{class:V(`${("getColorClass"in l?l.getColorClass:x(At))(x(i).profit)}`)},["0"===x(i).profit?(h(),C(A,{key:0},[T("--")],64)):x(i).profit<0?(h(),C(A,{key:1},[T("-")],64)):f("",!0),T("$"+k(("formatNumber"in l?l.formatNumber:x(X))(Math.abs(x(i).profit),2)),1)],2)]),g("div",Ey,[g("span",Uy,"7D "+k(l.$t("token"))+":",1),g("span",Ry,k(("formatNumber"in l?l.formatNumber:x(X))(x(i).token_txns)),1)]),g("div",Hy,[g("span",Oy,k(l.$t("walletAge"))+":",1),x(i).wallet_age&&Number(("formatTimeFromNow"in l?l.formatTimeFromNow:x(Se))(x(i).wallet_age,!0))<60?(h(),p($,{key:x(i).wallet_age,timestamp:Number(x(i).wallet_age),"end-time":60},{default:b((({seconds:e})=>[g("span",jy,[e<60?(h(),C(A,{key:0},[T(k(e)+k(l.$t("ss")),1)],64)):(h(),C(A,{key:1},[T(k(x(tt)(1e3*x(i).wallet_age).fromNow()),1)],64))])])),_:1},8,["timestamp"])):(h(),C("span",zy,k(Number(x(i).wallet_age||0)?x(tt)(1e3*x(i).wallet_age).fromNow():"--"),1))]),y(m,{class:"[--el-border-color:--dialog-divider]",style:{margin:"0"}}),(null==(_=x(i).top3_blue_chip)?void 0:_.length)>0?(h(),C("div",Wy,[g("div",qy,"TOP3 "+k(l.$t("blueChips"))+":",1),g("div",Yy,[(h(!0),C(A,null,S(x(i).top3_blue_chip,(e=>(h(),p(I,{key:e.token,class:"flex items-center [&&]:color-[--secondary-text]",to:`/token/${e.token}-${e.chain}`,onClick:a[0]||(a[0]=L((e=>o.value=!1),["self"]))},{default:b((()=>[y(F,{row:{logo_url:e.logoUrl},"token-class":"w-16px h-16px [&&]:mr-0 color-[--secondary-text]"},null,8,["row"]),g("span",Gy,k(e.symbol),1)])),_:2},1032,["to"])))),128))])])):f("",!0),g("div",Qy,[x(n).isDark?(h(),C("img",Ky)):(h(),C("img",Zy))])]))]})),_:3},8,["visible","virtual-ref"])}}}),Jy={class:"px-12px lh-20px flex justify-between items-center mb-12px text-13px color-[--secondary-text]"},ew={class:"ml-4px color-[--main-text]"},lw={class:"ml-4px color-[--main-text]"},aw={class:"color-#12B886 ml-4px"},tw={class:"color-#F6465D ml-4px"},nw={class:"color-#12B886 ml-4px"},ow={class:"color-#F6465D ml-4px"},sw=s({__name:"userTxsFilterHead",props:{makerAddress:{type:String,default:""},isLiquidity:Boolean,pairLiq:{type:Array,default:()=>[]},tokenTxs:{type:Array,default:()=>[]},tagType:{type:String,default:""},chain:{type:String,default:""},isBuy:{type:Function,default:()=>{}},getAmount:{type:Function,default:()=>{}},getPrice:{type:Function,default:()=>{}}},setup(e){const l=e,a=W(),t=r(),n=u(0),o=u(0),s=d((()=>{let e=0,a=0,t=0,n=0;return l.tokenTxs.forEach((o=>{l.isBuy(o)?(e+=l.getAmount(o,!0,!0),t+=l.getAmount(o)):(a+=l.getAmount(o,!0,!0),n+=l.getAmount(o))})),{buyUSD:e,sellUSD:a,buyAmount:t,sellAmount:n}})),i=d((()=>{var e;let l=((null==(e=a.tokenInfoExtra)?void 0:e.sell_tax)||0)/100;return l=l>1?1:l,(a.tokenPrice||o.value||0)*(n.value||0)*(1-l)})),v=d((()=>{const{buyUSD:e,sellUSD:l}=s.value;return l+i.value-e})),p=d((()=>{const{buyUSD:e}=s.value;return e>0?v.value/e:0})),f=d((()=>{const{sellAmount:e,sellUSD:l}=s.value;return e>0?l/e:0})),b=d((()=>{const{buyAmount:e,buyUSD:l}=s.value;return e>0?l/e:0}));return m((()=>l.makerAddress),(()=>{!async function(){try{const e=t.params.id;if(e){const{chain:a}=c(e),t=await Ht(e,[l.makerAddress+"-"+a]);if(t&&t[0]){const{value:e,current_price_usd:l}=t[0];n.value=e,o.value=l}}}finally{}}()}),{immediate:!0}),(e,l)=>(h(),C("div",Jy,[g("div",null,[g("span",null,k(e.$t("balance1"))+":",1),g("span",ew,k(("formatNumber"in e?e.formatNumber:x(X))(x(n),3)),1),g("span",lw,"$"+k(("formatNumber"in e?e.formatNumber:x(X))((x(a).tokenPrice||x(o)||0)*(x(n)||0),3)),1)]),g("div",null,[g("span",null,k(e.$t("profit"))+":",1),g("span",{class:V(`ml-4px ${("getColorClass"in e?e.getColorClass:x(At))(String(x(v)))}`)},k(("addSign"in e?e.addSign:x(Et))(x(v)))+"$"+k(("formatNumber"in e?e.formatNumber:x(X))(Math.abs(x(v)),2)),3),g("span",{class:V(`ml-4px ${("getColorClass"in e?e.getColorClass:x(At))(String(x(p)))}`)},k(("formatNumber"in e?e.formatNumber:x(X))(100*x(p),1))+"%",3)]),g("div",null,[g("span",null,k(e.$t("totalBuy"))+":",1),g("span",aw,"$"+k(("formatNumber"in e?e.formatNumber:x(X))(x(s).buyUSD||0,2)),1)]),g("div",null,[g("span",null,k(e.$t("totalSell"))+":",1),g("span",tw,"$"+k(("formatNumber"in e?e.formatNumber:x(X))(x(s).sellUSD||0,2)),1)]),g("div",null,[g("span",null,k(e.$t("avgBuyPrice"))+":",1),g("span",nw,"$"+k(("formatNumber"in e?e.formatNumber:x(X))(x(b)||0,2)),1)]),g("div",null,[g("span",null,k(e.$t("avgSellPrice"))+":",1),g("span",ow,"$"+k(("formatNumber"in e?e.formatNumber:x(X))(x(f)||0,2)),1)])]))}}),iw={class:"h-24px flex items-center justify-center bg-[--main-input-button-bg] color-[--secondary-text] mb-12px text-12px gap-8px"},rw=s({__name:"dateFilterCard",props:{timestamp:{},timestampModifiers:{}},emits:["update:timestamp"],setup(e){const l=Ot(e,"timestamp"),a=d((()=>{const[e,a]=l.value||[];if(!e||!a)return"--";const[n,o]=t(e),[s,i]=t(a);return n===s?`${n} ${o} - ${i}`:`${n} ${o} - ${s} ${i}`}));function t(e){const l=tt(1e3*Number(e));return[l.format("MM/DD"),l.format("HH:mm:ss")]}function n(){l.value&&(l.value=[])}function o(e){const[a,t]=l.value||[];if(!a||!t)return"--";const n=localStorage.getItem("tv_resolution")||"15";{const o=jt[n]||{val:n,unit:"m"},s=tt(1e3*Number(a)).add(e*o.val,o.unit).unix(),i=tt(1e3*Number(t)).add(e*o.val,o.unit).unix();l.value=[String(s),String(i)]}}return(e,l)=>{const t=w;return h(),C("div",iw,[g("span",null,k(x(a)),1),g("span",{class:"color-[--main-text] cursor-pointer",onClick:n},k(e.$t("reset")),1),y(t,{name:"tabler:arrow-left",class:"cursor-pointer hover:color-[--main-text]",onClick:l[0]||(l[0]=e=>o(-1))}),y(t,{name:"tabler:arrow-right",class:"cursor-pointer hover:color-[--main-text]",onClick:l[1]||(l[1]=e=>o(1))})])}}}),uw=El("tagStore",(()=>{const e=u([]),l=u({});return{tagArr:e,getTagArr:async function(){try{const a=await zt();e.value=a||[],e.value.forEach((e=>{l.value[e.type]=e}))}catch(a){}},matchTag:function(e){return l.value[e]}}})),dw={ref:"txs-container",class:"transactions"},cw={class:"px-12px mb-10px flex justify-between"},vw=["onClick"],mw=["onClick"],pw={class:"flex items-center gap-12px"},fw={class:"flex items-center color-#FFA622 text-12px"},xw={class:"ml-3px"},hw={key:0,class:"lh-20px text-13px py-6px bg-#3F80F71A text-center mb-12px"},bw={class:"lh-20px text-13px py-6px bg-#3F80F71A text-center mb-12px flex justify-center text-[--third-text]"},gw=["innerHTML"],kw={class:"text-12px","element-loading-background":"transparent"},_w={key:0,class:"h-full flex flex-col items-center justify-center pt-100px"},yw={key:0,src:ae,alt:""},ww={key:1,src:te,alt:""},Tw={class:"mt-10px color-[--third-text]"},Cw={key:1},Aw={class:"flex items-center gap-2px"},Sw={class:"color-[--secondary-text]"},Nw={key:1,class:"color-[--secondary-text]"},$w={key:0},Fw={key:1},Iw={key:2},Lw={class:"flex items-center gap-2px"},Vw={key:1},Dw={class:"color-[--secondary-text]"},Mw={class:"color-[--secondary-text]"},Bw={class:"flex items-center gap-2px"},Pw={class:"color-[--secondary-text]"},Ew={class:"color-[--secondary-text]"},Uw={class:"mr-2px"},Rw={key:0},Hw={key:0,class:"color-[--secondary-text]"},Ow={class:"flex justify-end gap-8px"},jw=["src"],zw=["src","onClick"],Ww=B(s({__name:"transactions",setup(e){const l=j(),a=me(Wt.KLINE_DATE_FILTER),t=me("orderBookVisible",U(!1)),n=U({buttonRefs:{}}),{t:o}=i(),s=W(),v=qt(),_=je(),N=uw(),F=r(),I=U(null),M=U(!0),B=Z(),P=Q();Yt((()=>{!M.value&&I.value&&I.value.scrollToTop(0),M.value=!1}));const E=d((()=>Math.max(500,s.commonHeight-250))),R=u(c(F.params.id).address),z=d((()=>{const e=[];return Array.isArray(s.totalHolders)&&s.totalHolders.forEach((l=>{const a=l.total_address;a>0&&e.push({...l,label:(null==l?void 0:l[Ft(He().locale)])+`(${a})`,value:l.type})})),[{label:o("all"),value:"all"},{label:o("buy3"),value:"buy"},{label:o("sell3"),value:"sell"},{label:o("followed")+`(${l.headFollowsNum.all})`,value:"-100"},{label:o("liquidity2"),value:"liquidity"},...e]})),G=u("all"),K=d((()=>!["all","buy","sell"].includes(G.value))),J=u(!1),ae=d((()=>"liquidity"===G.value)),te=Sl("txs-container"),ne=d((()=>{var e;const l="solana"===(null==(e=s.token)?void 0:e.chain)&&!ae.value;return[{key:"time",dataKey:"time",title:o("time"),minWidth:80},{key:"type",dataKey:"type",title:o("type"),minWidth:80},{key:"swapPrice",dataKey:"swapPrice",title:o("swapPrice"),minWidth:100},{key:"amountB",dataKey:"amountB",title:o("amountB"),minWidth:120},{key:"amountU",dataKey:"amountU",title:o("amountU"),align:"right",class:"relative",minWidth:120},{key:"makers",dataKey:"makers",title:o("makers"),align:"right",minWidth:220},{key:"SOLBalance",dataKey:"SOLBalance",title:o("makers")+" SOL",align:"right",hidden:!l,minWidth:86},{key:"DEX",dataKey:"DEX",title:"DEX/TXN",align:"right",minWidth:70}].filter((e=>!e.hidden))})),se=U({loadingTxs:!1,loadingLiq:!1}),ie=u([]),re=u([]),ue=u([]),ve=u([]),pe=U({timestamp:[],amountU:[],markerAddress:"",tag_type:""}),fe={all:()=>[...ie.value,...ue.value].toSorted(((e,l)=>l.time-e.time)),liquidity:()=>ue.value,buy:()=>ie.value.filter((e=>Ue(e))),sell:()=>ie.value.filter((e=>!Ue(e)))},xe=d((()=>{let e=[];e=G.value in fe?fe[G.value]():ie.value;const{timestamp:l,amountU:a,markerAddress:t}=pe.value,[n,o]=l||[],[s,i]=a||[];return n&&(e=e.filter((e=>e.time>=Number(n)))),o&&(e=e.filter((e=>e.time<=Number(o)))),t&&(e=e.filter((e=>e.wallet_address===t))),s&&(e=e.filter((e=>{if("type"in e){return e.amount0*e.token0_price_usd+e.amount1*e.token1_price_usd>=Number(s)}return ze(e,!0,!0)>=Number(s)}))),i&&(e=e.filter((e=>{if("type"in e){return e.amount0*e.token0_price_usd+e.amount1*e.token1_price_usd<=Number(i)}return ze(e,!0,!0)<=Number(i)}))),e})),he=u({}),be=U({isShowDate:!1}),ge=U({timestamp:!1,amountU:!1,markers:!1}),ke=U(),_e=u(!1),ye=u({}),we=d((()=>J.value||v.drawerVisible||_e.value)),Te=d((()=>{var e,l;const a=F.params.id;return a?c(a):{address:(null==(e=s.token)?void 0:e.token)||"",chain:(null==(l=s.token)?void 0:l.chain)||""}}));function Ae(){he.value={},re.value.length=0,ve.value.length=0}m((()=>null==a?void 0:a.value),(e=>{e&&!t.value&&(pe.value.timestamp=e,Ve())})),m((()=>s.pairAddress),((e,l)=>{s.pairAddress&&(Me(),function(e,l){l&&_.send({jsonrpc:"2.0",params:["liq",l],id:1,method:"unsubscribe"});setTimeout((()=>{_.send({jsonrpc:"2.0",params:["liq",e],id:1,method:"subscribe"})}),20)}(e,l))}),{immediate:!0}),m((()=>F.params.id),(e=>{e&&(Ae(),pe.value.markerAddress="",Ve())}),{immediate:!0}),m((()=>B.currentAddress),(()=>{"-100"===G.value&&Ve()})),m(t,((e,l)=>{l&&!e&&(Ae(),pe.value.markerAddress="",Ve())})),fo((()=>{Ae(),Ve(),Me()})),m((()=>_.wsResult[kl.TX]),(e=>{if(!e||se.value.loadingTxs||K.value)return;const{wallet_address:l,from_address:a,to_address:t}=e.tx;if(a!==R.value&&t!==R.value)return;const{timestamp:n,markerAddress:o}=pe.value,[s,i]=n||[];if(s&&e.tx.time<Number(s))return;if(i&&e.tx.time>Number(i))return;if(o&&l!==o)return;he.value[l]=(he.value[l]||0)+1;const{topN:r,wallet_tag:u}=De(e.tx),d={...e.tx,topN:r,wallet_tag:u,senderProfile:JSON.parse(e.tx.profile||"{}"),count:he.value[l],time:Math.min(Math.floor(Date.now()/1e3),e.tx.time),uuid:Gt()};re.value.unshift(d),we.value||Ne()})),m((()=>_.wsResult[kl.SIMPLE_TX]),(e=>{if(!e||se.value.loadingTxs||K.value)return;const l=e.msg,{maker:a,target:t}=l;if(t!==R.value)return;if(!["buy","sell"].includes(l.direction))return;const{timestamp:n,markerAddress:o}=pe.value,[s,i]=n||[];if(s&&l.time<Number(s))return;if(i&&l.time>Number(i))return;if(o&&a!==o)return;he.value[a]=(he.value[a]||0)+1;const{topN:r,wallet_tag:u}=De(e.msg),d=function(e){if(e){const l=e.split(","),a={MEVBot:{type:"8"}};return l.map((e=>a[e])).filter((e=>!!e))}}(l.tag),c={...l,topN:r,wallet_tag:u,count:he.value[a],time:Math.min(Math.floor(Date.now()/1e3),l.time),uuid:Gt(),wallet_address:a,transaction:l.txhash,senderProfile:{solTotalHolding:l.maker_eth},newTags:d};re.value.unshift(c),we.value||Ne()})),m((()=>_.wsResult[kl.LIQ]),(e=>{e&&!se.value.loadingLiq&&["all","liquidity"].includes(G.value)&&(ve.value.unshift({...e.liq,uuid:Gt()}),we.value||$e(),ue.value.length>300&&ue.value.pop())}));const Ne=Qt((()=>{ie.value.unshift(...re.value),ie.value=ie.value.slice(0,300),re.value.length=0,gt(ie)}),100),$e=Qt((()=>{ue.value.unshift(...ve.value),ve.value.length=0,gt(ue)}),100);function Fe(e=[]){ge.value.timestamp=!1,pe.value.timestamp=e,Ve()}function Ie(e=[]){ge.value.amountU=!1,pe.value.amountU=e}function Le(e=""){he.value={},ge.value.markers=!1,pe.value.markerAddress=e,Ve()}async function Ve(){try{se.value.loadingTxs=!0;const{tag_type:e}=pe.value,l={token_id:F.params.id,tag_type:e,maker:pe.value.markerAddress,time_min:pe.value.timestamp[0],time_max:pe.value.timestamp[1]};if("-100"===e&&!B.currentAddress)return ie.value=[],void(se.value.loadingTxs=!1);const a=await Kt(l);R.value=c(l.token_id).address,ie.value=(a||[]).reverse().map((e=>{he.value[e.wallet_address]=(he.value[e.wallet_address]||0)+1;const{wallet_tag:l,topN:a}=De(e);return{...e,wallet_tag:l,topN:a,count:he.value[e.wallet_address],senderProfile:JSON.parse(e.profile||"{}"),uuid:Gt()}})).reverse()}catch(e){ie.value=[]}finally{se.value.loadingTxs=!1}}function De(e){const l=e.wallet_tag_v2||"";let a="",t=[];return l.length>0&&(t=l.split(","),t.forEach(((e,l)=>{new RegExp("^top.*$","gi").test(e)&&(a=e,t.splice(l,1))}))),{topN:a,wallet_tag:t}}async function Me(){try{se.value.loadingLiq=!0;const e=await Zt(s.pairAddress+"-"+Te.value.chain);ue.value=(e||[]).reverse().map((e=>({...e,uuid:Gt()}))).reverse()}catch(e){}finally{se.value.loadingLiq=!1}}function Ue(e){var l,a,t,n,o,s,i,r;return"direction"in e&&"target"in e?"buy"===e.direction:(!("from_address"in e)||!e.from_address||(null==(a=(l=R.value).toLowerCase)?void 0:a.call(l))!==(null==(n=null==(t=e.from_address)?void 0:t.toLowerCase)?void 0:n.call(t)))&&(!(!("to_address"in e)||!e.to_address||(null==(s=(o=R.value).toLowerCase)?void 0:s.call(o))!==(null==(r=(i=e.to_address).toLowerCase)?void 0:r.call(i)))||void 0)}function Re(e){if("type"in e){if("addLiquidity"===e.type)return"color-#65C4ED";if("removeLiquidity"===e.type||"CollectFee"===e.type)return"color-#EF6DE2"}return Ue(e)?"color-#12B886":"color-#FF646D"}function Oe(e,l=!1){var a,t,n,o,s,i;const r=R.value;if("direction"in e&&"target"in e)return e.price_u;if("from_address"in e&&e.from_address&&(null==(a=r.toLowerCase)?void 0:a.call(r))===(null==(n=null==(t=e.from_address)?void 0:t.toLowerCase)?void 0:n.call(t)))return l?e.from_price_eth:e.from_price_usd;if("to_address"in e&&e.to_address&&(null==(o=r.toLowerCase)?void 0:o.call(r))===(null==(i=null==(s=e.to_address)?void 0:s.toLowerCase)?void 0:i.call(s)))return l?e.to_price_eth:e.to_price_usd;if("token0_address"in e){let l=0;return l=r===e.token0_address?e.token0_price_usd||0:e.token1_price_usd||0,l}return 0}function ze(e,l=!1,a=!1){var t,n,o,s,i,r,u,d;return"direction"in e&&"target"in e?Number(e.target_amt||0)*(l?Number(a?e.price_u:e.price_m):1):"from_address"in e&&e.from_address&&(null==(n=(t=R.value).toLowerCase)?void 0:n.call(t))===(null==(s=null==(o=e.from_address)?void 0:o.toLowerCase)?void 0:s.call(o))?e.from_amount*(l?Number(a?e.from_price_usd:e.from_price_eth):1):"to_address"in e&&e.to_address&&(null==(r=(i=R.value).toLowerCase)?void 0:r.call(i))===(null==(d=(u=e.to_address).toLowerCase)?void 0:d.call(u))?e.to_amount*(l?Number(a?e.to_price_usd:e.to_price_eth):1):0}function We(e){var l,a,t,n,o,s,i,r,u;return"direction"in e&&"target"in e?"buy"===e.direction&&new Be(e.maker_bal).eq(e.target_amt):!(null==(a=null==(l=null==e?void 0:e.newTags)?void 0:l.some)?void 0:a.call(l,(e=>"8"===(null==e?void 0:e.type))))&&((null==(n=(t=R.value).toLowerCase)?void 0:n.call(t))===(null==(i=null==(s=null==(o=e.senderProfile)?void 0:o.token0Address)?void 0:s.toLowerCase)?void 0:i.call(s))?null==(r=e.senderProfile)?void 0:r.token0HasNewAccount:null==(u=e.senderProfile)?void 0:u.token1HasNewAccount)}function qe(e){var l,a,t,n,o,s,i,r,u;return"direction"in e&&"target"in e?"sell"===e.direction&&new Be(e.maker_bal).eq(0):!Ue(e)&&!(null==(a=null==(l=e.newTags)?void 0:l.some)?void 0:a.call(l,(e=>"8"===(null==e?void 0:e.type))))&&((null==(n=(t=R.value).toLowerCase)?void 0:n.call(t))===(null==(i=null==(s=null==(o=e.senderProfile)?void 0:o.token0Address)?void 0:s.toLowerCase)?void 0:i.call(s))?null==(r=e.senderProfile)?void 0:r.token0HasClearedAccount:null==(u=e.senderProfile)?void 0:u.token1HasClearedAccount)}function Ye(e){var l,a,t;return"maker_eth"in e?Number(e.maker_eth||0)>=50:!(null==(a=null==(l=null==e?void 0:e.newTags)?void 0:l.some)?void 0:a.call(l,(e=>"8"===e.type)))&&Number(null==(t=e.senderProfile)?void 0:t.solTotalHolding)>50}function Qe(e){return{"true-true":"bg-[linear-gradient(270deg,#111_0%,#12654C_70%,#12B886_100%)]","true-false":"bg-[linear-gradient(270deg,#111_0%,#7F2A36_70%,#F6465D_100%)]","false-false":"bg-[linear-gradient(270deg,#FFF_0%,#88DBC3_70%,#12B886_100%)]","false-true":"bg-[linear-gradient(270deg,#FFF_0%,#FBA2AE_70%,#F6465D_100%)]"}[`${Q().isDark}-${Ue(e)}`]}function Ke(e){window.open(ee(e.chain,e.transaction,"tx"))}const Ze=U(null);function Xe(e,l){G.value=e,he.value={},pe.value.tag_type=e,"liquidity"!==e?Ve():Me(),Tt(Ze,l)}function Je({rowData:e}){if(s.token)if(en.includes(s.token.chain)){const{symbol:l,logo_url:a,chain:t,token:n}=s.token,{target_token:o,token0_address:i,token0_symbol:r,token1_symbol:u,pair:d}=s.pair;v.$patch({drawerVisible:!0,tokenInfo:{id:F.params.id,symbol:l,logo_url:a,chain:t,address:n,remark:e.remark},pairInfo:{target_token:o,token0_address:i,token0_symbol:r,token1_symbol:u,pairAddress:d},user_address:e.wallet_address})}else window.open(ee(s.token.chain,e.transaction,"tx"))}function el(){he.value={},pe.value.markerAddress="",Ve()}return de((()=>{_.send({jsonrpc:"2.0",params:["liq",s.pairAddress],id:1,method:"unsubscribe"}),ie.value=[],Ae()})),(e,a)=>{var t;const s=w,i=Rt,r=K_,u=Pt,d=po,c=H("tooltip"),v=Ce;return h(),C("div",dw,[g("div",cw,[g("div",{ref_key:"tabsContainer",ref:Ze,class:"flex items-center whitespace-nowrap w-[80%] overflow-x-auto scrollbar-hide"},[(h(!0),C(A,null,S(x(z),((l,a)=>(h(),C(A,{key:l.value},[("holdersTooltip"in e?e.holdersTooltip:x(Xt))(x(o))[l.type]?O((h(),C("a",{key:0,href:"javascript:;",class:V("decoration-none shrink-0 text-12px lh-16px text-center px-12px py-4px rounded-4px\n         "+(x(G)===l.value?"bg-[--border] color-[--main-text]":"color-[--third-text]")),onClick:e=>Xe(l.value,a)},[T(k(l.label),1)],10,vw)),[[c,("holdersTooltip"in e?e.holdersTooltip:x(Xt))(x(o))[l.type]]]):(h(),C("a",{key:1,href:"javascript:;",class:V("decoration-none shrink-0 text-12px lh-16px text-center px-12px py-4px rounded-4px\n         "+(x(G)===l.value?"bg-[--border] color-[--main-text]":"color-[--third-text]")),onClick:e=>Xe(l.value,a)},k(l.label),11,mw))],64)))),128))],512),g("div",pw,[O(g("div",fw,[y(s,{name:"custom:stop"}),g("span",xw,k(e.$t("paused")),1)],512),[[ce,x(we)]]),O((h(),C("span",{class:V(["flex items-center justify-center w-12px h-12px rounded-2px color-[--reverse-color] text-10px cursor-pointer",x(l).isClickKlineFilter?"bg-[--primary-color]":"bg-[--third-text] hover:bg-[--secondary-text]"]),onClick:a[0]||(a[0]=e=>x(l).isClickKlineFilter=!x(l).isClickKlineFilter)},[y(s,{name:"custom:chart"})],2)),[[c,e.$t(x(l).isClickKlineFilter?"clickChartHideFilter":"clickChartFilter")]])])]),x(pe).timestamp.length&&x(pe).timestamp[0]&&x(pe).timestamp[1]?(h(),p(rw,{key:0,timestamp:x(pe).timestamp,"onUpdate:timestamp":[a[1]||(a[1]=e=>x(pe).timestamp=e),Ve]},null,8,["timestamp"])):f("",!0),x(pe).markerAddress?(h(),C(A,{key:1},[x(se).loadingTxs||x(se).loadingLiq?(h(),C("div",hw,k(e.$t("loading")),1)):(h(),C(A,{key:1},[g("div",bw,[g("div",{innerHTML:e.$t("filterTip",{address:`<span class='color-#3F80F7'> ${x(pe).markerAddress.slice(0,4)}...${x(pe).markerAddress.slice(-4)} </span>`,count:`<span> ${(null==(t=x(xe)[0])?void 0:t.count)||0} </span>`})},null,8,gw),g("span",{class:"color-#3F80F7 decoration-underline cursor-pointer ml-2px",onClick:L(el,["stop"])},k(e.$t("filterCancel")),1)]),y(sw,{makerAddress:x(pe).markerAddress,isLiquidity:x(ae),pairLiq:x(ue),isBuy:Ue,getAmount:ze,getPrice:Oe,chain:x(Te).chain,tagType:x(pe).tag_type,tokenTxs:x(ie)},null,8,["makerAddress","isLiquidity","pairLiq","chain","tagType","tokenTxs"])],64))],64)):f("",!0),O((h(),C("div",kw,[y(d,{ref_key:"aveTableRef",ref:I,rowKey:"uuid",fixed:"",data:x(xe),columns:x(ne),style:$({height:`${x(E)}px`}),"row-class":"cursor-pointer",rowEventHandlers:{onMouseenter:()=>J.value=!0,onMouseleave:()=>J.value=!1,onClick:Je}},{empty:b((()=>[x(se).loadingTxs||x(se).loadingLiq?(h(),C("span",Cw)):(h(),C("div",_w,["light"===x(P).theme?(h(),C("img",yw)):(h(),C("img",ww)),g("span",Tw,k(x(o)("emptyNoData")),1)]))])),"header-time":b((()=>[g("div",Aw,[g("span",null,k(e.$t("time")),1),y(s,{name:""+(x(be).isShowDate?"custom:calendar":"custom:countdown"),class:"color-[--third-text] cursor-pointer",onClick:a[2]||(a[2]=L((e=>x(be).isShowDate=!x(be).isShowDate),["self"]))},null,8,["name"]),y(ny,{visible:x(ge).timestamp,"onUpdate:visible":a[3]||(a[3]=e=>x(ge).timestamp=e),modelValue:x(pe).timestamp,boundary:x(te)||void 0,onConfirm:Fe},null,8,["visible","modelValue","boundary"])])])),"cell-time":b((({row:e,rowIndex:l})=>[!x(be).isShowDate&&e.time&&Number(x(Se)(e.time,!0))<60?(h(),p(i,{key:`${e.time}${l}`,timestamp:e.time,"end-time":60},{default:b((({seconds:l})=>[g("span",Sw,[l<60?(h(),C(A,{key:0},[T(k(l)+"s ",1)],64)):(h(),C(A,{key:1},[T(k(x(Se)(e.time)),1)],64))])])),_:2},1032,["timestamp"])):(h(),C("span",Nw,k(x(be).isShowDate?x(le)(e.time,"HH:mm:ss"):x(Se)(e.time)),1))])),"cell-type":b((({row:l})=>[g("div",{class:V(Re(l))},[void 0!==l.type?(h(),C("span",$w,["removeLiquidity"==l.type?(h(),C(A,{key:0},[T(k(e.$t("removeLiq")),1)],64)):"addLiquidity"==l.type?(h(),C(A,{key:1},[T(k(e.$t("addLiq")),1)],64)):"CollectFee"==l.type?(h(),C(A,{key:2},[T(k(e.$t("CollectFee")),1)],64)):"CreatePair"==l.type?(h(),C(A,{key:3},[T(k(e.$t("CreatePair")),1)],64)):(h(),C(A,{key:4},[T(k(l.type),1)],64))])):Ue(l)?(h(),C("span",Fw,k(e.$t("buy")),1)):(h(),C("span",Iw,k(e.$t("sell")),1))],2)])),"header-swapPrice":b((()=>[g("div",Lw,[g("span",null,k(e.$t("swapPrice")),1)])])),"cell-swapPrice":b((({row:l})=>[void 0!==l.type?(h(),C(A,{key:0},[T("- -")],64)):(h(),C("div",{key:1,class:V(Re(l))}," $"+k(("formatNumber"in e?e.formatNumber:x(X))(Oe(l),4)),3))])),"cell-amountB":b((({row:l})=>[void 0===l.type?(h(),C("span",{key:0,class:V(Re(l))},k(("formatNumber"in e?e.formatNumber:x(X))(ze(l),2)),3)):(h(),C("div",Vw,[g("div",{class:V(Re(l))},[T(k(("formatNumber"in e?e.formatNumber:x(X))(l.amount0||0))+" ",1),g("span",Dw,k(l.token0_symbol),1)],2),g("div",{class:V(Re(l))},[T(k(("formatNumber"in e?e.formatNumber:x(X))(l.amount1||0))+" ",1),g("span",Mw,k(l.token1_symbol),1)],2)]))])),"header-amountU":b((()=>[g("div",Bw,[g("span",null,k(e.$t("amountU")),1),y(s,{name:"custom:price",class:V((x(l).isUSDT?"color-[--third-text]":"color-[--primary-color]")+" cursor-pointer"),onClick:a[4]||(a[4]=L((e=>x(l).isUSDT=!x(l).isUSDT),["self"]))},null,8,["class"]),y(uy,{visible:x(ge).amountU,"onUpdate:visible":a[5]||(a[5]=e=>x(ge).amountU=e),modelValue:x(pe).amountU,onConfirm:Ie},null,8,["visible","modelValue"])])])),"cell-amountU":b((({row:a})=>{var t,n;return[void 0===a.type?(h(),C("div",{key:0,class:V(`absolute h-full ${Qe(a)} opacity-15`),style:$(`width:${Math.min(ze(a,!0,!0)/("solana"===x(Te).chain?10:20),100)}%`)},null,6)):f("",!0),void 0===a.type?(h(),C("div",{key:1,class:V(`${Re(a)} w-full h-full flex items-center justify-end`)},[x(l).isUSDT?(h(),C(A,{key:0},[T(" $"+k(("formatNumber"in e?e.formatNumber:x(X))(ze(a,!0,!0),2)),1)],64)):(h(),C(A,{key:1},[T(k(("formatNumber"in e?e.formatNumber:x(X))(ze(a,!0,!1),3))+" ",1),g("span",Pw,"  "+k(null==(t=x(Ge)(a.chain))?void 0:t.main_name),1)],64))],2)):(h(),C("div",{key:2,class:V(Re(a))},[x(l).isUSDT?(h(),C(A,{key:0},[T(" $"+k(("formatNumber"in e?e.formatNumber:x(X))(a.amount0*a.token0_price_usd+a.amount1*a.token1_price_usd,2)),1)],64)):(h(),C(A,{key:1},[T(k(("formatNumber"in e?e.formatNumber:x(X))(a.amount0*a.token0_price_eth+a.amount1*a.token1_price_eth,2))+" ",1),g("span",Ew,k(null==(n=x(Ge)(a.chain))?void 0:n.main_name),1)],64))],2))]})),"header-makers":b((()=>[g("span",Uw,k(e.$t("makers")),1),y(vy,{visible:x(ge).markers,"onUpdate:visible":a[6]||(a[6]=e=>x(ge).markers=e),modelValue:x(pe).markerAddress,chain:x(Te).chain,onConfirm:Le},null,8,["visible","modelValue","chain"])])),"cell-makers":b((({row:a,rowIndex:t})=>[["solana","bsc"].includes(a.chain)&&(a.senderProfile||a.maker_bal)?(h(),C(A,{key:0},[We(a)?O((h(),p(s,{key:0,name:"custom:new-account",class:"mr-3px shrink-0"},null,512)),[[c,{content:`<span style='color: #85E12F'>${e.$t("newTokenAccount")}</span>`,props:{"raw-content":!0,"popper-class":"signal-tags-tooltip"}}]]):f("",!0),qe(a)?O((h(),p(s,{key:1,name:"custom:cleared-account",class:"mr-3px shrink-0"},null,512)),[[c,{content:`<span style='color: #EB2B4B'>${e.$t("sellAl")}</span>`,props:{"raw-content":!0,"popper-class":"signal-tags-tooltip"}}]]):f("",!0),Ye(a)?O((h(),p(s,{key:2,name:"custom:big",class:"mr-3px shrink-0"},null,512)),[[c,{content:`<span style='color: #ccc'>${e.$t("whales")}</span>`,props:{"raw-content":!0,"popper-class":"signal-tags-tooltip"}}]]):f("",!0)],64)):f("",!0),y(r,{tagClass:"mr-3px",tags:(a.newTags||[]).map((e=>x(N).matchTag(e.type)||e)),walletAddress:a.wallet_address,chain:a.chain},null,8,["tags","walletAddress","chain"]),(h(),C("div",{key:a.wallet_address,class:"flex items-center gap-4px"},[y(u,{remark:a.remark,address:a.wallet_address,addressClass:x(_e)&&x(ye).wallet_address===a.wallet_address?"bg-#12B88633":"",maxRemarkLength:8,chain:a.chain,wallet_logo:a.wallet_logo,class:"color-[--secondary-text]",mouseoverAddress:e=>function(e,l){var a;if(e&&en.includes(e.chain)){if(ke.value=l.currentTarget,(null==(a=ye.value)?void 0:a.wallet_address)===e.wallet_address)return;ye.value=e}}(a,e)},{default:b((()=>[a.count&&a.count>1?(h(),C("div",Rw," ("+k(a.count)+") ",1)):f("",!0)])),_:2},1032,["remark","address","addressClass","chain","wallet_logo","mouseoverAddress"]),y(s,{ref:e=>x(n).buttonRefs[t]=e,name:"custom:attention",class:V([1===a.is_wallet_address_fav?"color-[#F45469]":"color-[--third-text]","h-16px w-16px clickable shrink-0"]),onClick:L((e=>(async(e,a)=>{Z().currentAddress||q().changeConnectVisible(!0),Y().address&&!Y().walletSignature[Y().address]&&await Y().signMessageForFavorite(),1===e.is_wallet_address_fav?an({address:Z().currentAddress,user_address:e.wallet_address,user_chain:e.chain}).then((()=>{l.getFollowsNum(),oe.success(o("attention1Canceled")),xe.value.forEach((l=>{l.wallet_address===e.wallet_address&&(l.is_wallet_address_fav=0)})),gt(ie)})).catch((e=>{})).finally((()=>{})):Z().confirmAttention(n.value.buttonRefs[a],e.chain,(a=>ln({address:Z().currentAddress,user_address:e.wallet_address,user_chain:e.chain,group:a.group,is_monitored:a.is_monitored}).then((a=>(l.getFollowsNum(),xe.value.forEach((l=>{l.wallet_address===e.wallet_address&&(l.is_wallet_address_fav=1)})),gt(ie),Promise.resolve(a)))).catch((e=>Promise.reject(e)))))})(a,t)),["stop","prevent"])},null,8,["class","onClick"]),y(s,{name:"custom:filter",class:V((x(pe).markerAddress?"color-[--secondary-text]":"color-[--third-text]")+" cursor-pointer text-10px shrink-0"),onClick:L((e=>{return l=a.wallet_address,he.value={},pe.value.markerAddress=pe.value.markerAddress?"":l,void Ve();var l}),["self","stop"])},null,8,["class","onClick"])]))])),"cell-SOLBalance":b((({row:l})=>{var a;return[l.senderProfile?(h(),C("span",Hw,k(("formatNumber"in e?e.formatNumber:x(X))((null==(a=l.senderProfile)?void 0:a.solTotalHolding)||0,2)),1)):f("",!0)]})),"cell-DEX":b((({row:l})=>{var a,t;return[g("div",Ow,["unknown"===l.amm?O((h(),C("img",{key:0,class:"w-16px h-16px cursor-pointer rounded-full",src:x(Jt),alt:""},null,8,jw)),[[c,null==(a=("getSwapInfo"in e?e.getSwapInfo:x(Pe))(l.chain,l.amm))?void 0:a.show_name]]):O((h(),C("img",{key:1,class:"w-16px h-16px cursor-pointer rounded-full",src:("formatIconSwap"in e?e.formatIconSwap:x(Ee))(l.amm),alt:"",onClick:L((e=>Ke(l)),["stop","self"])},null,8,zw)),[[c,null==(t=("getSwapInfo"in e?e.getSwapInfo:x(Pe))(l.chain,l.amm))?void 0:t.show_name]]),y(s,{name:"custom:browser",class:"text-16px color-[--third-text] cursor-pointer",onClick:L((e=>Ke(l)),["stop","self"])},null,8,["onClick"])])]})),_:1},8,["data","columns","style","rowEventHandlers"]),y(Xy,{modelValue:x(_e),"onUpdate:modelValue":a[7]||(a[7]=e=>D(_e)?_e.value=e:null),"virtual-ref":x(ke),currentRow:x(ye),addressAndChain:x(Te)},{default:b((()=>[["solana","bsc"].includes(x(ye).chain)&&(x(ye).senderProfile||x(ye).maker_bal)?(h(),C(A,{key:0},[We(x(ye))?O((h(),p(s,{key:0,name:"custom:new-account",class:"mr-3px"},null,512)),[[c,`<span style='color: #85E12F'>${e.$t("newTokenAccount")}</span>`,void 0,{raw:!0}]]):f("",!0),qe(x(ye))?O((h(),p(s,{key:1,name:"custom:cleared-account",class:"mr-3px"},null,512)),[[c,`<span style='color: #EB2B4B'>${e.$t("sellAl")}</span>`,void 0,{raw:!0}]]):f("",!0),Ye(x(ye))?O((h(),p(s,{key:2,name:"custom:big"},null,512)),[[c,`<span style='color: #C5842B'>${e.$t("whales")}</span>`,void 0,{raw:!0}]]):f("",!0)],64)):f("",!0),y(r,{tagClass:"mr-3px",tags:x(ye).newTags,walletAddress:x(ye).wallet_address,chain:x(ye).chain},null,8,["tags","walletAddress","chain"])])),_:1},8,["modelValue","virtual-ref","currentRow","addressAndChain"])])),[[v,x(se).loadingTxs||x(se).loadingLiq]])],512)}}}),[["__scopeId","data-v-d541dfe2"]]),qw={key:0,class:"flex flex-col items-center justify-center py-30px"},Yw={key:0,src:ae},Gw={key:1,src:te},Qw={key:1},Kw=["onClick"],Zw={class:"icon-token-container mr-5px"},Xw={class:"relative"},Jw=["src"],eT=["src"],lT=["src"],aT={class:"text-[var(--d-eaecef-l-333333)] text-13px"},tT={class:"flex flex-row-reverse"},nT={class:"flex items-center"},oT={key:0,class:"text-13px text-[#F6465D] text-center px-5px py-2px rounded-4px",style:{background:"rgba(246, 70, 93, 0.10)"}},sT={key:1,class:"text-13px text-[#12B886] text-center px-5px py-2px rounded-4px",style:{background:"rgba(18, 184, 134, 0.10)"}},iT={key:0,class:"text-[--secondary-text]"},rT={key:1},uT={class:"text-[--secondary-text]"},dT={class:"text-[--secondary-text]"},cT={class:"text-[--secondary-text] text-right"},vT={key:0,class:"text-[--secondary-text]"},mT={key:1,class:"text-[--secondary-text]"},pT={key:2,class:"text-[--secondary-text]"},fT={key:3,class:"text-[--secondary-text]"},xT={class:"color-[--third-text]"},hT={class:"color-[--third-text]"},bT=["onClick"],gT={key:1},kT=B(s({__name:"unified",props:{chain:{type:String,required:!0},currentToken:{type:Boolean,required:!0},userAddress:{type:String,required:!0}},setup(e,{expose:l}){const{formatUnits:a}=on,t=e,n=q(),o=W(),s=r(),u=tn(),{mode:_}=G(j()),{t:S}=i(),N=ve(),$=U({swapType:["buy","sell"],statusType:["waiting","confirmed","error","cancelled","sent"]}),F=U([]),I=U(!1),D=d((()=>Math.max(o.commonHeight-260,450)));m([()=>t.currentToken,()=>t.userAddress||"",()=>null==o?void 0:o.placeOrderUpdate],(()=>{H()}));const M=pe("updateLimitOrder").on((e=>{e===t.chain&&H()}));function B(e){const l={1:S("buy"),2:S("sell"),3:S("limitBuy1"),4:S("limitSell1"),5:`${S("limit")}/${S("buy")}`,6:`${S("limit")}/${S("sell")}`,7:S("followBuy"),8:S("followSell"),12:S("trailingStop"),13:S("listingOnDex"),14:S("devSell")};return l[e]?l[e]:""}function P(e){return 1===e||5===e||7===e}de((()=>{M&&M()}));function E(e){"all"===e?$.value.swapType=["buy","sell"]:"5"===e?$.value.swapType=["buy"]:"6"===e&&($.value.swapType=["sell"]),H()}function R(e){const l=P(e.swapType)?e.outTokenAddress:null==e?void 0:e.inTokenAddress;l&&u.push(`/token/${l}-${e.chain}`)}const H=async e=>{var l,a,i;I.value=!0;const r=e||t.chain;try{if(!n.accessToken)return;const e={chain:r,token:t.currentToken?null==(l=c(s.params.id))?void 0:l.address:"",walletAddress:t.userAddress||(null==(i=null==(a=n.userInfo)?void 0:a.addresses.find((e=>e.chain===r)))?void 0:i.address)||""};if(!e.walletAddress||!e.chain)return;const u=await nn({...e});F.value=u||[],1===$.value.swapType.length&&("buy"===$.value.swapType[0]&&(F.value=F.value.filter((e=>P(e.swapType)))),"sell"===$.value.swapType[0]&&(F.value=F.value.filter((e=>!P(e.swapType))))),o.registrationNum=F.value.length}catch(u){}finally{I.value=!1}};return v((()=>{H()})),l({txOrder:F,getUserPendingTx:H}),(e,l)=>{var n;const o=ge,s=co,i=w,r=eo,d=Jn,c=Xn,v=uo,m=Ce;return h(),C("div",null,[O((h(),p(v,{data:F.value,fit:"",stripe:"",height:x(D),"row-class-name":"text-12px","header-row-class-name":"text-12px",style:{width:"100%"},onRowClick:R},{empty:b((()=>[I.value?(h(),C("span",Qw)):(h(),C("div",qw,["light"===x(_)?(h(),C("img",Yw)):f("",!0),"dark"===x(_)?(h(),C("img",Gw)):f("",!0),g("span",null,k(x(S)("emptyNoData")),1)]))])),default:b((()=>[y(s,{label:x(S)("token"),align:"left"},{default:b((({row:l})=>[g("div",{class:"flex items-center justify-start",onClick:e=>(e=>{const l=P(e.swapType)?e.outTokenAddress:null==e?void 0:e.inTokenAddress;l&&u.push(`/token/${l}-${e.chain}`)})(l)},[g("div",Zw,[g("div",Xw,[y(o,{class:"w-32px h-32px rounded-full",src:("getSymbolDefaultIcon"in e?e.getSymbolDefaultIcon:x(be))({chain:null==l?void 0:l.chain,symbol:P(l.swapType)?l.outTokenSymbol:null==l?void 0:l.inTokenSymbol,logo_url:P(l.swapType)?l.outTokenLogoUrl:null==l?void 0:l.inTokenLogoUrl})},{error:b((()=>[g("img",{class:"w-32px h-32px",src:x(ke)(null==l?void 0:l.chain,P(l.swapType)?l.outTokenSymbol:null==l?void 0:l.inTokenSymbol),alt:"",srcset:""},null,8,Jw)])),placeholder:b((()=>[g("img",{class:"w-32px h-32px",src:x(ke)(null==l?void 0:l.chain,P(l.swapType)?l.outTokenSymbol:null==l?void 0:l.inTokenSymbol),alt:"",srcset:""},null,8,eT)])),_:2},1032,["src"]),(null==l?void 0:l.chain)?(h(),C("img",{key:0,class:"w-12px h-12px absolute bottom-3px right-0 rd-50%",src:`${x(N).token_logo_url}chain/${l.chain}.png`,alt:"",srcset:""},null,8,lT)):f("",!0)])]),g("span",aT,k(P(l.swapType)?l.outTokenSymbol:null==l?void 0:l.inTokenSymbol),1)],8,Kw)])),_:1},8,["label"]),y(s,{label:x(S)("type"),align:"right",prop:"isBuy"},{header:b((()=>[g("div",tT,[g("div",nT,[g("div",null,k(x(S)("type")),1),y(c,{trigger:"click",onCommand:E},{dropdown:b((()=>[y(d,null,{default:b((()=>[y(r,{command:"all"},{default:b((()=>[T(k(x(S)("all")),1)])),_:1}),y(r,{class:V([1===$.value.swapType.length&&"buy"===$.value.swapType[0]&&"active-dropdown-item"]),command:"5"},{default:b((()=>[T(k(x(S)("limitBuy")),1)])),_:1},8,["class"]),y(r,{class:V([1===$.value.swapType.length&&"sell"===$.value.swapType[0]&&"active-dropdown-item"]),command:"6"},{default:b((()=>[T(k(x(S)("limitSell")),1)])),_:1},8,["class"])])),_:1})])),default:b((()=>{var e;return[y(i,{name:"custom:filter",class:V([[1===(null==(e=$.value.swapType)?void 0:e.length)&&"color-#286DFF"],"color-[--third-text] cursor-pointer text-10px"])},null,8,["class"])]})),_:1})])])])),default:b((({row:e})=>[P(e.swapType)?(h(),C("div",sT,k(B(e.swapType)),1)):(h(),C("div",oT,k(B(e.swapType)),1))])),_:1},8,["label"]),y(s,{label:x(S)("price"),align:"right"},{header:b((()=>[g("span",null,k(x(S)("price")),1)])),default:b((({row:e})=>[13!==e.swapType&&14!==e.swapType?(h(),C("span",iT,"$"+k(x(X)((null==e?void 0:e.PriceLimit)||0)),1)):(h(),C("span",rT,"--"))])),_:1},8,["label"]),y(s,{label:x(S)("volume4"),align:"right"},{default:b((({row:e})=>[g("span",uT,"$"+k(x(X)(Number(null==e?void 0:e.inValue)||0,2)),1)])),_:1},8,["label"]),y(s,{label:x(S)("amount1"),align:"right"},{header:b((()=>[g("span",null,k(x(S)("amountB")),1)])),default:b((({row:e})=>[g("span",dT,[g("span",cT,[P(e.swapType)?(h(),C(A,{key:1},[T(k(Number(null==e?void 0:e.outputAmount)?x(X)(x(a)(new(x(Be))((null==e?void 0:e.outAmount)||0).toFixed(0),e.outTokenDecimals||0),4):"--")+" "+k(Number(null==e?void 0:e.outputAmount)?null==e?void 0:e.outTokenSymbol:""),1)],64)):(h(),C(A,{key:0},[T(k(Number(null==e?void 0:e.inAmount)?x(X)(x(a)(new(x(Be))((null==e?void 0:e.inAmount)||0).toFixed(0),e.inTokenDecimals||0),4):"--")+" "+k(Number(null==e?void 0:e.inAmount)?null==e?void 0:e.inTokenSymbol:""),1)],64))])])])),_:1},8,["label"]),y(s,{label:x(S)("status"),align:"right"},{header:b((()=>[g("span",null,k(x(S)("status")),1)])),default:b((({row:e})=>["confirmed"===e.status?(h(),C("span",vT,k(x(S)("completed")),1)):"cancelled"===e.status?(h(),C("span",mT,k(x(S)("cancelled1")),1)):"sent"===e.status?(h(),C("span",pT,k(x(S)("sent")),1)):"waiting"===e.status?(h(),C("span",fT,k(x(S)("pendingOrder")),1)):f("",!0)])),_:1},8,["label"]),y(s,{label:x(S)("CreateTime"),align:"right"},{default:b((({row:e})=>[g("span",xT,k(x(le)(e.createTime,"YYYY/MM/DD HH:mm")),1)])),_:1},8,["label"]),y(s,{label:x(S)("ExpirationTime"),align:"right"},{default:b((({row:e})=>[g("span",hT,k(x(le)(new Date(e.createTime).getTime()+6048e5,"YYYY/MM/DD HH:mm")),1)])),_:1},8,["label"]),y(s,{label:x(S)("operate"),align:"right"},{default:b((({row:e})=>["waiting"===e.status?(h(),C("div",{key:0,class:"text-[#F6465D] text-14px cursor-pointer",onClick:L((l=>function(e){se.confirm(S("botCancelOrder"),"",{confirmButtonText:S("confirm"),cancelButtonText:S("cancel")}).then((async()=>{await sn({chain:t.chain,batchId:e.batchId}),H(),pe("updateKlineLimitLine").emit()})).catch((()=>{}))}(e)),["stop"])},k(x(S)("cancel")),9,bT)):(h(),C("div",gT," - "))])),_:1},8,["label"])])),_:1},8,["data","height"])),[[m,I.value&&!(null==(n=F.value)?void 0:n.length)]])])}}}),[["__scopeId","data-v-9d177e81"]]),_T={class:"ml-20px flex items-center clickable"},yT={class:"text-12px color-[--main-text] mx-3px whitespace-nowrap"},wT={class:"text-10px color-[--third-text]"},TT=["src"],CT={class:"text-12px color-[--main-text]"},AT={class:"color-[--third-text] text-12px max-h-500px overflow-y-auto"},ST={class:"px-12px"},NT=["onClick"],$T={class:"flex justify-between flex-1 clickable"},FT={class:"text-12px lh-14px inline-block"},IT={class:"color-[--main-text] flex"},LT={class:"color-[--third-text] flex items-center"},VT={class:"ml-auto lh-14px inline-flex items-center color-[--main-text] text-12px justify-end"},DT=["src"],MT=B(s({__name:"selectWallet",props:{chain:{type:String,default:""},boundary:{type:HTMLElement,default:null}},setup(e,{expose:l}){const a=ve(),t=W(),n=q(),o=U(!1),s=U(n.evmAddress||""),i=d((()=>s.value||n.evmAddress)),r=d((()=>{var e,l;return null==(l=null==(e=n.walletList)?void 0:e.find)?void 0:l.call(e,(e=>e.evmAddress===i.value))}));function u(e,l){var a;return null==(a=null==l?void 0:l.find)?void 0:a.call(l,(l=>(null==l?void 0:l.chain)===e))}function c(e,l,a){var t,n,o,s,i;return(null==(t=sl)?void 0:t.includes(a||""))||!a?(null==(n=u(e,l))?void 0:n.balance)||0:(null==(i=null==(s=null==(o=u(e,l))?void 0:o.tokenBalances)?void 0:s[a])?void 0:i.balance)||0}return m((()=>n.evmAddress),(()=>{s.value=n.evmAddress})),l({evmAddress:i}),(l,i)=>{const d=w,v=ho,m=xo,f=M,_=H("copy");return h(),p(f,{visible:x(o),"onUpdate:visible":i[2]||(i[2]=e=>D(o)?o.value=e:null),placement:"bottom",width:"305",trigger:"click","popper-class":"[&&]:[--el-popover-padding:0]","popper-options":{modifiers:[{name:"preventOverflow",options:{boundary:e.boundary,padding:0}}]}},{reference:b((()=>{var v,m,p,f,h,b,w,T,C,A,S;return[g("div",_T,[y(d,{name:"ri:wallet-fill",class:"color-[--secondary-text] text-14px"}),g("span",yT,k((null==(m=null==(v=x(n).walletList)?void 0:v.find((e=>e.evmAddress===x(s))))?void 0:m.name)||(null==(p=x(n).userInfo)?void 0:p.name)||""),1),g("span",wT,k(null==(b=null==(h=u(e.chain,(null==(f=x(r))?void 0:f.addresses)||[]))?void 0:h.address)?void 0:b.replace(new RegExp("(.{6})(.+)(.{4})"),"$1...$3")),1),O(y(d,{name:"bxs:copy",class:"clickable ml-5px text-12px color-[--third-text]"},null,512),[[_,null==(T=u(e.chain,(null==(w=x(r))?void 0:w.addresses)||[]))?void 0:T.address]]),i[3]||(i[3]=g("div",{class:"border-l-solid border-l-1px border-l-[--icon-color] h-8px mx-8px"},null,-1)),g("img",{src:`${x(a).token_logo_url}token_icon/${e.chain}/${(null==(C=("getChainInfo"in l?l.getChainInfo:x(Ge))(e.chain))?void 0:C.wmain_wrapper)||""}.png`,class:"rd-50% mr-2px",height:"12",alt:"",srcset:""},null,8,TT),g("span",CT,k(("formatNumber"in l?l.formatNumber:x(X))(c(e.chain,(null==(A=x(r))?void 0:A.addresses)||[],null==(S=x(t).swap.native)?void 0:S.address)||0)),1),y(d,{name:"prime:sort-down-fill",class:V(["color-[--main-text] text-14px transition-all-300",{"rotate-180":x(o)}])},null,8,["class"])])]})),default:b((()=>[g("div",AT,[g("div",ST,[y(m,{modelValue:x(s),"onUpdate:modelValue":i[1]||(i[1]=e=>D(s)?s.value=e:null),class:"w-100%"},{default:b((()=>{var r,m;return[(h(!0),C(A,null,S(null==(m=null==(r=x(n))?void 0:r.walletList)?void 0:m.toSorted((e=>e.evmAddress===x(n).evmAddress?-1:1)),((r,m)=>{var p,f,b,w,T,A;return h(),C("div",{key:r.evmAddress,class:V(["flex items-center h-50px w-100%",{"b-b-solid b-b-1px b-b-[--border]":m!==(null==(p=x(n))?void 0:p.walletList.length)-1}]),onClick:L((e=>{s.value=r.evmAddress,o.value=!1}),["stop"])},[y(v,{class:"[&&]:[--el-checkbox-disabled-checked-icon-color:#FFF] [&&]:[--el-checkbox-disabled-checked-input-fill:#3F80F7] [&&]:[--el-checkbox-disabled-checked-input-border-color:#3F80F7] batch-checkbox",value:r.evmAddress},null,8,["value"]),g("div",$T,[g("div",FT,[g("div",IT,k(r.name),1),g("div",LT,[g("span",null,k(null==(b=null==(f=u(e.chain,r.addresses))?void 0:f.address)?void 0:b.replace(new RegExp("(.{6})(.+)(.{4})"),"$1...$3")),1),O(y(d,{name:"bxs:copy",class:"clickable ml-5px text-12px",onClick:i[0]||(i[0]=L((()=>{}),["stop"]))},null,512),[[_,null==(w=u(e.chain,r.addresses))?void 0:w.address]])])]),g("div",VT,[g("img",{src:`${x(a).token_logo_url}token_icon/${e.chain}/${(null==(T=("getChainInfo"in l?l.getChainInfo:x(Ge))(e.chain))?void 0:T.wmain_wrapper)||""}.png`,class:"rd-50% mr-2px",height:"12",alt:"",srcset:""},null,8,DT),g("span",null,k(("formatNumber"in l?l.formatNumber:x(X))(c(e.chain,r.addresses,null==(A=x(t).swap.payToken)?void 0:A.address)||0)),1)])])],10,NT)})),128))]})),_:1},8,["modelValue"])])])])),_:1},8,["visible","popper-options"])}}}),[["__scopeId","data-v-b5e3ee7b"]]),BT={ref:"myOrders"},PT={class:"px-12px mb-10px flex justify-between"},ET={class:"flex items-center whitespace-nowrap w-[80%] overflow-x-auto scrollbar-hide"},UT=["onClick"],RT={class:"flex items-center gap-3px"},HT=s({__name:"index",props:{currentActiveTab:{type:String,required:!0}},setup(e){const l=e;W();const a=q(),{t:t}=i(),n=r(),o=je(),s=U(),u=U("solana"),c=U(!1),b=Sl("myOrders"),_=d((()=>{var e;return[...(null==(e=a.userInfo)?void 0:e.addresses)||[]].sort(((e,l)=>"solana"===e.chain?-1:"solana"===l.chain?1:"bsc"===e.chain?-1:"bsc"===l.chain?1:0))})),w=Sl("selectWallet"),T=d((()=>{var e,l,t,n,o,s,i,r;if(null==(e=w.value)?void 0:e.evmAddress)return(null==(i=null==(s=null==(o=null==(n=null==(t=null==(l=null==a?void 0:a.walletList)?void 0:l.find)?void 0:t.call(l,(e=>{var l;return e.evmAddress===(null==(l=w.value)?void 0:l.evmAddress)})))?void 0:n.addresses)?void 0:o.find)?void 0:s.call(o,(e=>e.chain===u.value)))?void 0:i.address)||"";const d=null==(r=a.userInfo)?void 0:r.addresses.find((e=>e.chain===u.value));return(null==d?void 0:d.address)||""}));function N(){var e,l;(null==(l=null==(e=s.value)?void 0:e.txOrder)?void 0:l.length)&&se.confirm(t("botCancelAllOrder"),"",{confirmButtonText:t("confirm"),cancelButtonText:t("cancel")}).then((async()=>{await rn({chain:u.value}),s.value.getUserPendingTx(),pe("updateKlineLimitLine").emit()})).catch((()=>{}))}return m((()=>l.currentActiveTab),(()=>{if("Orders"===l.currentActiveTab){const e=String(n.params.id).split("-")[1];_.value.find((l=>(null==l?void 0:l.chain)===e))&&(u.value=e),R((()=>{s.value.getUserPendingTx(u.value)}))}})),m([()=>n.params.id,()=>{var e;return null==(e=o.wsResult)?void 0:e.tgbot}],(()=>{const e=String(n.params.id).split("-")[1];_.value.find((l=>(null==l?void 0:l.chain)===e))&&(u.value=e),R((()=>{s.value.getUserPendingTx(u.value)}))})),v((()=>{const e=String(n.params.id).split("-")[1];_.value.find((l=>(null==l?void 0:l.chain)===e))&&(u.value=e)})),(e,l)=>{var n,o,i,r;const d=tl;return h(),C("div",BT,[g("div",PT,[g("div",ET,[(h(!0),C(A,null,S(_.value,(e=>(h(),C("a",{key:e.chain,href:"javascript:;",class:V("decoration-none shrink-0 text-12px lh-16px text-center px-12px py-4px rounded-4px "+(u.value===e.chain?"bg-[--border] color-[--main-text]":"color-[--third-text]")),onClick:l=>{return a=e.chain,u.value=a,void R((()=>{s.value.getUserPendingTx(u.value)}));var a}},k(x(Ge)(e.chain).name),11,UT)))),128))]),g("div",RT,[y(d,{modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=e=>c.value=e),label:x(t)("currentToken"),size:"small",style:{"font-size":"12px",color:"var(--third-text)"}},null,8,["modelValue","label"]),g("button",{style:$({background:(null==(o=null==(n=s.value)?void 0:n.txOrder)?void 0:o.length)>0?"rgba(246, 70, 93, 0.10)":"var(--border)"}),class:V(["h-6 text-xs rounded border-0 px-2.5 cursor-pointer text-[--third-text] whitespace-nowrap",[(null==(r=null==(i=s.value)?void 0:i.txOrder)?void 0:r.length)>0&&"!text-[#F6465D]"]]),onClick:N},k(x(t)("cancelAll")),7)]),x(a).evmAddress?(h(),p(MT,{key:0,ref:"selectWallet",chain:u.value,boundary:x(b)},null,8,["chain","boundary"])):f("",!0)]),y(kT,{ref_key:"unifiedRef",ref:s,chain:u.value,currentToken:c.value,userAddress:T.value},null,8,["chain","currentToken","userAddress"])],512)}}}),OT={class:"flex mt--12px relative"},jT=["infinite-scroll-disabled"],zT={class:"text-12px mt-10px color-[--third-text]"},WT={key:0,src:Yn,alt:""},qT={key:1,src:Gn,alt:""},YT={class:"text-12px text-center color-[--third-text] pb-10px"},GT={key:0},QT={key:1},KT={class:"border-l-1px border-l-solid border-l-[--main-divider] p-20px box-border w-298px responsive"},ZT={class:"text-16px color-[--secondary-text] lh-16px mb-16px"},XT={class:"flex items-center gap-6px color-[--secondary-text] text-12px mb-8px"},JT={class:"color-[--third-text] text-12px"},eC={class:"justify-between flex"},lC={class:"color-[--secondary-text] text-12px mb-8px mr-6px"},aC={class:"color-[--third-text] text-12px"},tC={class:"flex gap-4px color-[--secondary-text] text-12px mb-8px"},nC={class:"color-[--third-text] text-12px"},oC={class:"flex gap-4px color-[--secondary-text] text-12px"},sC={class:"color-[--third-text] text-12px"},iC={class:"font-bold text-24px lh-30px color-[--main-text] mb-4px"},rC={class:"color-[--third-text] text-12px"},uC={class:"text-16px lh-16px color-[--secondary-text] mb-8px"},dC={class:"flex gap-4px color-[--secondary-text] text-12px mb-8px"},cC={class:"color-[--third-text] text-12px"},vC={class:"flex gap-4px color-[--secondary-text] text-12px mb-8px"},mC={class:"color-[--third-text] text-12px"},pC=B(s({__name:"index",setup(e){const{t:l}=i(),a=W(),t=d((()=>a.token)),n=U({}),o=U([]),s=U(1),u=U(20),c=U(!1),v=U(!1),_=U(!1),A=re("conditions_dev_tokens",{sort:"created_at",sort_dir:"desc"}),S=U({});let N=null;const $=r(),F=d((()=>$.params.id)),I=d((()=>Math.max(a.commonHeight-260,450))),L=()=>{o.value=[],s.value=1,u.value=5,c.value=!1,v.value=!1,_.value=!1};m((()=>$.params.id),(e=>{e&&(L(),N&&clearTimeout(N),D())}));const V=({prop:e,order:l})=>{var a;L();const t=null==(a=null==l?void 0:l.replace)?void 0:a.call(l,"ending","");A.value.sort=e,A.value.sort_dir=t,D()};async function D(){var e;if(!c.value){c.value=!0;try{const l={token_id:F.value,pageNO:s.value,pageSize:u.value},i=await zn(l),{dev_address:r,total_migrated:d,total_non_migrated:c,total_tokens:m}=i;1===s.value&&(o.value=[],async function(e){var l;const t=null==(l=a.token)?void 0:l.chain,n=await qe({chain:t,walletAddress:e,tokens:[un(t)]});S.value=n[0]||{balance:0}}(r)),n.value={dev_address:r,total_migrated:d,total_non_migrated:c,total_tokens:m},a.devTokenNum=m||0;const p=(null==(e=null==i?void 0:i.infos)?void 0:e.map((e=>{var l;return{...e,chain:null==(l=t.value)?void 0:l.chain,createdAt:"1970-01-01T00:00:00Z"!==(null==e?void 0:e.created_at)&&"0001-01-01T00:00:00Z"!==(null==e?void 0:e.created_at)?new Date(e.created_at).getTime()/1e3:0}})))||[];o.value.push(...p),p.length<u.value?(v.value=!0,_.value=!0,N&&clearTimeout(N),N=setTimeout((()=>{_.value=!1}),3e3)):s.value++}catch(l){o.value=[],v.value=!0}finally{c.value=!1}}}function M(){window.open(`https://x.com/search?q=${n.value.dev_address}`)}function B(){var e;window.open(ee(null==(e=t.value)?void 0:e.chain,n.value.dev_address||"","address"))}return D(),de((()=>{N&&clearTimeout(N)})),(e,i)=>{var r,d,m,N,$,F,L;const P=co,E=uo,U=w,R=Qn,j=H("tooltip"),z=ft,W=H("copy");return h(),C("div",OT,[O((h(),C("div",{class:"pt-12px flex-1 min-w-0","infinite-scroll-disabled":x(c)||x(v),"infinite-scroll-distance":20,"infinite-scroll-delay":200,"infinite-scroll-immediate":!1},[y(E,{ref:"table_ref",height:x(I),data:x(o),"default-sort":{prop:x(A).sort,order:x(A).sort_dir?x(A).sort_dir+"ending":null},fit:"","header-row-class-name":"text-12px","row-class-name":"cursor-pointer color-[--secondary-text] text-12px",onSortChange:V},{empty:b((()=>[x(c)?f("",!0):(h(),p(xt,{key:0,class:"table-empty"},{default:b((()=>[g("span",zT,k(e.$t("emptyNoData")),1)])),_:1}))])),default:b((()=>[y(qn,{subImgKey:"issue_platform","column-props":{label:e.$t("walletToken"),width:"170",fixed:"left"}},null,8,["column-props"]),y(P,{align:"right",width:100,sortable:"custom","sort-orders":["descending","ascending",null],label:e.$t("time"),prop:"created_at"},{default:b((({row:l})=>[O((h(),C("span",null,[T(k(("formatTimeFromNow"in e?e.formatTimeFromNow:x(Se))(x(tt)(l.created_at).unix())),1)])),[[j,x(tt)(l.created_at).format("YYYY-MM-DD HH:mm:ss")]])])),_:1},8,["label"]),y(P,{width:80,align:"right",label:e.$t("migrated1")},{default:b((({row:e})=>[e.migrated?(h(),C("img",WT)):(h(),C("img",qT))])),_:1},8,["label"]),y(P,{align:"right",sortable:"custom","sort-orders":["descending","ascending",null],label:e.$t("walletMarketCap"),prop:"market_cap"},{default:b((({row:l})=>[T(" $"+k(("formatNumber"in e?e.formatNumber:x(X))(l.market_cap,2)),1)])),_:1},8,["label"]),y(P,{align:"right",sortable:"custom","sort-orders":["descending","ascending",null],label:e.$t("allTimeHigh"),prop:"all_time_high"},{default:b((({row:l})=>[T(" $"+k(("formatNumber"in e?e.formatNumber:x(X))(l.all_time_high,2)),1)])),_:1},8,["label"]),y(P,{align:"right",label:e.$t("holders")},{default:b((({row:l})=>[T(k(("formatNumber"in e?e.formatNumber:x(X))(l.holders||0,2)),1)])),_:1},8,["label"]),y(P,{align:"right",label:e.$t("volumeOneHour")},{default:b((({row:l})=>[T(k(("formatNumber"in e?e.formatNumber:x(X))(l.volume_u_1h||0,2)),1)])),_:1},8,["label"])])),_:1},8,["height","data","default-sort"]),g("div",YT,[x(c)&&x(s)>1?(h(),C("span",GT,k(e.$t("loading")),1)):f("",!0),x(_)&&x(s)>1&&(null==(r=x(o))?void 0:r.length)>x(u)?(h(),C("span",QT,k(e.$t("noMore")),1)):f("",!0)])],8,jT)),[[z,D]]),g("div",KT,[g("div",ZT,k(x(l)("tokenStatistics")),1),g("div",XT,[g("span",JT,k(x(l)("dev3"))+":",1),T(" "+k(x(n).dev_address?x(n).dev_address.slice(0,4)+"..."+x(n).dev_address.slice(-4):"--")+"("+k(("formatNumber"in e?e.formatNumber:x(X))(x(S).balance,4))+k(x(S).name)+") ",1),O(y(U,{name:"bxs:copy",class:"text-12px ml-2px cursor-pointer color-[--secondary-text]"},null,512),[[W,x(n).dev_address]]),y(U,{name:"custom:search",class:"text-[--third-text] text-16px cursor-pointer hover:text-[--main-text]",onClick:M}),y(U,{name:"solana"===(null==(d=x(t))?void 0:d.chain)?"custom:sol":"custom:evm",class:"text-[--third-text] text-16px cursor-pointer hover:text-[--main-text]",onClick:B},null,8,["name"])]),g("div",eC,[g("div",null,[g("div",lC,[g("span",aC,k(x(l)("totalTokens"))+":",1),T(" "+k(x(n).total_tokens??0),1)]),g("div",tC,[i[0]||(i[0]=g("span",{class:"w-12px h-12px rounded-2px bg-[--up-color]"},null,-1)),g("span",nC,k(x(l)("migrated"))+":",1),T(" "+k(x(n).total_migrated??0),1)]),g("div",oC,[i[1]||(i[1]=g("span",{class:"w-12px h-12px rounded-2px bg-[--down-color]"},null,-1)),g("span",sC,k(x(l)("notMigrated"))+":",1),T(" "+k(x(n).total_non_migrated??0),1)])]),y(R,{width:120,style:{"--el-fill-color-light":"var(--down-color)"},color:"var(--up-color)","stroke-width":10,type:"circle",percentage:Number(((null==(m=x(n))?void 0:m.total_migrated)||0)/((null==(N=x(n))?void 0:N.total_tokens)||1)*100)||0},{default:b((({percentage:a})=>[g("div",iC,k(("formatNumber"in e?e.formatNumber:x(X))(a,1))+"%",1),g("div",rC,k(x(l)("migrated")),1)])),_:1},8,["percentage"])]),g("div",uC,k(x(l)("highestRecord")),1),g("div",dC,[g("span",cC,k(x(l)("historyHighestMarketCap"))+":",1),T(" $"+k(("formatNumber"in e?e.formatNumber:x(X))((null==($=x(a).bestToken)?void 0:$.all_time_high)||0,2)),1)]),g("div",vC,[g("span",mC,k(x(l)("latestToken"))+":",1),O((h(),C("span",null,[T(k(("formatTimeFromNow"in e?e.formatTimeFromNow:x(Se))(null==(F=x(a).bestToken)?void 0:F.created_at))+" "+k(x(l)("ago")),1)])),[[j,x(tt)(null==(L=x(a).bestToken)?void 0:L.created_at).format("YYYY-MM-DD HH:mm:ss")]])])])])}}}),[["__scopeId","data-v-0855e435"]]),fC={class:"ml-5px"},xC={class:"fixed-one-click"},hC={class:"flex-between"},bC={class:"flex-start"},gC={class:"content"},kC={class:"flex-between mt-10px"},_C={class:"tabs-1 ml-5px mr-auto"},yC=["onClick"],wC={key:0,class:"mr-5px"},TC={class:"color-[--secondary-text]"},CC={class:"mt-10px tabs"},AC={class:"flex-between mt-10px"},SC={class:"tabs-1 ml-5px mr-auto"},NC=["onClick"],$C={key:0,class:"mr-5px"},FC={class:"color-[--secondary-text]"},IC={class:"mt-10px tabs"},LC=B(s({__name:"oneClick",setup(e){const a=q(),t=W(),o=ll(),s=nl(),{botSettings:u}=G(o),_=je(),N=r(),{t:$}=i(),F=U([!1,!1,!1,!1,!1]),I=U([!1,!1,!1,!1,!1]),D=ue("oneClickVisible",!1),M=U(!1),B=ue("isEnableHotkey",!1),P=ue("isEnablePnL",!0),E=ue("isEnableShowsReflected",!1),{getTokenBalance:R,updateBalanceFromWs:j}=Cm(),Y=d((()=>{var e,l,a;return(null==(l=c(null==(e=N.params)?void 0:e.id))?void 0:l.chain)||(null==(a=t.token)?void 0:a.chain)})),Q=d((()=>{var e,l;return(null==(l=null==(e=o.botSettings)?void 0:e[Y.value])?void 0:l.selected)||"s1"}));function K(){var e,l,a;return(null==(l=c(null==(e=N.params)?void 0:e.id))?void 0:l.chain)||(null==(a=t.token)?void 0:a.chain)||""}const Z=d((()=>{var e,l;const a=K();return(null==(l=null==(e=s.mainTokensPrice)?void 0:e.find((e=>{var l;return e.chain===a&&e.token===(null==(l=Ge(a))?void 0:l.wmain_wrapper)})))?void 0:l.current_price_usd)||t.swap.native.price||0})),J=d((()=>{var e;return t.price||(null==(e=t.swap.token)?void 0:e.price)||0})),ee=U(""),le=U(""),ae=d((()=>new Be(ee.value||0).times(Z.value).div(J.value).toFixed())),te=d((()=>new Be(le.value||0).times(J.value).div(Z.value).toFixed()));async function ne(e,l,i=0){var r,u,d,c,v,p,f,x,h,b,g,k;if(!(null==(r=a.userInfo)?void 0:r.evmAddress)||!a.accessToken)return void a.changeConnectVisible(!0);const y="buy"==l;if(y){if(null==(u=F.value)?void 0:u.some((e=>e)))return}else if(null==(d=I.value)?void 0:d.some((e=>e)))return;if(new Be(e||0).lte(0))return void n({title:"Error",type:"error",message:$("amountMustG0")});const w=y?t.swap.native:t.swap.token,T=y?t.swap.token:t.swap.native,C=(null==(c=new Be(e||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${(null==w?void 0:w.decimals)||18}})?`)))?void 0:c[0])||"";if((Number(C)||0)<=0)return void n({title:"Error",type:"error",message:$("amountTooSmall")});if(new Be(C||0).gt((null==w?void 0:w.balance)||0))return void n({title:"Error",type:"error",message:$("insufficientBalance")});y?F.value[i]=!0:I.value[i]=!0;const A=K(),S={solana:"sol",ton:"TON"},N=(null==S?void 0:S[A])||Ye,L=null==(x=null==(f=null==(p=null==(v=a.userInfo)?void 0:v.addresses)?void 0:p.find)?void 0:f.call(p,(e=>(null==e?void 0:e.chain)===A)))?void 0:x.address;if("solana"===A||"ton"===A){const e=null==(b=null==(h=o.botSettings)?void 0:h[A])?void 0:b[l],a=null==e?void 0:e.selected,r=null==e?void 0:e[a],u=null==r?void 0:r.mev,d=(null==r?void 0:r.slippage)||"9",{gasTip1List:c,gasTip2List:v}=ol(s.gasTip,A),p=u?c:v,f=u?null==r?void 0:r.gas[0]:null==r?void 0:r.gas[1];let x=(null==f?void 0:f.customFee)||(null==p?void 0:p[null==f?void 0:f.level])||"0.002";u&&new Be(x).lt("0.002")&&(x="0.002");const g=new Be(x).times(10**9).toFixed(0),k=Date.now().toString(),S={swapList:[{batchId:k,creatorAddress:L||"",inAmount:new Be(C||0).times(10**((null==w?void 0:w.decimals)||0)).toFixed(0)}],inTokenAddress:(y?N:w.address)||"",outTokenAddress:(y?T.address:N)||"",swapType:y?1:2,isPrivate:u||!1,priorityFee:g,slippage:"auto"!==d?Number(new Be(d).times(100).toFixed(0)):900,autoSlippage:"auto"===d,autoSell:y&&o.autoSellConfig_autoSell||!1,autoSellConfig:null==o?void 0:o.selectedAutoSellConfig,autoGas:(null==f?void 0:f.customFee)?0:((null==f?void 0:f.level)||0)+1,autoSellGas:(null==f?void 0:f.customFee)?0:((null==f?void 0:f.level)||0)+1,autoSellPriorityFee:g};({solana:vl,ton:cl})[A](S).then((e=>{if(e){let l=setTimeout((()=>{y?F.value[i]=!1:I.value[i]=!1}),500);const a=(null==e?void 0:e[0])||{},o={solana:"/botapi/swap/createSolTx",ton:"/botapi/swap/createSwapTonTx"};no({txInfo:a,chain:A,destination:(null==o?void 0:o[A])||"/botapi/swap/createSwapEvmTx",type:10});const s={[null==a?void 0:a.batchId]:null==a?void 0:a.id},r=m((()=>null==_?void 0:_.wsResult.tgbot),(e=>{var a,o,u,d,c;const v=e.batchId;if(v===k){if(l&&(clearTimeout(l),l=null),t.placeOrderSuccess++,null==(o=null==(a=null==e?void 0:e.txList)?void 0:a[0])?void 0:o.success){n({type:"success",message:$("tradeSuccess")});const l=null==(u=null==e?void 0:e.txList)?void 0:u[0];oo({...l,chain:null==e?void 0:e.chain},(null==s?void 0:s[v])||"")}else dl((null==(c=null==(d=null==e?void 0:e.txList)?void 0:d[0])?void 0:c.failMessage)||"swap error");r(),y?F.value[i]=!1:I.value[i]=!1,setTimeout((()=>{R()}),1e3)}}))}})).catch((e=>{dl(e||"swap error"),y?F.value[i]=!1:I.value[i]=!1}))}else if(Qe(A)){const e=null==(k=null==(g=o.botSettings)?void 0:g[A])?void 0:k[l],a=null==e?void 0:e.selected,r=null==e?void 0:e[a],u=null==r?void 0:r.mev,d=(null==r?void 0:r.slippage)||"9",{gasTip1List:c,gasTip2List:v}=ol(s.gasTip,A),p=u?c:v,f=u?null==r?void 0:r.gas[0]:null==r?void 0:r.gas[1],x=(null==f?void 0:f.customFee)?(null==f?void 0:f.customFee)||(null==p?void 0:p[null==f?void 0:f.level])||"3":"0",h=Number(new Be(x).times(10**9).toFixed(0)),b=Date.now().toString(),S={chain:A,swapList:[{batchId:b,creatorAddress:L||"",inAmount:new Be(C||0).times(10**((null==w?void 0:w.decimals)||0)).toFixed(0)}],inTokenAddress:(y?N:w.address)||"",outTokenAddress:(y?T.address:N)||"",swapType:y?1:2,contractType:0,isPrivate:u||!1,gasTip:h,preApprove:!0,slippage:"auto"!==d?Number(new Be(d).times(100).toFixed(0)):900,autoSlippage:"auto"===d,autoSell:y&&o.autoSellConfig_autoSell||!1,autoSellConfig:null==o?void 0:o.selectedAutoSellConfig,autoGas:(null==f?void 0:f.customFee)?0:((null==f?void 0:f.level)||0)+1,autoSellGas:(null==f?void 0:f.customFee)?0:((null==f?void 0:f.level)||0)+1,autoSellPriorityFee:h};pl(S).then((e=>{if(e){let l=setTimeout((()=>{y?F.value[i]=!1:I.value[i]=!1}),500);const a=(null==e?void 0:e[0])||{};no({txInfo:a,chain:A,destination:"/botapi/swap/createSwapEvmTx",type:10});const o={[null==a?void 0:a.batchId]:null==a?void 0:a.id},s=m((()=>null==_?void 0:_.wsResult.tgbot),(e=>{var a,r,u,d,c;const v=e.batchId;if(v===b){if(l&&(clearTimeout(l),l=null),t.placeOrderSuccess++,null==(r=null==(a=null==e?void 0:e.txList)?void 0:a[0])?void 0:r.success){n({type:"success",message:$("tradeSuccess")}),s(),setTimeout((()=>{R()}),1e3);const l=null==(u=null==e?void 0:e.txList)?void 0:u[0];oo({...l,chain:null==e?void 0:e.chain},(null==o?void 0:o[v])||""),j({chain:S.chain,inTokenAddress:S.inTokenAddress,outTokenAddress:S.outTokenAddress,...l})}else dl((null==(c=null==(d=null==e?void 0:e.txList)?void 0:d[0])?void 0:c.failMessage)||"swap error"),s();y?F.value[i]=!1:I.value[i]=!1}}))}})).catch((e=>{dl(e||"swap error"),y?F.value[i]=!1:I.value[i]=!1}))}}function oe(){const e=document.querySelector(".fixed-one-click");if(!e)return;e.style.position="fixed";const l=JSON.parse(localStorage.getItem("fixed-one-click-position")||"{}")||{top:"180px",left:"115px"};e.style.top=l.top,e.style.left=l.left,e.style.cursor="grab",e.style.zIndex="3014";let a=!1,t=0,n=0,o=0,s=0;const i=document.createElement("div");i.style.background="rgba(0, 0, 0, 0)",i.classList.add("drag-mask-s"),i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.right="0",i.style.bottom="0",i.style.zIndex="3013",e.onmousedown=l=>{a=!0,t=l.clientX,n=l.clientY,o=e.offsetLeft,s=e.offsetTop,e.style.cursor="grabbing",l.preventDefault()},window.onmousemove=l=>{if(!a)return;const r=l.clientX-t,u=l.clientY-n,d=o+r,c=s+u,v={width:window.innerWidth,height:window.innerHeight};e.style.left=`${Math.min(Math.max(d,0),v.width-e.offsetWidth)}px`,e.style.top=`${Math.min(Math.max(c,0),v.height-e.offsetHeight)}px`,e.style.boxShadow="0px 0px 5px rgba(0, 0, 0, 0.2)",e.style.opacity="0.9",document.body.appendChild(i)},window.onmouseup=()=>{var l;a=!1,e.style.cursor="grab",e.style.boxShadow="none",e.style.opacity="1",null==(l=null==i?void 0:i.remove)||l.call(i),localStorage.setItem("fixed-one-click-position",JSON.stringify({top:e.style.top,left:e.style.left}))}}return v((()=>{oe(),dn(document,"keydown",(e=>{"Space"===e.code&&(M.value=!0)})),dn(document,"keyup",(e=>{"Space"===e.code&&(M.value=!1)})),dn(document,"keyup",(e=>{var l,a,t,n,s,i,r,d,c,v;if(M.value&&B.value){const m=["q","w","e","r"].indexOf(e.key);if(m>=0){const e=null==(t=null==(a=null==(l=o.botSettings)?void 0:l[Y.value])?void 0:a.buy)?void 0:t.selected;ne(null==(s=null==(n=u.value)?void 0:n[Y.value][e||Q.value])?void 0:s.buyValueList[m],"buy",m)}const p=["a","s","d","f"].indexOf(e.key);if(p>=0){const e=null==(d=null==(r=null==(i=o.botSettings)?void 0:i[Y.value])?void 0:r.sell)?void 0:d.selected;ne(null==(v=null==(c=u.value)?void 0:c[Y.value][e||Q.value])?void 0:v.sellPerList[p],"sell",p)}}}))})),z((()=>{!function(){const e=document.querySelector(".fixed-one-click");e&&(e.onmousedown=null,window.onmousemove=null,window.onmouseup=null)}()})),(e,n)=>{var o,s,i,r,d,c,v,m,_,N,$,U,R,j,z,W,q,G,Q,K,Z,J;const oe=w,se=Ut,ie=Te,re=H("tooltip");return h(),C(A,null,[O(g("button",{class:V(["one-click-btn clickable",{active:x(D)}]),onKeyup:n[0]||(n[0]=L((()=>{}),["prevent"])),onKeydown:n[1]||(n[1]=Fl(L((()=>{}),["prevent"]),["enter"])),onClick:n[2]||(n[2]=L((e=>D.value=!x(D)),["stop"]))},[y(oe,{name:"ion:flash"}),g("span",fC,k(e.$t("oneClick")),1)],34),[[ce,null==(o=x(a).isSupportChains)?void 0:o.includes(x(Y))]]),O(g("div",xC,[(null==(s=x(a).isSupportChains)?void 0:s.includes(x(Y)))&&x(D)?(h(),C(A,{key:0},[g("div",hC,[g("div",bC,[O((h(),p(oe,{key:x(B),class:V(["text-14px color-[--secondary-text] clickable",{"color-[--primary-color]!":x(B)}]),name:"ri:keyboard-box-fill",onClick:n[3]||(n[3]=L((e=>B.value=!x(B)),["stop"])),onMousedown:n[4]||(n[4]=L((()=>{}),["stop"]))},null,8,["class"])),[[re,x(B)?e.$t("hotkeyTips"):e.$t("hotkeyTips1")]]),O((h(),p(oe,{key:x(P),name:"bx:bxs-bar-chart-alt-2",class:V(["text-14px color-[--secondary-text] clickable ml-5px",{"color-[--primary-color]!":x(P)}]),onMousedown:n[5]||(n[5]=L((()=>{}),["stop"])),onClick:n[6]||(n[6]=L((e=>P.value=!x(P)),["stop"]))},null,8,["class"])),[[re,x(P)?e.$t("enablePnLTips2"):e.$t("enablePnLTips1")]]),O((h(),p(oe,{key:x(E),name:"ph:approximate-equals-bold",class:V(["text-14px color-[--secondary-text] clickable ml-5px",{"color-[--primary-color]!":x(E)}]),onMousedown:n[7]||(n[7]=L((()=>{}),["stop"])),onClick:n[8]||(n[8]=L((e=>E.value=!x(E)),["stop"]))},null,8,["class"])),[[re,x(E)?e.$t("disableShowsReflected"):e.$t("enableShowsReflected")]])]),y(l,{class:"mr-10px ml-auto",chain:x(Y),onMousedown:n[9]||(n[9]=L((()=>{}),["stop"]))},null,8,["chain"]),y(oe,{class:"text-14px clickable color-[--main-text] clickable",name:"ri:close-large-fill",onClick:n[10]||(n[10]=L((e=>D.value=!1),["stop"])),onMousedown:n[11]||(n[11]=L((()=>{}),["stop"]))})]),y(se,{class:"b-t-color-[--dialog-divider]! mt-10px! mb-5px!"}),g("div",gC,[g("div",kC,[g("span",null,k(e.$t("buy")),1),g("div",_C,[(h(!0),C(A,null,S("BotSettingsArr"in e?e.BotSettingsArr:x(Nl),(e=>{var l,a,t;return h(),C("button",{key:e.value,class:V({active:e.value===(null==(t=null==(a=null==(l=x(u))?void 0:l[x(Y)])?void 0:a.buy)?void 0:t.selected)}),type:"button",onMousedown:n[12]||(n[12]=L((()=>{}),["stop"])),onClick:L((l=>x(u)[x(Y)].buy.selected=e.value),["stop"])},k(e.label),43,yC)})),128))]),x(E)&&Number(x(ae))>0?(h(),C("span",wC,"≈"+k(x(X)(x(ae),3))+" "+k((null==(i=x(t).swap.token)?void 0:i.symbol)||(null==(r=x(t).token)?void 0:r.symbol)||""),1)):f("",!0),g("span",TC,k(e.$t("balance1"))+": "+k(x(X)((null==(d=x(t).swap.native)?void 0:d.balance)||0))+" "+k(null==(c=x(Ge)(x(Y)))?void 0:c.main_name),1),y(Am,{class:"color-[--secondary-text]",type:0,onMousedown:n[13]||(n[13]=L((()=>{}),["stop"]))})]),g("div",CC,[(h(!0),C(A,null,S(null==(U=null==($=null==(v=x(u))?void 0:v[x(Y)])?void 0:$.buy[(null==(N=null==(_=null==(m=x(u))?void 0:m[x(Y)])?void 0:_.buy)?void 0:N.selected)||"s1"])?void 0:U.buyValueList,((e,l)=>(h(),p(ie,{key:l,class:V(["one-click-button green clickable",{active:x(M)&&x(B)}]),loading:x(F)[l],disabled:x(F)[l],onClick:L((a=>ne(e,"buy",l)),["stop","prevent"]),onMousedown:n[14]||(n[14]=L((()=>{}),["stop"])),onMouseover:L((l=>ee.value=e),["stop"]),onMouseleave:n[15]||(n[15]=L((e=>ee.value=""),["stop"]))},{default:b((()=>[T(k(x(F)[l]?"":e),1)])),_:2},1032,["class","loading","disabled","onClick","onMouseover"])))),128))]),y(Wm,{activeTab:"buy",gasPrice:x(t).gasPrice,onMousedown:n[16]||(n[16]=L((()=>{}),["stop"]))},null,8,["gasPrice"]),y(se,{class:"b-t-color-[--dialog-divider]! mt-10px! mb-5px!"}),g("div",AC,[g("span",null,k(e.$t("sell")),1),g("div",SC,[(h(!0),C(A,null,S("BotSettingsArr"in e?e.BotSettingsArr:x(Nl),(e=>{var l,a,t;return h(),C("button",{key:e.value,class:V({active:e.value===(null==(t=null==(a=null==(l=x(u))?void 0:l[x(Y)])?void 0:a.sell)?void 0:t.selected)}),type:"button",onMousedown:n[17]||(n[17]=L((()=>{}),["stop"])),onClick:L((l=>x(u)[x(Y)].sell.selected=e.value),["stop"])},k(e.label),43,NC)})),128))]),x(E)&&Number(x(te))>0?(h(),C("span",$C,"≈"+k(x(X)(x(te),3))+" "+k((null==(R=x(Ge)(x(Y)))?void 0:R.main_name)||""),1)):f("",!0),g("span",FC,k(e.$t("balance1"))+": "+k(x(X)((null==(j=x(t).swap.token)?void 0:j.balance)||0))+" "+k((null==(z=x(t).token)?void 0:z.symbol)||""),1),y(Am,{class:"color-[--secondary-text]",type:1,onMousedown:n[18]||(n[18]=L((()=>{}),["stop"]))})]),g("div",IC,[(h(!0),C(A,null,S(null==(Z=null==(K=null==(W=x(u))?void 0:W[x(Y)])?void 0:K.sell[(null==(Q=null==(G=null==(q=x(u))?void 0:q[x(Y)])?void 0:G.sell)?void 0:Q.selected)||"s1"])?void 0:Z.sellPerList,((e,l)=>(h(),p(ie,{key:l,class:V(["one-click-button red clickable",{active:x(M)&&x(B)}]),loading:x(I)[l],disabled:x(I)[l],onClick:L((n=>async function(e,l){var n,o,s;if(!(null==(n=a.userInfo)?void 0:n.evmAddress)||!a.accessToken)return void a.changeConnectVisible(!0);const i=new Be(e).div(100).toFixed(),r=t.swap.token;let u=r.balance||0;if(i){const e=r.decimals||0;u=(null==(o=new Be(u).times(i).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:o[0])||"",0===Number(u)&&(u="")}else u="";u=Number(u)<0?0:u,(null==(s=I.value)?void 0:s.some((e=>e)))||ne(u,"sell",l)}(e,l)),["stop","prevent"]),onMousedown:n[19]||(n[19]=L((()=>{}),["stop"])),onMouseover:L((l=>le.value=e),["stop"]),onMouseleave:n[20]||(n[20]=L((e=>le.value=""),["stop"]))},{default:b((()=>[T(k(x(I)[l]?"":e+"%"),1)])),_:2},1032,["class","loading","disabled","onClick","onMouseover"])))),128))]),y(Wm,{activeTab:"sell",gasPrice:x(t).gasPrice,onMousedown:n[21]||(n[21]=L((()=>{}),["stop"]))},null,8,["gasPrice"])]),O(y(Bp,{isForceShow:"",class:"b-t-solid b-t-1px b-color-[--dialog-divider] mt-10px rd-0! pb-0! mb-0! gap-8px bg-transparent!"},null,512),[[ce,x(P)]])],64)):f("",!0)],512),[[ce,(null==(J=x(a).isSupportChains)?void 0:J.includes(x(Y)))&&x(D)]])],64)}}}),[["__scopeId","data-v-92d508fd"]]),VC={class:"ml-5px"},DC=B(s({__name:"orderBookButton",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:l}){const a=e,t=l;function n(){const e=!a.modelValue;t("update:modelValue",e)}return(e,l)=>{const a=w;return h(),C("button",{class:V(["order-book-btn mr--12px clickable",{active:e.modelValue}]),onClick:L(n,["stop"])},[y(a,{name:"i-codicon:layout-sidebar-left",class:V({"rotate-90":!e.modelValue})},null,8,["class"]),g("span",VC,k(e.$t("orderBook")),1)],2)}}}),[["__scopeId","data-v-4bb15e89"]]),MC=["src"],BC=B(s({__name:"bubble",setup(e){const l=r(),{token:a}=G(W()),t=u(!1),n=d((()=>{var e,t;const n=l.params.id;return n?c(n):{address:(null==(e=a.value)?void 0:e.token)||"",chain:(null==(t=a.value)?void 0:t.chain)||""}})),o=d((()=>{var e;return null==(e=n.value)?void 0:e.address})),s=d((()=>{var e;return null==(e=n.value)?void 0:e.chain}));function i(){}return(e,l)=>{var a;const n=w,r=Ue;return h(),C(A,null,[(null==(a=["solana","bsc"])?void 0:a.includes(x(s)))?(h(),C("a",{key:0,class:"bubble ml--12px",href:"",onClick:l[0]||(l[0]=L((e=>t.value=!x(t)),["stop","prevent"]))},[y(n,{name:"custom:bubble",class:"color-[--third-text] icon-bubble"})])):f("",!0),y(r,{modelValue:x(t),"onUpdate:modelValue":l[1]||(l[1]=e=>D(t)?t.value=e:null),width:"860",height:"600",class:"search-dialog","header-class":"p-0! pl-20px! p-0!",title:e.$t("holderBubble"),onOpened:i},{default:b((()=>[g("iframe",{class:"mt-20px",style:{width:"100%",height:"700px",border:"none","min-height":"500px","max-height":"700px"},src:`https://app.insightx.network/bubblemaps/${"bsc"==x(s)?56:x(s)}/${x(o)}?embed_id=9Pt12qHMl1KDeK`,allow:"clipboard-write"},null,8,MC)])),_:1},8,["modelValue","title"])],64)}}}),[["__scopeId","data-v-112ab176"]]),PC={class:"bg-[--secondary-bg] rounded-2px text-14px pt-12px flex-1"},EC={class:"flex items-center px-12px gap-20px border-b-1px border-b-solid border-b-[--main-divider] mb-12px"},UC=["onClick"],RC={key:0,class:"w-1px h-20px bg-[var(--custom-br-1-color)] mr-20px mb-8px"},HC={key:0},OC={key:1},jC={key:2,class:"flex-start"},zC={key:3},WC={key:4},qC=s({__name:"belowChartTable",setup(e){const l=me("orderBookVisible",U(!1)),{globalConfig:a}=G(ve()),t=r(),n=W(),o=q(),{t:s}=i(),b=j(),{token:_,tokenInfoExtra:N,pairAddress:$,commonHeight:F}=G(W()),I=u("Transactions"),L={Transactions:Ww,Holders:vt((()=>ie((()=>import("./DDjeFfx6.js")),__vite__mapDeps([64,4,5,65,8,9,10,11,12,13,14,21,22,31,32,25,26,66,67,38,39,16,17,18,19,20,23,15,24,27,28,29,30,33,34,35,36,37,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,68]),import.meta.url))),LP:vt((()=>ie((()=>import("./CbOm3EN8.js")),__vite__mapDeps([69,58,4,5,59,70,71,8,9,10,11,12,13,14,67,38,39,72,73]),import.meta.url))),Attention:vt((()=>ie((()=>import("./DDRvTLko.js")),__vite__mapDeps([74,4,5,65,8,9,10,11,12,13,14,21,22,31,32,25,26,66,15,16,17,18,19,20,23,24,27,28,29,30,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,75]),import.meta.url))),Orders:HT,MySwap:vt((()=>ie((()=>import("./CMmoLYVl.js")),__vite__mapDeps([76,4,5,8,9,10,11,12,13,14,46,47,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,48,49,50,51,52,53,54,55,56,57,58,59,60,77]),import.meta.url))),DevTokens:pC},M=d((()=>[{name:s("transactions"),component:"Transactions"},{name:s("holders"),component:"Holders"},{name:"LP",component:"LP"},{name:s("attention1")+`(${b.headFollowsNum.all})`,component:"Attention"},{name:s("orders"),component:"Orders"},{name:s("mySwap"),component:"MySwap"},{name:s("devTokens"),component:"DevTokens"}])),B=d((()=>{var e;return null==(e=t.params)?void 0:e.id}));m(B,(()=>{b.getFollowsNum()}));const P=Z();m((()=>P.currentAddress),(e=>{e?b.getFollowsNum():b.headFollowsNum={all:0,subAll:0}})),m((()=>n.placeOrderUpdate),(()=>{"Orders"!==I.value&&(I.value="Orders")})),m((()=>n.placeOrderSuccess),(()=>{"MySwap"!==I.value&&(I.value="MySwap")}));const E=U("Transactions");m((()=>l.value),(e=>{e?"Transactions"===I.value?(E.value="Transactions",I.value="Holders"):"Orders"===I.value&&(E.value="Orders",I.value="Holders"):I.value=E.value||"Transactions"}),{immediate:!0});const R=d((()=>M.value.filter((e=>{var a;return!("Orders"===e.component&&!(null==(a=null==o?void 0:o.userInfo)?void 0:a.evmAddress))&&("Transactions"!==e.component||!l.value)})))),H=d((()=>"Orders"===I.value?HT:L[I.value])),z=d((()=>{var e;return(null==(e=null==_?void 0:_.value)?void 0:e.holders)||0})),Y=d((()=>{var e;return(null==(e=null==N?void 0:N.value)?void 0:e.pair_holders)||0})),Q=d((()=>{var e,l;const a=t.params.id;return a?c(a):{address:(null==(e=_.value)?void 0:e.token)||"",chain:(null==(l=_.value)?void 0:l.chain)||""}})),K=d((()=>{var e;const l=Q.value.chain,t=null==(e=a.value)?void 0:e.chains_support_data_analysis_insider_sniper;return(null==t?void 0:t.includes(l))||!1})),J=d((()=>({LP:{token:_.value,pairAddress:$.value,height:F.value},Transactions:{},Holders:{},Attention:{},Orders:{},MySwap:{}}[I.value]||{})));return v((()=>{b.getFollowsNum()})),de((()=>{b.headFollowsNum={all:0,subAll:0},I.value="Transactions"})),(e,a)=>{const o=w;return h(),C("div",PC,[g("div",EC,[(h(!0),C(A,null,S(x(R),(l=>{var a,t,s,i,r,u;return h(),C("a",{key:l.component,href:"javascript:;",class:V("flex items-center decoration-none text-12px lh-20px text-center "+(x(I)===l.component?"color-[--main-text] b-b-[--main-text] font-500":"b-b-transparent color-[--third-text]")),onClick:e=>I.value=l.component},["Orders"==l.component?(h(),C("div",RC)):f("",!0),g("div",{class:V("b-b-solid b-b-2px pb-8px flex-start "+(x(I)===l.component?" b-b-[--main-text]":"b-b-transparent"))},["DevTokens"!==l.component||x(n).devTokenNum?(h(),C("strong",HC,k(l.name),1)):f("",!0),"Orders"===l.component?(h(),C("span",OC,"("+k(x(n).registrationNum)+")",1)):f("",!0),"LP"===l.component?(h(),C("span",jC,[T(" ("+k(x(Y))+") ",1),x(Y)?(h(),p(o,{key:0,color:"#B3920E",name:"material-symbols:lock"})):f("",!0)])):f("",!0),"DevTokens"===l.component&&x(n).devTokenNum?(h(),C("span",zC,"("+k(x(n).devTokenNum)+")",1)):f("",!0),"Holders"==l.component&&x(z)?(h(),C("span",WC,[T(" ("+k((null==(a=x(_))?void 0:a.holders)?("formatNumber"in e?e.formatNumber:x(X))((null==(t=x(_))?void 0:t.holders)||0,{limit:10}):"")+") ",1),x(K)&&((null==(s=x(N))?void 0:s.insiders_balance_ratio_cur)??0)>.01?(h(),C(A,{key:0},[y(o,{name:"custom:insiders",class:V(["text-12px align-middle",((null==(i=x(N))?void 0:i.insiders_balance_ratio_cur)??0)>.3?"#AC3EEC":""])},null,8,["class"]),100*((null==(r=x(N))?void 0:r.insiders_balance_ratio_cur)??0)>1?(h(),C(A,{key:0},[T(k(("formatNumber"in e?e.formatNumber:x(X))(100*((null==(u=x(N))?void 0:u.insiders_balance_ratio_cur)??0),2)+"%"),1)],64)):(h(),C(A,{key:1},[T(k("<1%"))],64))],64)):f("",!0)])):f("",!0)],2)],10,UC)})),128)),a[1]||(a[1]=g("div",{class:"flex-1"},null,-1)),y(DC,{modelValue:x(l),"onUpdate:modelValue":a[0]||(a[0]=e=>D(l)?l.value=e:null)},null,8,["modelValue"]),y(LC),y(BC)]),O(y(HT,{currentActiveTab:x(I)},null,8,["currentActiveTab"]),[[ce,"Orders"===x(I)]]),O(y(pC,null,null,512),[[ce,"DevTokens"===x(I)]]),"Orders"!==x(I)&&"DevTokens"!==x(I)&&"token-id"===x(t).name?(h(),p(St,{key:0},[(h(),p(ct(x(H)),pt(x(J),{currentActiveTab:x(I)}),null,16,["currentActiveTab"]))],1024)):f("",!0)])}}}),YC={class:"mx-12px pb-12px flex border-b-1px border-b-solid border-b-[#f2f2f2] dark:border-b-[#222]"},GC=["onClick"],QC={class:"flex items-center gap-8px"},KC={class:"px-12px"},ZC={class:"text-12px"},XC={class:"grid grid-cols-[minmax(0,1fr)_minmax(0,1fr)] items-center gap-15px mt-8px mb-4px text-12px color-[--d-5A5E64-l-A9B0BC]"},JC={class:"grid grid-cols-[minmax(0,0.8fr)_minmax(0,1fr)] items-center gap-15px"},eA={class:"min-w-0 text-left"},lA={class:"text-right text-nowrap min-w-0"},aA={class:"flex items-center justify-end gap-2px"},tA={key:0,width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"color-[--d-5A5E64-l-A9B0BC]"},nA={key:1,width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"color-[--d-5A5E64-l-A9B0BC]"},oA={class:"grid grid-cols-[minmax(0,1fr)_minmax(0,1fr)] items-center gap-15px"},sA={class:"flex items-center justify-end gap-2px text-nowrap min-w-0"},iA={key:0,width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"color-[--d-5A5E64-l-A9B0BC]"},rA={key:1,width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"color-[--d-5A5E64-l-A9B0BC]"},uA={class:"text-right min-w-0"},dA=["onClick"],cA={class:"grid grid-cols-[minmax(0,0.8fr)_minmax(0,1fr)] items-center gap-15px relative h-24px px-2px"},vA={class:"text-left min-w-0"},mA={class:"color-[--d-5A5E64-l-A9B0BC]"},pA={class:"color-[--d-5A5E64-l-A9B0BC]"},fA={key:1,class:"color-[--d-5A5E64-l-A9B0BC]"},xA={class:"text-right text-nowrap min-w-0"},hA={key:0},bA={key:1},gA={class:"color-[--d-5A5E64-l-A9B0BC] hidden sm:inline"},kA={class:"grid grid-cols-[minmax(0,1fr)_minmax(0,1fr)] items-center gap-15px h-24px"},_A={class:"text-right text-nowrap min-w-0 overflow-visible"},yA={class:"color-[--secondary-text]"},wA={key:0},TA={key:1},CA={class:"text-right overflow-hidden min-w-0"},AA={class:"flex items-center justify-end min-w-0"},SA={key:2,class:"color-[--secondary-text] !text-12px ml-2px whitespace-nowrap"},NA={class:"z-10 absolute bottom-0 h-24px w-100% flex items-center justify-center bg-[--main-input-button-bg] color-[#FFA622]"},$A={class:"flex items-center gap-x-7px"},FA={class:"text-xs"},IA={class:"mb-10px"},LA={for:"markerAddress"},VA={class:"mb-10px mt-20px"},DA={class:"flex items-center gap-20px"},MA={class:"mt-20px flex"},BA=B(s({__name:"orderBook",props:{modelValue:{type:Boolean},klineHeight:{}},emits:["update:modelValue"],setup(e){const l=W(),a=Q(),t=["solana","bsc"],n=e,o=me(Wt.KLINE_DATE_FILTER),{t:s}=i(),r=cn(),{totalHolders:_,pairAddress:N,pair:F,token:I}=G(W()),D=j(),M=q(),B=je(),P=uw(),E=qt(),R=U(null),z=u("all"),Y=u(!1),K=u(!1),Z=U({loadingTxs:!1}),J=u([]),le=u([]),ae=U({markerAddress:"",tag_type:"all",minVol:"",maxVol:"",timestamp:[]}),ne=u({}),oe=U(),se=u({}),ie=U({isAmount:!0}),re=u(c(r.params.id).address),ue=u(!1),ve={markerAddress:"",minVol:"",maxVol:""},pe=U({...ve}),fe=d((()=>{const e=[];return Array.isArray(_.value)&&_.value.forEach((l=>{const a=l.total_address;a>0&&e.push({...l,label:(null==l?void 0:l[Ft(He().locale)])+("31"!==l.type?`(${a})`:""),value:l.type})})),[{label:s("all"),value:"all"},...e]})),xe=d((()=>ae.value.markerAddress||ae.value.minVol||ae.value.maxVol)),he=d((()=>{var e,l;const a=r.params.id;return a?c(a):{address:(null==(e=I.value)?void 0:e.token)||"",chain:(null==(l=I.value)?void 0:l.chain)||""}})),be=d((()=>ae.value.markerAddress===M.getWalletAddress(he.value.chain))),ge={all:()=>[...J.value].toSorted(((e,l)=>l.time-e.time)),buy:()=>J.value.filter((e=>$e(e))),sell:()=>J.value.filter((e=>!$e(e)))},ke=d((()=>{let e=[...J.value];e=z.value in ge?ge[z.value]():J.value,ae.value.markerAddress&&(e=e.filter((e=>e.wallet_address.toLowerCase()===ae.value.markerAddress.toLowerCase())));const[l,a]=ae.value.timestamp;l&&(e=e.filter((e=>e.time>=Number(l)))),a&&(e=e.filter((e=>e.time<=Number(a))));const{minVol:t,maxVol:n}=ae.value;return t&&(e=e.filter((e=>Le(e,!0,!0)>=Number(t)))),n&&(e=e.filter((e=>Le(e,!0,!0)<=Number(n)))),e}));function _e(){const e={jsonrpc:"2.0",params:["tx",N.value],id:1};B.send({...e,method:"unsubscribe"}),B.send({...e,method:"subscribe"})}function ye(){const e={jsonrpc:"2.0",params:["tx",N.value],id:1};B.send({...e,method:"unsubscribe"})}async function we(){var e,l;try{Z.value.loadingTxs=!0;const{tag_type:a}=ae.value,t={token_id:r.params.id,tag_type:a,maker:ae.value.markerAddress,time_min:null==(e=ae.value.timestamp)?void 0:e[0],time_max:null==(l=ae.value.timestamp)?void 0:l[1]},n=await Kt(t);re.value=c(t.token_id).address,J.value=(n||[]).reverse().map((e=>{ne.value[e.wallet_address]=(ne.value[e.wallet_address]||0)+1;const{wallet_tag:l,topN:a}=Ne(e);return{...e,wallet_tag:l,topN:a,count:ne.value[e.wallet_address],senderProfile:JSON.parse(e.profile||"{}"),uuid:Gt()}})).reverse()}catch(a){J.value=[]}finally{Z.value.loadingTxs=!1}}function Ne(e){const l=e.wallet_tag_v2||"";let a="",t=[];return l.length>0&&(t=l.split(","),t.forEach(((e,l)=>{new RegExp("^top.*$","gi").test(e)&&(a=e,t.splice(l,1))}))),{topN:a,wallet_tag:t}}function $e(e){var l,a,t,n,o,s,i,r;return!(!re.value&&!he.value.address||!e)&&("direction"in e&&"target"in e?"buy"===e.direction:(!("from_address"in e)||!e.from_address||(null==(a=(l=re.value).toLowerCase)?void 0:a.call(l))!==(null==(n=null==(t=e.from_address)?void 0:t.toLowerCase)?void 0:n.call(t)))&&(!(!("to_address"in e)||!e.to_address||(null==(s=(o=re.value).toLowerCase)?void 0:s.call(o))!==(null==(r=(i=e.to_address).toLowerCase)?void 0:r.call(i)))||void 0))}function Fe(e){if("type"in e){if("addLiquidity"===e.type)return"color-#65C4ED";if("removeLiquidity"===e.type||"CollectFee"===e.type)return"color-#EF6DE2"}return $e(e)?"color-#12B886":"color-#F6465D"}function Ie(e){var a,t,n,o,s,i;const r=l.circulation;let u=0;const d=re.value||he.value.address;u="direction"in e&&"target"in e?Number(e.price_u):e.from_address&&(null==(a=d.toLowerCase)?void 0:a.call(d))===(null==(n=null==(t=e.from_address)?void 0:t.toLowerCase)?void 0:n.call(t))?Number(e.from_price_usd)||0:e.to_address&&(null==(o=d.toLowerCase)?void 0:o.call(d))===(null==(i=null==(s=e.to_address)?void 0:s.toLowerCase)?void 0:i.call(s))?Number(e.to_price_usd)||0:Number(e.to_price_usd)||Number(e.from_price_usd)||0;return u*(null==r?void 0:r.toNumber())}function Le(e,l=!1,a=!1){var t,n,o,s,i,r,u,d;return(re.value||he.value.address)&&e?"direction"in e&&"target"in e?Number(e.target_amt||0)*(l?Number(a?e.price_u:e.price_m):1):"from_address"in e&&e.from_address&&(null==(n=(t=re.value).toLowerCase)?void 0:n.call(t))===(null==(s=null==(o=e.from_address)?void 0:o.toLowerCase)?void 0:s.call(o))?e.from_amount*(l?Number(a?e.from_price_usd:e.from_price_eth):1):"to_address"in e&&e.to_address&&(null==(r=(i=re.value).toLowerCase)?void 0:r.call(i))===(null==(d=(u=e.to_address).toLowerCase)?void 0:d.call(u))?e.to_amount*(l?Number(a?e.to_price_usd:e.to_price_eth):1):0:0}function Ve(e){const l={"true-true":"rgba(18, 184, 134, 0.10)","true-false":"rgba(246, 70, 93, 0.10)","false-false":"rgba(18, 184, 134, 0.10)","false-true":"rgba(246, 70, 93, 0.10)"};return l[`${a.isDark}-${$e(e)}`]||l["true-true"]}function De(e){const l=Le(e,!0,!0);return(Math.min(l/("solana"===he.value.chain?10:20),100)/100).toFixed(3)}function Me(e,l){if(isNaN(e)||0===e)return"0.00";const a=e.toFixed(l).replace(/\.?0+$/,"");return l>0&&!a.includes(".")?a+".00":a}m((()=>null==o?void 0:o.value),(e=>{e&&n.modelValue&&(ae.value.timestamp=e,we())})),m((()=>N.value),(()=>{N.value&&n.modelValue&&(J.value=[],le.value=[],ne.value={},z.value="all",ae.value.markerAddress="",ae.value.tag_type="all",we(),_e())})),m((()=>n.modelValue),(e=>{e&&N.value?(J.value=[],le.value=[],ne.value={},we(),_e()):e||(ye(),J.value=[],le.value=[],ne.value={})}));const Pe=U(window.innerWidth),Ee=()=>{Pe.value=window.innerWidth};function Re(e,l=!1){var a,t,n,o,s,i;const r=re.value||he.value.address;return r&&e?"direction"in e&&"target"in e?Number(l?e.price_u:e.price_m)||0:e.from_address&&(null==(a=r.toLowerCase)?void 0:a.call(r))===(null==(n=null==(t=e.from_address)?void 0:t.toLowerCase)?void 0:n.call(t))?Number(l?e.from_price_usd:e.from_price_eth)||0:e.to_address&&(null==(o=r.toLowerCase)?void 0:o.call(r))===(null==(i=null==(s=e.to_address)?void 0:s.toLowerCase)?void 0:i.call(s))&&Number(l?e.to_price_usd:e.to_price_eth)||0:0}function Oe(e,l){if(function(e){z.value=e,ne.value={},le.value.length=0,ae.value.tag_type=e}(e),ae.value.markerAddress="",we(),R.value){const e=R.value,a=e.children[l];if(a){const l=e.clientWidth,t=a.getBoundingClientRect(),n=e.getBoundingClientRect(),o=t.left-n.left+e.scrollLeft+t.width/2-l/2,s=e.scrollWidth-l,i=Math.max(0,Math.min(o,s));e.scrollTo({left:i,behavior:"smooth"})}}}function ze(){if(be.value)ae.value.markerAddress="",pe.value.markerAddress="";else{const e=M.getWalletAddress(he.value.chain);ae.value.markerAddress=e,pe.value.markerAddress=e}le.value.length=0,we()}function We(){}function qe(e){var l,a,t,n,o,s,i,r,u;return"direction"in e&&"target"in e?"buy"===e.direction&&new Be(e.maker_bal).eq(e.target_amt):!(null==(a=null==(l=null==e?void 0:e.newTags)?void 0:l.some)?void 0:a.call(l,(e=>"8"===(null==e?void 0:e.type))))&&((null==(n=(t=he.value.address).toLowerCase)?void 0:n.call(t))===(null==(i=null==(s=null==(o=e.senderProfile)?void 0:o.token0Address)?void 0:s.toLowerCase)?void 0:i.call(s))?null==(r=e.senderProfile)?void 0:r.token0HasNewAccount:null==(u=e.senderProfile)?void 0:u.token1HasNewAccount)}function Ye(e){var l,a,t,n,o,s,i,r,u;return"direction"in e&&"target"in e?"sell"===e.direction&&new Be(e.maker_bal).eq(0):!$e(e)&&!(null==(a=null==(l=e.newTags)?void 0:l.some)?void 0:a.call(l,(e=>"8"===(null==e?void 0:e.type))))&&((null==(n=(t=he.value.address).toLowerCase)?void 0:n.call(t))===(null==(i=null==(s=null==(o=e.senderProfile)?void 0:o.token0Address)?void 0:s.toLowerCase)?void 0:i.call(s))?null==(r=e.senderProfile)?void 0:r.token0HasClearedAccount:null==(u=e.senderProfile)?void 0:u.token1HasClearedAccount)}function Qe(e){var l,a,t;return"maker_eth"in e?Number(e.maker_eth||0)>=50:!(null==(a=null==(l=null==e?void 0:e.newTags)?void 0:l.some)?void 0:a.call(l,(e=>"8"===e.type)))&&Number(null==(t=e.senderProfile)?void 0:t.solTotalHolding)>50}v((()=>{window.addEventListener("resize",Ee)})),de((()=>{window.removeEventListener("resize",Ee)})),v((()=>{n.modelValue&&N.value&&(we(),_e())})),de((()=>{var e;null==(e=B.getWSInstance())||e.offMessage("tx_history"),N.value&&ye()})),m((()=>B.wsResult[kl.TX]),(e=>{if(!e||Z.value.loadingTxs)return;const{wallet_address:l,from_address:a,to_address:t}=e.tx;if(a!==re.value&&t!==re.value)return;const{timestamp:n,markerAddress:o}=ae.value,[s,i]=n||[];if(s&&e.tx.time<Number(s))return;if(i&&e.tx.time>Number(i))return;if(o&&l!==o)return;if(le.value.find((a=>"transaction"in a&&a.transaction===e.tx.transaction&&a.wallet_address===l)))return;ne.value[l]=(ne.value[l]||0)+1;const{topN:r,wallet_tag:u}=Ne(e.tx),d={...e.tx,topN:r,wallet_tag:u,senderProfile:JSON.parse(e.tx.profile||"{}"),count:ne.value[l],time:Math.min(Math.floor(Date.now()/1e3),e.tx.time),uuid:Gt()};le.value.unshift(d),Y.value||Ke()})),m((()=>B.wsResult[kl.SIMPLE_TX]),(e=>{if(!e||Z.value.loadingTxs)return;const l=e.msg,{maker:a,target:t}=l;if(t!==re.value)return;const{timestamp:n,markerAddress:o}=ae.value,[s,i]=n||[];if(s&&l.time<Number(s))return;if(i&&l.time>Number(i))return;if(o&&a!==o)return;ne.value[a]=(ne.value[a]||0)+1;const{topN:r,wallet_tag:u}=Ne(e.msg),d={...l,topN:r,wallet_tag:u,count:ne.value[a],time:Math.min(Math.floor(Date.now()/1e3),l.time),uuid:Gt(),wallet_address:a,transaction:l.txhash,senderProfile:{solTotalHolding:l.maker_eth}};le.value.unshift(d),Y.value||Ke()}));const Ke=Qt((()=>{if(0===le.value.length)return;const e=le.value.filter((e=>!J.value.some((l=>"transaction"in l&&"transaction"in e&&l.transaction===e.transaction&&l.wallet_address===e.wallet_address))));e.length>0&&(J.value.unshift(...e),J.value.length>300&&(J.value=J.value.slice(0,300))),le.value.length=0,gt(J)}),500);function Ze(){Object.keys(pe.value).forEach((e=>{ae.value[e]=pe.value[e]})),pe.value.markerAddress||(z.value="all"),we(),ue.value=!1}function Xe(){pe.value={...ve},Ze()}return(e,l)=>{var a,n;const o=w,i=Te,u=Rt,d=K_,c=Ae,v=Ue,m=H("tooltip"),_=Ce;return e.modelValue?(h(),C("div",{key:0,class:"bg-[--d-0B0D12-l-F6F9FF] relative rounded-2px text-14px pt-12px flex flex-col overflow-hidden",style:$({height:`${e.klineHeight||200}px`})},[g("div",YC,[g("div",{ref_key:"tabsContainer",ref:R,class:"flex-1 flex items-center gap-x-8px whitespace-nowrap overflow-x-auto scrollbar-hide"},[(h(!0),C(A,null,S(fe.value,((e,l)=>(h(),C("button",{key:e.value,style:$({backgroundColor:z.value===e.value?"rgba(63, 128, 247, 0.10)":"var(--d-16181D-l-ECF3FF)"}),class:V(["shrink-0 text-12px px-8px py-4px rounded-4px border-none cursor-pointer",z.value===e.value?"color-[--primary-color]":"bg-[--d-16181D-l-ECF3FF] color-[--d-5A5E64-l-A9B0BC]"]),onClick:a=>Oe(e.value,l)},k(e.label),15,GC)))),128))],512),g("div",QC,[(null==(n=null==(a=x(M))?void 0:a.userInfo)?void 0:n.name)?(h(),C("button",{key:0,class:V(["me-btn shrink-0 flex items-center gap-4px sticky right-0 cursor-pointer",{active:be.value}]),onClick:ze},[y(o,{name:"i-tdesign:user-filled",class:"text-md"}),g("span",null,k(x(s)("me")),1)],2)):f("",!0),O((h(),C("span",{class:V(["flex items-center justify-center w-12px h-12px rounded-2px color-[--reverse-color] text-10px cursor-pointer",x(D).isClickKlineFilter?"bg-[--primary-color]":"bg-[--third-text] hover:bg-[--secondary-text]"]),onClick:l[0]||(l[0]=e=>x(D).isClickKlineFilter=!x(D).isClickKlineFilter)},[y(o,{name:"custom:chart"})],2)),[[m,e.$t(x(D).isClickKlineFilter?"clickChartHideFilter":"clickChartFilter")]]),y(o,{name:"custom:filter",class:V(["text-12px cursor-pointer",xe.value?"color-[--primary-color]":"color-[--third-text] hover:color-[--secondary-text]"]),onClick:l[1]||(l[1]=L((e=>ue.value=!0),["self"]))},null,8,["class"])])]),g("div",KC,[ae.value.timestamp.length?(h(),p(rw,{key:0,timestamp:ae.value.timestamp,"onUpdate:timestamp":[l[2]||(l[2]=e=>ae.value.timestamp=e),we]},null,8,["timestamp"])):f("",!0),O((h(),C("div",ZC,[g("div",XC,[g("div",JC,[g("div",eA,k(x(s)("time")),1),g("div",lA,[g("div",aA,[g("span",null,k(x(s)("amountU").slice(0,3)),1),y(i,{class:"p-0 px-2px border-none hover:bg-[transparent] h-auto",onClick:l[3]||(l[3]=e=>x(D).isUSDT=!x(D).isUSDT)},{default:b((()=>[x(D).isUSDT?(h(),C("svg",tA,l[14]||(l[14]=[g("path",{d:"M5 0C2.23884 0 0 2.23884 0 5C0 7.76116 2.23884 10 5 10C7.76116 10 10 7.76116 10 5C10 2.23884 7.76116 0 5 0ZM5.24889 7.42411L5.25112 7.7779C5.25112 7.82701 5.21094 7.8683 5.16183 7.8683H4.84486C4.79576 7.8683 4.75558 7.82812 4.75558 7.77902V7.42857C3.76451 7.35491 3.29799 6.79017 3.24777 6.17634C3.24331 6.12388 3.2846 6.07924 3.33706 6.07924H3.85268C3.89621 6.07924 3.93415 6.11049 3.94085 6.1529C3.99777 6.5067 4.27344 6.7712 4.76785 6.83705V5.24442L4.49219 5.17411C3.90848 5.0346 3.35268 4.67076 3.35268 3.9163C3.35268 3.10268 3.97098 2.66518 4.76116 2.58817V2.21986C4.76116 2.17076 4.80134 2.13058 4.85045 2.13058H5.16406C5.21317 2.13058 5.25334 2.17076 5.25334 2.21986V2.58482C6.01786 2.66183 6.59152 3.10826 6.65848 3.80357C6.66406 3.85603 6.62276 3.90179 6.56919 3.90179H6.06808C6.02343 3.90179 5.98549 3.8683 5.97991 3.82478C5.93527 3.49888 5.67411 3.23326 5.24889 3.17522V4.6741L5.53237 4.73996C6.25558 4.91852 6.74777 5.26451 6.74777 6.03907C6.74777 6.87947 6.12277 7.34822 5.24889 7.42411ZM4.04688 3.86496C4.04688 4.14843 4.2221 4.36831 4.59933 4.50446C4.65179 4.52567 4.70424 4.54241 4.76674 4.56026V3.17634C4.35491 3.2288 4.04688 3.45982 4.04688 3.86496ZM5.34709 5.37388C5.31585 5.36718 5.2846 5.35938 5.24889 5.34933V6.84152C5.72433 6.79911 6.05246 6.53795 6.05246 6.10044C6.05246 5.75782 5.875 5.53459 5.34709 5.37388Z",fill:"currentColor"},null,-1)]))):(h(),C("svg",nA,l[15]||(l[15]=[g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5 0C7.757 0 10 2.243 10 5C10 7.757 7.757 10 5 10C2.243 10 0 7.757 0 5C0 2.243 2.243 0 5 0ZM5.1 3C4.78 3 4.484 3.114 4.256 3.342L3.342 4.256C3.114 4.484 3 4.78 3 5.1C2.9953 5.41628 3.11864 5.72103 3.342 5.945L4.256 6.858C4.484 7.087 4.78 7.2 5.1 7.2C5.41434 7.19485 5.71531 7.07268 5.945 6.858L6.858 5.945C7.087 5.717 7.201 5.42 7.201 5.1C7.201 4.781 7.087 4.484 6.858 4.256L5.945 3.342C5.717 3.114 5.42 3 5.1 3ZM5.1 3.64C5.23799 3.64449 5.369 3.70176 5.466 3.8L6.379 4.712C6.48602 4.80272 6.54509 4.93783 6.539 5.078C6.53426 5.21564 6.477 5.34624 6.379 5.443L5.465 6.356C5.26 6.539 4.918 6.539 4.735 6.356L3.822 5.443C3.708 5.352 3.662 5.215 3.662 5.078C3.66649 4.94001 3.72376 4.80901 3.822 4.712L4.735 3.8C4.82551 3.69326 4.96018 3.63423 5.1 3.64Z",fill:"currentColor"},null,-1)])))])),_:1})])])]),g("div",oA,[g("div",sA,[T(k(ie.value.isAmount?x(s)("swapPrice"):x(s)("MC"))+" ",1),y(i,{class:"p-0 px-2px border-none hover:bg-[transparent] h-auto",onClick:l[4]||(l[4]=e=>ie.value.isAmount=!ie.value.isAmount)},{default:b((()=>[ie.value.isAmount?(h(),C("svg",iA,l[16]||(l[16]=[g("path",{d:"M5 0C2.23884 0 0 2.23884 0 5C0 7.76116 2.23884 10 5 10C7.76116 10 10 7.76116 10 5C10 2.23884 7.76116 0 5 0ZM5.24889 7.42411L5.25112 7.7779C5.25112 7.82701 5.21094 7.8683 5.16183 7.8683H4.84486C4.79576 7.8683 4.75558 7.82812 4.75558 7.77902V7.42857C3.76451 7.35491 3.29799 6.79017 3.24777 6.17634C3.24331 6.12388 3.2846 6.07924 3.33706 6.07924H3.85268C3.89621 6.07924 3.93415 6.11049 3.94085 6.1529C3.99777 6.5067 4.27344 6.7712 4.76785 6.83705V5.24442L4.49219 5.17411C3.90848 5.0346 3.35268 4.67076 3.35268 3.9163C3.35268 3.10268 3.97098 2.66518 4.76116 2.58817V2.21986C4.76116 2.17076 4.80134 2.13058 4.85045 2.13058H5.16406C5.21317 2.13058 5.25334 2.17076 5.25334 2.21986V2.58482C6.01786 2.66183 6.59152 3.10826 6.65848 3.80357C6.66406 3.85603 6.62276 3.90179 6.56919 3.90179H6.06808C6.02343 3.90179 5.98549 3.8683 5.97991 3.82478C5.93527 3.49888 5.67411 3.23326 5.24889 3.17522V4.6741L5.53237 4.73996C6.25558 4.91852 6.74777 5.26451 6.74777 6.03907C6.74777 6.87947 6.12277 7.34822 5.24889 7.42411ZM4.04688 3.86496C4.04688 4.14843 4.2221 4.36831 4.59933 4.50446C4.65179 4.52567 4.70424 4.54241 4.76674 4.56026V3.17634C4.35491 3.2288 4.04688 3.45982 4.04688 3.86496ZM5.34709 5.37388C5.31585 5.36718 5.2846 5.35938 5.24889 5.34933V6.84152C5.72433 6.79911 6.05246 6.53795 6.05246 6.10044C6.05246 5.75782 5.875 5.53459 5.34709 5.37388Z",fill:"currentColor"},null,-1)]))):(h(),C("svg",rA,l[17]||(l[17]=[g("path",{d:"M9.02589 2.99465C9.33125 3.60428 9.5 4.2861 9.5 5.00802C9.5 7.48663 7.48304 9.5 5 9.5C2.51696 9.5 0.5 7.48663 0.5 5.00802C0.5 2.52941 2.50893 0.516043 5 0.516043V5.31283L9.02589 2.99465ZM5.64286 0.5V4.14171L8.69643 2.38503C7.99732 1.39037 6.90446 0.684492 5.64286 0.5Z",fill:"currentColor"},null,-1)])))])),_:1})]),g("div",uA,k(x(s)("makers")),1)])]),ke.value.length>0?(h(),p(x(bo),{key:e.klineHeight,list:ke.value,options:{itemHeight:24},style:{"margin-right":"-12px","padding-right":"12px"},class:"scrollbar-hide",height:(e.klineHeight??200)-75+"px"},{default:b((({data:a,index:n})=>{var s,i;return[g("div",{class:"grid grid-cols-[minmax(0,1fr)_minmax(0,1fr)] items-center gap-15px h-24px hover:bg-[rgba(255,255,255,.02)] relative z-10 overflow-hidden cursor-pointer mt-1px first:mt-0",onMouseenter:l[5]||(l[5]=e=>Y.value=!0),onMouseleave:l[6]||(l[6]=e=>Y.value=!1),onClick:e=>function({rowData:e}){if(I.value)if(en.includes(I.value.chain)){const{symbol:l,logo_url:a,chain:t,token:n}=I.value,{target_token:o,token0_address:s,token0_symbol:i,token1_symbol:u,pair:d}=F.value;E.$patch({drawerVisible:!0,tokenInfo:{id:r.params.id,symbol:l,logo_url:a,chain:t,address:n,remark:e.remark},pairInfo:{target_token:o,token0_address:s,token0_symbol:i,token1_symbol:u,pairAddress:d},user_address:e.wallet_address})}else window.open(ee(I.value.chain,e.transaction,"tx"))}({rowData:a})},[g("div",cA,[g("div",{class:"absolute inset-0 pointer-events-none",style:$({backgroundColor:Ve(a),transform:`scaleX(${De(a)})`,transformOrigin:"right"})},null,4),g("div",vA,[g("div",mA,[a.time&&Number(x(Se)(a.time,!0))<60?(h(),p(u,{key:`${a.time}${n}`,timestamp:a.time,"end-time":60},{default:b((({seconds:e})=>[g("span",pA,[e<60?(h(),C(A,{key:0},[T(k(e)+"s ",1)],64)):(h(),C(A,{key:1},[T(k(x(Se)(a.time)),1)],64))])])),_:2},1032,["timestamp"])):(h(),C("span",fA,k(x(Se)(a.time)),1))])]),g("div",xA,[g("div",{class:V([Fe(a),"font-medium truncate"])},[x(D).isUSDT?(h(),C("span",hA," $"+k(Me(Le(a,!0,!0),2)),1)):(h(),C("span",bA,[T(" $"+k(Me(Le(a,!0,!1),3))+" ",1),g("span",gA,k(null==(s=x(Ge)(a.chain))?void 0:s.main_name),1)]))],2)])]),g("div",kA,[g("div",_A,[g("div",yA,[ie.value.isAmount?(h(),C("span",wA," $"+k(("formatNumber"in e?e.formatNumber:x(X))(Re(a,!0),{decimals:3})),1)):(h(),C("span",TA," $"+k(("formatNumber"in e?e.formatNumber:x(X))(Ie(a),{decimals:2})),1))])]),g("div",CA,[g("div",AA,[Pe.value>=480&&["solana","bsc"].includes(a.chain)&&a.senderProfile?(h(),C(A,{key:0},[qe(a)?O((h(),p(o,{key:0,name:"custom:new-account",class:"w-12px h-12px mr-2px shrink-0 icon-hover hidden sm:block"},null,512)),[[m,{content:`<span style='color: #85E12F'>${e.$t("newTokenAccount")}</span>`,props:{"raw-content":!0,"popper-class":"signal-tags-tooltip"}}]]):f("",!0),Ye(a)?O((h(),p(o,{key:1,name:"custom:cleared-account",class:"w-12px h-12px mr-2px shrink-0 icon-hover hidden sm:block"},null,512)),[[m,{content:`<span style='color: #EB2B4B'>${e.$t("sellAl")}</span>`,props:{"raw-content":!0,"popper-class":"signal-tags-tooltip"}}]]):f("",!0),Qe(a)?O((h(),p(o,{key:2,name:"custom:big",class:"w-12px h-12px mr-2px shrink-0 icon-hover hidden sm:block"},null,512)),[[m,{content:`<span style='color: #ccc'>${e.$t("whales")}</span>`,props:{"raw-content":!0,"popper-class":"signal-tags-tooltip"}}]]):f("",!0)],64)):f("",!0),Pe.value>=480?(h(),p(d,{key:1,tagClass:"mr-3px",tags:(a.newTags||[]).map((e=>x(P).matchTag(e.type)||e)),walletAddress:a.wallet_address,chain:a.chain},null,8,["tags","walletAddress","chain"])):f("",!0),y(Pt,{remark:a.remark,address:a.wallet_address,"show-address":!((null==(i=null==a?void 0:a.newTags)?void 0:i.length)>1),chain:a.chain,wallet_logo:a.wallet_logo,addressClass:"inline-block truncate max-w-full "+(K.value&&se.value.wallet_address===a.wallet_address?"bg-#12B88633":""),"format-address":e=>Pe.value<480?null==e?void 0:e.slice(-3):"*"+(null==e?void 0:e.slice(-4)),class:"color-[--secondary-text] truncate min-w-0 !text-12px",mouseoverAddress:e=>function(e,l){var a;if(e&&t.includes(e.chain)){if(oe.value=l.currentTarget,(null==(a=se.value)?void 0:a.wallet_address)===e.wallet_address)return;se.value=e}}(a,e),canEdit:!1,onUpdateRemark:We},null,8,["remark","address","show-address","chain","wallet_logo","addressClass","format-address","mouseoverAddress"]),a.count&&a.count>1?(h(),C("div",SA," ("+k(a.count)+") ",1)):f("",!0)])])])],40,dA)]})),_:1},8,["list","height"])):f("",!0),0!==ke.value.length||Z.value.loadingTxs?f("",!0):(h(),C("div",{key:1,class:"h-full flex flex-col items-center justify-center",style:$({height:(e.klineHeight??200)-105+"px"})},l[18]||(l[18]=[g("img",{src:te,alt:""},null,-1)]),4))])),[[_,Z.value.loadingTxs]])]),g("div",NA,[O(g("div",$A,[y(o,{name:"custom:stop",class:"text-14px"}),g("span",FA,k(x(s)("paused")),1)],512),[[ce,Y.value]])]),y(Xy,{modelValue:K.value,"onUpdate:modelValue":l[7]||(l[7]=e=>K.value=e),"virtual-ref":oe.value,currentRow:se.value,addressAndChain:he.value},{default:b((()=>[se.value.senderProfile?(h(),C(A,{key:0},[qe(se.value)?O((h(),p(o,{key:0,name:"custom:new-account",class:"icon-hover"},null,512)),[[m,{content:`<span style='color: #85E12F'>${e.$t("newTokenAccount")}</span>`,props:{"raw-content":!0,"popper-class":"orderbook-icon-tooltip"}}]]):f("",!0),Ye(se.value)?O((h(),p(o,{key:1,name:"custom:cleared-account",class:"icon-hover"},null,512)),[[m,{content:`<span style='color: #EB2B4B'>${e.$t("sellAl")}</span>`,props:{"raw-content":!0,"popper-class":"orderbook-icon-tooltip"}}]]):f("",!0),Qe(se.value)?O((h(),p(o,{key:2,name:"custom:big",class:"icon-hover"},null,512)),[[m,{content:`<span style='color: #C5842B'>${e.$t("whales")}</span>`,props:{"raw-content":!0,"popper-class":"orderbook-icon-tooltip"}}]]):f("",!0)],64)):f("",!0),y(d,{tagClass:"mr-3px",tags:se.value.newTags,walletAddress:se.value.wallet_address,chain:se.value.chain},null,8,["tags","walletAddress","chain"])])),_:1},8,["modelValue","virtual-ref","currentRow","addressAndChain"]),y(v,{modelValue:ue.value,"onUpdate:modelValue":l[13]||(l[13]=e=>ue.value=e),width:440,title:e.$t("markerAddressFilter")},{default:b((()=>[l[21]||(l[21]=g("div",{class:"mx--16px h-1px bg-[--border] mb-20px"},null,-1)),g("div",IA,[g("label",LA,k(e.$t("markerAddress")),1)]),y(c,{id:"markerAddress",modelValue:pe.value.markerAddress,"onUpdate:modelValue":l[8]||(l[8]=e=>pe.value.markerAddress=e),clearable:"",class:"text-12px",placeholder:e.$t("markerAddress")},null,8,["modelValue","placeholder"]),g("div",VA,[g("label",null,k(e.$t("filter")),1)]),g("div",DA,[y(c,{modelValue:pe.value.minVol,"onUpdate:modelValue":l[9]||(l[9]=e=>pe.value.minVol=e),modelModifiers:{trim:!0,number:!0},clearable:"",type:"text",class:"text-12px",placeholder:e.$t("filterSmallAmount"),style:{"--el-input-border-color":"var(--border)"},onInput:l[10]||(l[10]=e=>pe.value.minVol=e.replace(/\-|[^\d.]/g,""))},{suffix:b((()=>l[19]||(l[19]=[T("$")]))),_:1},8,["modelValue","placeholder"]),y(c,{modelValue:pe.value.maxVol,"onUpdate:modelValue":l[11]||(l[11]=e=>pe.value.maxVol=e),modelModifiers:{trim:!0,number:!0},clearable:"",type:"text",class:"text-12px",placeholder:e.$t("filterLargeAmount"),style:{"--el-input-border-color":"var(--border)"},onInput:l[12]||(l[12]=e=>pe.value.maxVol=e.replace(/\-|[^\d.]/g,""))},{suffix:b((()=>l[20]||(l[20]=[T("$")]))),_:1},8,["modelValue","placeholder"])]),g("div",MA,[y(i,{class:"h-30px flex-1 m-l-auto",onClick:Xe},{default:b((()=>[T(k(e.$t("reset")),1)])),_:1}),y(i,{type:"primary",class:"h-30px flex-1 m-l-auto",onClick:Ze},{default:b((()=>[T(k(e.$t("confirm")),1)])),_:1})])])),_:1},8,["modelValue","title"])],4)):f("",!0)}}}),[["__scopeId","data-v-d7385695"]]),PA={class:"flex bg-[--main-divider] gap-1px flex min-w-0 w-full",style:{"min-height":"calc(100vh - 92px)"}},EA={class:"flex-1 min-w-0"},UA={class:"flex gap-1px"},RA={class:"hide-scrollbar"},HA={class:"flex-1 hide-scrollbar min-w-0 relative"},OA=B(s({__name:"[[id]]",setup(e){const l=r(),n=Y(),o=He(),s=uw(),i=W(),k=d((()=>i.isShowWaring?_.tokenHistoryVisible?"calc(100vh - 230px)":"calc(100vh - 198px)":_.tokenHistoryVisible?"calc(100vh - 190px)":"calc(100vh - 158px)")),_=j(),T=q(),N=d((()=>{var e;const l=null==(e=T.userInfo)?void 0:e.addresses;return Array.isArray(l)?Array.from(new Set(l.map((e=>e.address)))):[]})),F=je(),I=re("orderBookVisible",!1);fn("orderBookVisible",I);const M=U([]);fn(Wt.KLINE_DATE_FILTER,M);const B=re("kHeight",$t.KLINE),P=re("orderBookWidth",300),E=u({summary:"",headline:""});let R=!1;const H=d((()=>T.evmAddress||n.address));function z(e){e.preventDefault();let l=e.clientX;R=!0;const a=document.getElementById("tv_chart_container");a&&(a.style.pointerEvents="none");const t=document.body.style.cursor,n=document.body.style.userSelect;document.body.style.cursor="col-resize",document.body.style.userSelect="none";let o=!1,s=l;const i=e=>{R&&(s=e.clientX,o||(o=!0,requestAnimationFrame((()=>{const e=s,a=l-e,t=P.value+a;P.value=Math.min(400,Math.max(300,t)),l=e,o=!1}))))},r=()=>{R=!1,window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",r),a&&(a.style.pointerEvents="auto"),document.body.style.cursor=t,document.body.style.userSelect=n};return window.addEventListener("mousemove",i),window.addEventListener("mouseup",r,{once:!0}),!1}function G(){const e=Array.isArray(l.params.id)?l.params.id[0]:l.params.id;pn(e).then((e=>{E.value=e??{summary:"",headline:""}})).catch((e=>{})).finally((()=>{}))}v((()=>{G()})),m([()=>l.params.id,()=>o.locale],(()=>{G()})),fn("aiSummary",E);const Q=u(!0);function K(){It().reset();const{address:e,chain:a}=c(l.params.id);F.send({jsonrpc:"2.0",method:"unsubscribe",params:[kl.PUBLIC_PORTRAIT],id:1}),F.send({jsonrpc:"2.0",method:"subscribe",params:[kl.PUBLIC_PORTRAIT,e,a],id:1})}function Z(e=!1){i.tokenPrice=0,function(){const e=l.params.id;return i.loadingToken=!0,Wl(e).then((e=>{var l;i.tokenInfo=e,i.pairAddress=(null==(l=null==e?void 0:e.pairs)?void 0:l[0].pair)||""})).finally((()=>{i.loadingToken=!1}))}().then((()=>{e||function(){if(i.tokenInfo){const{logo_url:e,symbol:l,chain:a,token:t}=i.tokenInfo.token;-1===_.lastVisitTokens.findIndex((e=>e.id===t+"-"+a))&&(_.lastVisitTokens.length>=20&&_.lastVisitTokens.pop(),_.lastVisitTokens.unshift({id:t+"-"+a,logo_url:e,symbol:l,price_change:i.priceChange,price_change_v2:i.priceChangeV2,circulation:i.circulation.toString(),price:i.price||0})),vo().sendPriceWs()}}()})),function(){const e=l.params.id;ql(e).then((e=>{i.tokenInfoExtra=e}))}(),i._getTotalHolders(l.params.id),s.getTagArr(),i.twitterType=0,i.getXType(l.params.id),Pn().getContractCheckResult(l.params.id,H.value)}function X(){Q.value=!document.hidden||"visible"===document.visibilityState}function J(){Z(!0)}fn("documentVisible",Q),m((()=>N.value),(()=>{var e;(null==(e=N.value)?void 0:e.length)&&T.subBalanceChange()}),{immediate:!0}),m((()=>l.params.id),(()=>{Z(),K()})),vn((()=>{Z(),K(),document.addEventListener("visibilitychange",X)})),de((()=>{var e;null==(e=null==i?void 0:i.reset)||e.call(i),F.send({jsonrpc:"2.0",method:"unsubscribe",params:["asset"],id:1}),F.send({jsonrpc:"2.0",method:"unsubscribe",params:[kl.PUBLIC_PORTRAIT],id:1})})),mn((()=>{var e;null==(e=F.getWSInstance())||e.offMessage(["tx_update_token","kline","price"]),document.removeEventListener("visibilitychange",X)}));const ee=Sl("klineContainer"),le=({scrollTop:e})=>{var l,a;null==(a=null==(l=ee.value)?void 0:l.setScrollTop)||a.call(l,e)};return(e,l)=>{const n=a,o=t,s=w;return h(),C("div",PA,[g("div",EA,[x(_).tokenHistoryVisible?(h(),p(n,{key:0,class:"mb-1px"})):f("",!0),y(Bc),g("div",UA,[g("div",RA,[y(o,{height:x(k)},{default:b((()=>[y(x(j_),{class:"w-292px flex flex-col flex-shrink-0"})])),_:1},8,["height"])]),g("div",HA,[O(g("div",{class:"absolute bg-[--main-list-hover] w-10px h-32px z-1 cursor-pointer flex items-center justify-center left--11px hover:w-30px hover:left--31px hover:h-36px transition-all rounded-tl-4px rounded-bl-4px color-[--third-text] hover:color-[--main-text]",onClick:l[0]||(l[0]=e=>x(_).$patch({showLeft:!1}))},[y(s,{name:"material-symbols:arrow-back-ios-new-rounded",class:"text-12px"})],512),[[ce,x(_).showLeft]]),O(g("div",{class:"absolute bg-[--main-list-hover] w-10px h-32px z-1 cursor-pointer flex items-center justify-center left-0 hover:w-30px hover:h-36px transition-all rounded-tr-4px rounded-br-4px color-[--third-text] hover:color-[--main-text]",onClick:l[1]||(l[1]=e=>x(_).$patch({showLeft:!0}))},[y(s,{name:"material-symbols:arrow-forward-ios",class:"text-12px"})],512),[[ce,!x(_).showLeft]]),y(o,{height:x(k),onScroll:le},{default:b((()=>[g("div",{class:V(x(I)?"grid gap-1px":"grid grid-cols-1 gap-1px"),style:$(x(I)?{gridTemplateColumns:`1fr 4px ${x(P)}px`}:{})},[g("div",null,[y(bn,{ref:"klineContainer",onRefresh:J},null,512)]),x(I)?(h(),C("div",{key:0,class:"cursor-col-resize bg-[--d-222-l-F2F2F2] hover:bg-[--d-666-l-CCC] flex flex-col items-center justify-center gap-1px w-4px",onMousedown:L(z,["stop","prevent"])},[(h(),C(A,null,S(4,(e=>g("span",{key:e,class:"bg-[--d-444-l-999] w-2px h-2px rounded-full"}))),64))],32)):f("",!0),y(x(BA),{modelValue:x(I),"onUpdate:modelValue":l[2]||(l[2]=e=>D(I)?I.value=e:null),"kline-height":x(B)+3},null,8,["modelValue","kline-height"])],6),y(x(qC),{class:"min-h-300px rounded-4px bg-[--d-000-l-F6F6F6]"})])),_:1},8,["height"])])])]),y(Rk,{class:"w-334px flex-shrink-0"})])}}}),[["__scopeId","data-v-6465033e"]]),jA=Object.freeze(Object.defineProperty({__proto__:null,default:OA},Symbol.toStringTag,{value:"Module"}));export{MT as S,K_ as _,Cm as a,jA as b,Hk as c,Tp as u};
