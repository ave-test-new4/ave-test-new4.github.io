import{f as a,W as e,e_ as l,v as t,I as r,r as i,g as s,m as o,N as d,O as n,e3 as c,c as m,o as p,b as f,a as u,w as b,i as g,t as h,d as v,a1 as x,D as y,B as N,a5 as w,K as _,a$ as I,A as D,q2 as P}from"./LNDzZpPm.js";import{E as S,a as j}from"./CyofXtRf.js";import"./BcS6nOuf.js";import"./CqaOUC0Y.js";import"./DuC4p7MX.js";const F=["infinite-scroll-disabled"],L={class:"text-12px"},T={key:1},Y={class:"text-14px"},k={class:"flex items-center justify-end gap-4px"},E={class:"mt-[2px] mb-[5px] py-[10px] text-[12px] text-center color-[--third-text]"},A={key:0},O=a({__name:"orderDetail",props:{searchParams:{}},setup(a){const O=e(),z=l(),{t:B}=t(),U=a,C=r([]),G=i({loading:!1,finished:!1,error:!1}),H=i(""),M=s((()=>{var a,e,l;const t=(null==(l=null==(e=null==(a=z.metadata)?void 0:a.contractList)?void 0:e.reduce)?void 0:l.call(e,((a,e)=>(a[e.contractId]=e.contractName,a)),{}))||{};return t.ALL=B("all"),t})),$=async()=>{if(G.value.loading||G.value.finished)return;const a={filterStatusList:"CANCELING,OPEN,PENDING",...U.searchParams};H.value&&(a.offsetData=H.value);try{G.value.loading=!0;const e=await P(a);let l=e.dataList||[];H.value&&(l=C.value.concat(l)),e.nextPageOffsetData||(G.value.finished=!0),H.value=e.nextPageOffsetData,C.value=l}catch(e){G.value.error=!0}finally{G.value.loading=!1}};return O.address&&$(),o((()=>[U.searchParams,O.address]),(()=>{H.value="",C.value=[],G.value.finished=!1,G.value.error=!1,G.value.loading=!1,$()})),(a,e)=>{const l=I,t=S,r=N,i=j,s=d("copy"),o=c;return n((p(),m("div",{class:"relative min-h-400px bg-[--secondary-bg]","infinite-scroll-delay":200,"infinite-scroll-disabled":g(G).loading||g(G).finished||g(G).error,"infinite-scroll-immediate":!1,"infinite-scroll-distance":300},[f(i,{fit:"",data:g(C),"header-row-class-name":"text-12px sticky top-0 z-10 font-500","cell-class-name":"color-[--main-text] text-12px"},{empty:b((()=>{var e;return[g(G).loading||0!==(null==(e=g(C))?void 0:e.length)?(p(),m("span",T)):(p(),_(l,{key:0,class:"pt-[40px]"},{default:b((()=>[u("span",L,h(a.$t("emptyNoData")),1)])),_:1}))]})),default:b((()=>[f(t,{label:g(B)("markets1"),prop:"contractId"},{default:b((({row:a})=>[u("span",Y,h(g(M)[a.contractId]),1)])),_:1},8,["label"]),f(t,{width:100,label:g(B)("filledQty"),prop:"fillSize"},{default:b((({row:e})=>[v(h(("formatNumber"in a?a.formatNumber:g(x))(e.fillSize))+" "+h(g(M)[e.contractId].replace("USD","")),1)])),_:1},8,["label"]),f(t,{width:100,align:"right",label:g(B)("filledPrice"),prop:"fillPrice"},{default:b((({row:e})=>[v(h(("formatNumber"in a?a.formatNumber:g(x))(e.fillPrice,{decimals:2,limit:20})),1)])),_:1},8,["label"]),f(t,{align:"right",label:g(B)("role"),prop:"direction"},null,8,["label"]),f(t,{align:"right",label:g(B)("fee"),prop:"fillFee"},{default:b((({row:e})=>[v(h(("formatNumber"in a?a.formatNumber:g(x))(e.fillFee,{decimals:3,limit:20})),1)])),_:1},8,["label"]),f(t,{align:"right",label:g(B)("tradeType"),prop:"orderSide"},{default:b((({row:a})=>[u("span",{class:y("BUY"===a.orderSide?"color-[--up-color]":"color-[--down-color]")},h("BUY"===a.orderSide?g(B)("buy"):g(B)("sell")),3)])),_:1},8,["label"]),f(t,{align:"right",label:g(B)("filledType"),prop:"tradeType2"},{default:b((({row:a})=>[v(h(g(B)("trades")),1)])),_:1},8,["label"]),f(t,{align:"right",label:g(B)("tradeNo"),prop:"matchFillId"},{default:b((({row:a})=>[u("div",k,[v(h(a.matchFillId.slice(0,4))+"..."+h(a.matchFillId.slice(-4)),1),n(f(r,{name:"bxs:copy",class:"color-[#5A5E64]"},null,512),[[s,a.matchFillId]])])])),_:1},8,["label"]),f(t,{align:"right",label:g(B)("tradeTime"),prop:"matchTime"},{default:b((({row:a})=>[v(h(g(w)(Number(a.matchTime)).format("YYYY-MM-DD HH:mm:ss")),1)])),_:1},8,["label"])])),_:1},8,["data"]),u("div",E,[g(G).loading&&g(H)?(p(),m("span",A,h(g(B)("loading")),1)):D("",!0)])],8,F)),[[o,$]])}}});export{O as default};
