import{E as _,a as e}from"./DQUqQXp4.js";import{E as a}from"./BmJn-QVY.js";import{o0 as E,f as R,v as l,I,r as t,g as D,a5 as S,c as T,o as N,a as s,O as A,b as n,w as o,F as r,C as O,i,K as C,t as W,d,e3 as u,D as c,a1 as L,A as P,B as p,a$ as F,bY as m,bv as H,q7 as f,a4 as G}from"./LNDzZpPm.js";import{E as b,a as v}from"./CyofXtRf.js";import"./BcS6nOuf.js";import"./CqaOUC0Y.js";import{S as x}from"./D6i2W5JX.js";import"./BZp9YwGa.js";import"./CdYdV4TG.js";import"./DuC4p7MX.js";const M={0:"NORMAL_DEPOSIT_UNKNOWN",1:"NORMAL_DEPOSIT_PENDING_L1_CREATING",2:"NORMAL_DEPOSIT_PENDING_RISK_CHECKING",3:"NORMAL_DEPOSIT_PENDING_TRADE_PROCESSING",4:"NORMAL_DEPOSIT_SUCCESS_CENSORED",5:"NORMAL_DEPOSIT_SUCCESS_L2_APPROVED",10:"NORMAL_DEPOSIT_FAILED_L1_CANCELD",11:"NORMAL_DEPOSIT_FAILED_L1_FAILURE",12:"NORMAL_DEPOSIT_FAILED_RISK_CHECK_FAILURE",13:"NORMAL_DEPOSIT_FAILED_CENSOR_FAILURE",14:"NORMAL_DEPOSIT_FAILED_L2_REJECTED"},U={0:"CROSS_DEPOSIT_UNKNOWN",1:"CROSS_DEPOSIT_PENDING_L1_CREATING",2:"CROSS_DEPOSIT_PENDING_RISK_CHECKING",3:"CROSS_DEPOSIT_PENDING_TRADE_NOTIFIED",4:"CROSS_DEPOSIT_L2_TRANSFERED",5:"CROSS_DEPOSIT_PENDING_TRADE_CONFIRMED",6:"CROSS_DEPOSIT_SUCCESS",21:"CROSS_DEPOSIT_FAILED_RISK_CHECK_FAILURE",22:"CROSS_DEPOSIT_FAILED_TRANSFER_OUT"},K={0:"NORMAL_WITHDRAW_UNKNOWN",1:"NORMAL_WITHDRAW_PENDING_RISK_CHECKING",2:"NORMAL_WITHDRAW_PENDING_TRADE_PROCESSING",3:"NORMAL_WITHDRAW_PENDING_L2_APPROVING",4:"NORMAL_WITHDRAW_PENDING_L1_CONFIRMING",5:"NORMAL_WITHDRAW_PENDING_L1_WITHDRAWING",6:"NORMAL_WITHDRAW_SUCCESS_L1_COMPLETED",7:"NORMAL_WITHDRAW_FAILED_RISK_CHECK_FAILURE",8:"NORMAL_WITHDRAW_FAILED_CENSOR_FAILURE",9:"NORMAL_WITHDRAW_FAILED_L2_REJECTED"},Y={0:"FAST_WITHDRAW_UNKNOWN",1:"FAST_WITHDRAW_PENDING_RISK_CHECKING",2:"FAST_WITHDRAW_PENDING_L1_TRY",3:"FAST_WITHDRAW_PENDING_CHECKING",4:"FAST_WITHDRAW_PENDING_SUBMIT",5:"FAST_WITHDRAW_PENDING_CHECKING_ACCOUNT",6:"FAST_WITHDRAW_PENDING_CENSORING",7:"FAST_WITHDRAW_PENDING_L1_CONFIRM",8:"FAST_WITHDRAW_PENDING_L1_CONFIRMING",9:"FAST_WITHDRAW_PENDING_CENSORING_CONFIRMING",10:"FAST_WITHDRAW_PENDING_L2_APPROVING",11:"FAST_WITHDRAW_SUCCESS",21:"FAST_WITHDRAW_FAILED_RISK_CHECK_FAILURE",22:"FAST_WITHDRAW_FAILED_L1_TRY_REJECTED",23:"FAST_WITHDRAW_FAILED_TRANSFER_REJECTED",24:"FAST_WITHDRAW_FAILED_CHECKING_ACCOUNT_REJECTED",25:"FAST_WITHDRAW_FAILED_CENSORING",26:"FAST_WITHDRAW_FAILED_L1_CONFIRM_REJECTED",27:"FAST_WITHDRAW_FAILED_L1_REJECTED",28:"FAST_WITHDRAW_FAILED_L2_REJECTED"},h={0:"CROSS_WITHDRAW_UNKNOWN",1:"CROSS_WITHDRAW_PENDING_RISK_CHECKING",2:"CROSS_WITHDRAW_PENDING_CHECKING",3:"CROSS_WITHDRAW_SUCCESS_SUBMIT_CENSOR",4:"CROSS_WITHDRAW_PENDING_CENSOR_CHECKING_ACCOUNT",5:"CROSS_WITHDRAW_PENDING_CENSORING",6:"CROSS_WITHDRAW_PENDING_L2_APPROVING",7:"CROSS_WITHDRAW_PENDING_L1_SUBMIT",8:"CROSS_WITHDRAW_PENDING_L1_CONFIRMING",9:"CROSS_WITHDRAW_SUCCESS",21:"CROSS_WITHDRAW_FAILED_RISK_CHECK_FAILURE",22:"CROSS_WITHDRAW_FAILED_TRANSFER_REJECTED",23:"CROSS_WITHDRAW_FAILED_CENSOR_CHECKING_ACCOUNT_REJECTED",24:"CROSS_WITHDRAW_FAILED_CENSORING",25:"CROSS_WITHDRAW_FAILED_L2_REJECTED",26:"CROSS_WITHDRAW_FAILED_L1_SUBMIT_REJECTED",27:"CROSS_WITHDRAW_FAILED_L1_REJECTED"},g={0:"UNKNOWN_TRANSFER_STATUS",1:"PENDING_CHECKING",2:"PENDING_CENSORING",3:"SUCCESS_CENSOR_SUCCESS",4:"SUCCESS_L2_APPROVED",5:"FAILED_CHECK_INVALID",6:"FAILED_CENSOR_FAILURE",7:"FAILED_L2_REJECT",8:"FAILED_L2_REJECT_APPROVED"},y="ORDER_TYPE_CROSS_DEPOSIT",w="ORDER_TYPE_NORMAL_DEPOSIT",V="ORDER_TYPE_NORMAL_WITHDRAW",J="ORDER_TYPE_CROSS_WITHDRAW",j="ORDER_TYPE_FAST_WITHDRAW",k="ORDER_TYPE_TRANSFER_OUT",z="ORDER_TYPE_TRANSFER_IN";function B(_,e,a=!0){const R=E(),l={UnKnown:R("unKnown1"),Pending:R("confirming"),Success:R("success2"),Failed:R("failed")},I=function(_,e){return _===y&&U[e]||_===w&&M[e]||_===J&&h[e]||_===V&&K[e]||_===j&&Y[e]||(_===k||_===z)&&g[e]||String(e)}(_,e);return I.includes("PENDING")||"CROSS_WITHDRAW_SUCCESS_SUBMIT_CENSOR"===I||"9999"===I?a?l.Pending:" Pending":I.includes("SUCCESS")||"FAST_WITHDRAW_PENDING_CENSORING_CONFIRMING"===I||"FAST_WITHDRAW_PENDING_L2_APPROVING"===I||"CROSS_DEPOSIT_L2_TRANSFERED"===I?a?l.Success:"Success":I.includes("FAILED")?a?l.Failed:"Failed":a?l.UnKnown:"UnKnown"}const $={class:"flex items-center justify-end gap-8px mb-16px"},X={class:"flex items-center gap-4px text-12px"},q=["infinite-scroll-disabled"],Q={class:"text-12px"},Z={key:1},__={key:0,class:"flex items-center gap-4px"},e_={class:"mt-[2px] mb-[5px] py-[10px] text-[12px] text-center color-[--third-text]"},a_={key:0},E_=R({__name:"fundingRecord",setup(E){const{t:R}=l(),M=I([]),U=t({loading:!1,finished:!1,error:!1}),K=t(""),Y=D((()=>({ORDER_TYPE_NORMAL_DEPOSIT:{value:"ORDER_TYPE_NORMAL_DEPOSIT",label:R("normalDeposit")},ORDER_TYPE_CROSS_DEPOSIT:{value:"ORDER_TYPE_CROSS_DEPOSIT",label:R("crossDeposit")},ORDER_TYPE_NORMAL_WITHDRAW:{value:"ORDER_TYPE_NORMAL_WITHDRAW",label:R("normalWithdraw")},ORDER_TYPE_CROSS_WITHDRAW:{value:"ORDER_TYPE_CROSS_WITHDRAW",label:R("crossWithdraw")},ORDER_TYPE_FAST_WITHDRAW:{value:"ORDER_TYPE_FAST_WITHDRAW",label:R("fastWithdraw")},ORDER_TYPE_TRANSFER_OUT:{value:"ORDER_TYPE_TRANSFER_OUT",label:R("internalWithdraw")},ORDER_TYPE_TRANSFER_IN:{value:"ORDER_TYPE_TRANSFER_IN",label:R("internalDeposit")}}))),h=t({typeList:"ALL",startTime:S().subtract(7,"d").startOf("day").unix(),endTime:S().endOf("day").unix()}),g=D((()=>[{label:R("all"),value:"ALL"}].concat(Object.values(Y.value))));R("success2");const y=_=>!!h.value.endTime&&S(_).isAfter(S(1e3*Number(h.value.endTime))),w=_=>!!h.value.startTime&&S(_).isBefore(S(1e3*Number(h.value.startTime))),V=async()=>{if(U.value.loading||U.value.finished)return;const _=Object.create(null);Object.keys(h.value).forEach((e=>{const a=h.value[e];a&&"ALL"!==a&&(_[e]=a)})),K.value&&(_.offsetData=K.value);try{U.value.loading=!0;const e=await f(_);let a=e.dataList||[];K.value&&(a=M.value.concat(a)),e.nextPageOffsetData||(U.value.finished=!0),K.value=e.nextPageOffsetData,M.value=a}catch(e){U.value.error=!0,G.error(e.message)}finally{U.value.loading=!1}};V();const J=()=>{K.value="",M.value=[],U.value.finished=!1,U.value.error=!1,U.value.loading=!1,V()};return(E,l)=>{const I=_,t=e,D=a,f=F,G=b,j=p,k=v,z=u;return N(),T(r,null,[s("div",$,[n(t,{modelValue:i(h).typeList,"onUpdate:modelValue":l[0]||(l[0]=_=>i(h).typeList=_),size:"small",class:"[&&]:[--el-select-width:110px]","popper-class":"[--el-font-size-base:12px]","suffix-icon":i(x),onChange:J},{prefix:o((()=>[s("span",null,W(i(R)("type")),1)])),default:o((()=>[(N(!0),T(r,null,O(i(g),(_=>(N(),C(I,{key:_.value,label:_.label,value:_.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","suffix-icon"]),s("div",X,[n(D,{modelValue:i(h).startTime,"onUpdate:modelValue":l[1]||(l[1]=_=>i(h).startTime=_),size:"small","disabled-date":y,class:"[--el-font-size-base:12px] [&&]:[--el-date-editor-width:120px]","range-separator":"To",format:"YYYY-MM-DD",placeholder:i(R)("startTime"),"value-format":"X",teleported:!1,clearable:!1,onChange:J},null,8,["modelValue","placeholder"]),d(" "+W(E.$t("to"))+" ",1),n(D,{modelValue:i(h).endTime,"onUpdate:modelValue":l[2]||(l[2]=_=>i(h).endTime=_),size:"small","disabled-date":w,class:"[--el-font-size-base:12px] [&&]:[--el-date-editor-width:120px]","range-separator":"To",format:"YYYY-MM-DD",placeholder:i(R)("endTime2"),"value-format":"X",teleported:!1,clearable:!1,onChange:J},null,8,["modelValue","placeholder"])])]),A((N(),T("div",{class:"relative min-h-400px bg-[--secondary-bg]","infinite-scroll-delay":200,"infinite-scroll-disabled":i(U).loading||i(U).finished||i(U).error,"infinite-scroll-immediate":!1,"infinite-scroll-distance":300},[n(k,{data:i(M),"header-row-class-name":"text-12px sticky top-0 z-10 font-500","cell-class-name":"color-[--main-text] text-12px"},{empty:o((()=>{var _;return[i(U).loading||0!==(null==(_=i(M))?void 0:_.length)?(N(),T("span",Z)):(N(),C(f,{key:0,class:"pt-[40px]"},{default:o((()=>[s("span",Q,W(E.$t("emptyNoData")),1)])),_:1}))]})),default:o((()=>[n(G,{label:i(R)("tradeTime"),prop:"time"},{default:o((({row:_})=>[d(W(i(S)(1e3*_.time).format("YYYY-MM-DD HH:mm:ss")),1)])),_:1},8,["label"]),n(G,{label:i(R)("type"),prop:"recordType"},{default:o((({row:_})=>{var e;return[d(W(null==(e=i(Y)[_.type])?void 0:e.label),1)]})),_:1},8,["label"]),n(G,{label:i(R)("status"),prop:"status"},{default:o((({row:_})=>[s("span",{class:c("Failed"!==i(B)(_.type,_.status,!1)?"color-[--up-color]":"color-[--down-color]")},W(i(B)(_.type,_.status)||i(R)("failed")),3)])),_:1},8,["label"]),n(G,{label:i(R)("amount"),prop:"amount"},{default:o((({row:_})=>[d(W(("formatNumber"in E?E.formatNumber:i(L))(_.amount)),1)])),_:1},8,["label"]),n(G,{label:i(R)("coin"),prop:"coin"},null,8,["label"]),n(G,{label:i(R)("fee"),prop:"fee"},{default:o((({row:_})=>[_.fee||0===_.fee?(N(),T(r,{key:0},[d("$"+W(("formatNumber"in E?E.formatNumber:i(L))(_.fee)),1)],64)):(N(),T(r,{key:1},[d("--")],64))])),_:1},8,["label"]),n(G,{label:i(R)("chain"),prop:"chain"},null,8,["label"]),n(G,{label:i(R)("counterpartyAccount"),prop:"transferSenderAccountId"},{default:o((({row:_})=>{return[d(W((e=_.transferSenderAccountId,a=_.transferReceiverAccountId,"0"===e&&"0"===a?"--":e||a)),1)];var e,a})),_:1},8,["label"]),n(G,{label:i(R)("tradeId"),prop:"txId"},{default:o((({row:_})=>[_.txId?(N(),T("div",__,[d(W(_.txId.slice(0,4)+"..."+_.txId.slice(-4)),1),n(j,{name:"custom:share1",class:"color-[--third-text] hover:color-[--main-text] cursor-pointer",onClick:e=>function(_,e){const a=m(_,!0);window.open(H(null==a?void 0:a.net_name,e,"tx"),"_blank")}(_.chainId,_.txId)},null,8,["onClick"])])):P("",!0)])),_:1},8,["label"])])),_:1},8,["data"]),s("div",e_,[i(U).loading&&i(K)?(N(),T("span",a_,W(i(R)("loading")),1)):P("",!0)])],8,q)),[[z,V]])],64)}}});export{E_ as default};
