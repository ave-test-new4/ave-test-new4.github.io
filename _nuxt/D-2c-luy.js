import{fn as e,g4 as l,g8 as a,fs as t,nm as u,g9 as n,fv as o,f as i,fp as s,fq as r,a5 as d,fy as p,r as c,fA as v,fS as m,g as f,K as y,o as x,w as b,c as g,F as h,C as k,i as A,A as T,by as V,D as w,as as _,fG as C,cN as B,V as $,I as F,cl as S,o3 as R,v as M,c2 as P,b_ as I,am as N,m as L,cb as U,c1 as E,N as O,b as j,a as H,O as z,ec as J,B as G,t as D,d as K,aM as q,J as W,P as Z,cc as Q,a2 as Y,p as X,bY as ee,a1 as le,H as ae,_ as te,n as ue,s as ne,aE as oe,U as ie,el as se,bq as re,br as de,a8 as pe,G as ce,ck as ve,c9 as me,bQ as fe,cS as ye,a4 as xe,h as be,y as ge,ez as he,eA as ke}from"./LNDzZpPm.js";import{_ as Ae}from"./CjgWAcEl.js";import{a as Te,E as Ve}from"./DQUqQXp4.js";import{E as we}from"./vmSyQCMq.js";import"./BcS6nOuf.js";import"./CqaOUC0Y.js";import{S as _e}from"./D6i2W5JX.js";import{E as Ce}from"./CdYdV4TG.js";import{c as Be}from"./BZp9YwGa.js";import{_ as $e,a as Fe,b as Se,c as Re,d as Me,e as Pe}from"./-Rp-PRm7.js";const Ie=e({format:{type:String,default:"HH:mm"},modelValue:{type:t(String)},disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:t(String),default:"light"},clearable:{type:Boolean,default:!0},size:n,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:{type:t(String)},maxTime:{type:t(String)},includeEndTime:Boolean,name:String,prefixIcon:{type:t([String,Object]),default:()=>u},clearIcon:{type:t([String,Object]),default:()=>a},...l}),Ne=e=>{const l=(e||"").split(":");if(l.length>=2){let a=Number.parseInt(l[0],10);const t=Number.parseInt(l[1],10),u=e.toUpperCase();return u.includes("AM")&&12===a?a=0:u.includes("PM")&&12!==a&&(a+=12),{hours:a,minutes:t}}return null},Le=(e,l)=>{const a=Ne(e);if(!a)return-1;const t=Ne(l);if(!t)return-1;const u=a.minutes+60*a.hours,n=t.minutes+60*t.hours;return u===n?0:u>n?1:-1},Ue=e=>`${e}`.padStart(2,"0"),Ee=e=>`${Ue(e.hours)}:${Ue(e.minutes)}`,Oe=(e,l)=>{const a=Ne(e);if(!a)return"";const t=Ne(l);if(!t)return"";const u={hours:a.hours,minutes:a.minutes};return u.minutes+=t.minutes,u.hours+=t.hours,u.hours+=Math.floor(u.minutes/60),u.minutes=u.minutes%60,Ee(u)},je=i({name:"ElTimeSelect"});const He=C(o(i({...je,props:Ie,emits:[s,"blur","focus","clear",r],setup(e,{expose:l}){const a=e;d.extend(Be);const{Option:t}=Te,u=p("input"),n=c(),o=v(),{lang:i}=m(),C=f((()=>a.modelValue)),B=f((()=>{const e=Ne(a.start);return e?Ee(e):null})),$=f((()=>{const e=Ne(a.end);return e?Ee(e):null})),F=f((()=>{const e=Ne(a.step);return e?Ee(e):null})),S=f((()=>{const e=Ne(a.minTime||"");return e?Ee(e):null})),R=f((()=>{const e=Ne(a.maxTime||"");return e?Ee(e):null})),M=f((()=>{var e;const l=[],t=(e,a)=>{l.push({value:e,disabled:Le(a,S.value||"-1:-1")<=0||Le(a,R.value||"100:100")>=0})};if(a.start&&a.end&&a.step){let u,n=B.value;for(;n&&$.value&&Le(n,$.value)<=0;)u=d(n,"HH:mm").locale(i.value).format(a.format),t(u,n),n=Oe(n,F.value);if(a.includeEndTime&&$.value&&(null==(e=l[l.length-1])?void 0:e.value)!==$.value){t(d($.value,"HH:mm").locale(i.value).format(a.format),$.value)}}return l}));return l({blur:()=>{var e,l;null==(l=null==(e=n.value)?void 0:e.blur)||l.call(e)},focus:()=>{var e,l;null==(l=null==(e=n.value)?void 0:e.focus)||l.call(e)}}),(e,l)=>(x(),y(A(Te),{ref_key:"select",ref:n,"model-value":A(C),disabled:A(o),clearable:e.clearable,"clear-icon":e.clearIcon,size:e.size,effect:e.effect,placeholder:e.placeholder,"default-first-option":"",filterable:e.editable,"empty-values":e.emptyValues,"value-on-clear":e.valueOnClear,"onUpdate:modelValue":l=>e.$emit(A(r),l),onChange:l=>e.$emit(A(s),l),onBlur:l=>e.$emit("blur",l),onFocus:l=>e.$emit("focus",l),onClear:()=>e.$emit("clear")},{prefix:b((()=>[e.prefixIcon?(x(),y(A(V),{key:0,class:w(A(u).e("prefix-icon"))},{default:b((()=>[(x(),y(_(e.prefixIcon)))])),_:1},8,["class"])):T("v-if",!0)])),default:b((()=>[(x(!0),g(h,null,k(A(M),(e=>(x(),y(A(t),{key:e.value,label:e.value,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])))),128))])),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}}),[["__file","time-select.vue"]])),ze=B("copyTrade",(()=>{const e=$(),l=F(1),a=F(!1),t=F(!1),u=F(!1),n=c({}),o=c({id:0,followAddress:"",buyType:2,buyAmount:"",maxBuyRatio:"",sellType:1,takeProfitRatio:"",stopLossRatio:"",ignoreHeld:!1,chain:"bsc",slippage:9,isPrivate:!1,priorityFee:""}),i=c({minBuyValue:"",maxBuyValue:"",minMarketCap:"",maxMarketCap:"",minTokenAge:0,maxTokenAge:0,enableAt:0,disableAt:0}),s=c([]),r=c(null),d=S("copy_obj",{followName:"",creatorAddress:"",chain:"",id:0}),p=c({slippage:9,isPrivate:!1,priorityFee:""}),v={slippage:9,isPrivate:!1,priorityFee:""},m=c({});return R.forEach((e=>{m.value[e]||(m.value[e]={...v,priorityFee:"solana"==e?"0.04":"1"})})),{copyTradeVisible:a,copyTradeAddVisible:t,setting:p,copyObj:d,getFollowingInfo:async function(){if(null==e?void 0:e.evmAddress){u.value=!0;try{const l=await $e(e.evmAddress);r.value={...l,copyList:Array.isArray(null==l?void 0:l.copyList)?l.copyList.map((e=>({...e,lastSwap:"1970-01-01T00:00:00Z"!==(null==e?void 0:e.lastSwap)&&"0001-01-01T00:00:00Z"!==(null==e?void 0:e.lastSwap)?e.lastSwap:"0"}))):[]}}catch(l){throw l}finally{u.value=!1}}},getFollowingAddress:async function(){(null==e?void 0:e.evmAddress)&&(n.value=await Fe(null==e?void 0:e.evmAddress))},copyOrder:r,copyOrderLoading:u,form:o,advancedForm:i,blacklist:s,activeCopyAddress:n,settingCopyTrade:m,defaultCopyTradeSetting:v,type:l}})),Je={class:"flex-start"},Ge={class:"text-12px flex-start"},De={class:"text-12px flex-start ml-24px"},Ke={key:0,class:"text-12px flex-start ml-24px"},qe={key:1,class:"text-12px flex-start ml-24px"},We={class:"whitespace-nowrap"},Ze={class:"flex-between mt-16px"},Qe={class:"mr-auto color-[--secondary-text]"},Ye={class:"slippage-input"},Xe={class:"flex-between mt-16px"},el={class:"mr-auto color-[--secondary-text]"},ll={class:"flex-between mt-16px"},al={class:"color-[--secondary-text]"},tl=te(i({__name:"setting",props:{chain:{default:"bsc"},visible:{type:Boolean,default:!1}},emits:["getEstimatedGas","updateScroll"],setup(e,{emit:l}){const{t:a}=M(),t=$(),u=P(),n=I(),o=l,{settingCopyTrade:i,defaultCopyTradeSetting:s,form:r,type:d}=N(ze()),p=e,v=c(null),m=F(0),y=c(!1),h=f((()=>(i.value||(i.value={}),i.value[p.chain]||(i.value[p.chain]={...s.value,priorityFee:"solana"==p.chain?"0.04":"1"}),i.value[p.chain])));function k(){var e;const l=p.chain;U(l)&&(null==(e=Q(l))||e.getFeeData().then((e=>{e&&(m.value=new Y(e.gasPrice||0).toNumber())})))}L((()=>h.value.slippage),(e=>{r.value.slippage=e}),{deep:!0,immediate:!0}),L((()=>h.value.isPrivate),(e=>{r.value.isPrivate=e}),{deep:!0,immediate:!0}),L((()=>h.value.priorityFee),(e=>{r.value.priorityFee=e}),{deep:!0,immediate:!0}),L((()=>p.visible),(e=>{e&&(U(p.chain)&&k(),"solana"==p.chain&&V())})),L((()=>p.chain),(e=>{h.value.priorityFee="solana"==p.chain?"0.04":"1",e&&(U(p.chain)&&k(),"solana"==p.chain&&V())}));const V=()=>{var e,l,a,n,i;const s=p.chain;if(!t.isSupportChains.includes(s))return"";const r=null==(e=h.value)?void 0:e.isPrivate,{gasTip1List:d,gasTip2List:c}=E(u.gasTip,s),v=r?d:c;"0"!=(null==(l=h.value)?void 0:l.priorityFee)&&""!=(null==(a=h.value)?void 0:a.priorityFee)||(h.value.priorityFee=null==(n=null==v?void 0:v[1])?void 0:n.toString());const m=null==(i=h.value)?void 0:i.priorityFee;return o("getEstimatedGas",m),m},w=async()=>{var e;y.value=!y.value,y.value&&(await X(),null==(e=v.value)||e.scrollIntoView({behavior:"smooth",block:"start"}))};function _(){var e,l,a,i,s,r,d,c,v,f,y;const x=p.chain;let b="0";if(U(x)&&(null==(e=null==t?void 0:t.isSupportChains)?void 0:e.includes(x))){const e=(null==(l=h.value)?void 0:l.isPrivate)||!1,t=(null==(i=null==(a=u.mainTokensPrice)?void 0:a.find((e=>{var l;return e.chain===x&&e.token===(null==(l=ee(x))?void 0:l.wmain_wrapper)})))?void 0:i.current_price_usd)||n.swap.native.price||0,{gasTip1List:o,gasTip2List:p}=E(u.gasTip,x),g=e?o:p;"0"!=(null==(s=h.value)?void 0:s.priorityFee)&&""!=(null==(r=h.value)?void 0:r.priorityFee)||(h.value.priorityFee=null==(d=null==g?void 0:g[1])?void 0:d.toString());const k=(null==(c=h.value)?void 0:c.priorityFee)||(null==g?void 0:g[1]),A=(null==(y=null==(f=null==(v=u.gasTip)?void 0:v.find)?void 0:f.call(v,(l=>l.chain===x&&l.mev===!!e)))?void 0:y.gasLimit)||2e5;b=le(new Y(m.value).plus(new Y(k||0).times(String(10**9))).times(A).times(t).div(String(10**18)).toFixed(),2)}return o("getEstimatedGas",b),b}function C(){ae.alert(a("slippageTips"),{title:a("slippage"),confirmButtonText:a("iKnown")}).then((()=>{}))}const B=(e,l)=>{let a=e.replace(/[^\d.]/g,"");const t=a.split(".");t.length>2&&(a=t[0]+"."+t.slice(1).join("")),a.startsWith(".")&&(a="0"+a),Number(a)>100&&(a="100"),h.value[l]=Number(a)},S=c(),R=()=>{var e,l;null==(l=null==(e=S.value)?void 0:e.input)||l.select()},te=c(),ue=()=>{var e,l;null==(l=null==(e=te.value)?void 0:e.input)||l.select()};return(e,l)=>{var a,t,u,n;const o=J,s=G,r=Z,d=we,c=O("tooltip");return x(),g("div",null,[j(o,{class:"!m-0 !mb-24px !mt-24px !border-t-[--dialog-divider]"}),H("div",{class:"flex-between cursor-pointer",onClick:w},[H("ul",Je,[H("li",Ge,[z(j(s,{name:"custom:slippage",class:"text-14px color-[--third-text] ml-0 mr-6px cursor-pointer"},null,512),[[c,e.$t("slippage")]]),H("span",null,D(null==(t=null==(a=A(i))?void 0:a[p.chain])?void 0:t.slippage)+"%",1)]),H("li",De,[z(j(s,{name:"custom:mev",class:"text-16px color-[--third-text] ml-0 mr-6px cursor-pointer"},null,512),[[c,e.$t("mev")]]),K(" "+D((null==(n=null==(u=A(i))?void 0:u[p.chain])?void 0:n.isPrivate)?e.$t("on"):e.$t("off")),1)]),A(U)(e.chain||"")?(x(),g("li",Ke,[z(j(s,{name:"custom:gas",class:"text-14px color-[--third-text] ml-0 mr-6px cursor-pointer"},null,512),[[c,e.$t("estimatedGas")]]),K(" $"+D(_()),1)])):T("",!0),"solana"===e.chain?(x(),g("li",qe,[z(j(s,{name:"custom:gas",class:"text-14px color-[--third-text] mr-6px cursor-pointer ml-0"},null,512),[[c,e.$t("priorityFee")]]),H("span",We,D(V())+" SOL",1)])):T("",!0)]),j(s,{name:A(y)?"radix-icons:triangle-up":"radix-icons:triangle-down",class:"text-16px"},null,8,["name"])]),z(H("div",{ref_key:"expandRef",ref:v},[H("div",Ze,[H("span",Qe,D(e.$t("slippage")),1),j(s,{class:"text-15px color-[--icon-color] ml-5px clickable mr-auto",name:"material-symbols:help-rounded",onClick:W(C,["stop"])}),l[6]||(l[6]=H("div",{class:"flex-1"},null,-1)),H("div",Ye,[j(r,{ref_key:"input1Ref",ref:te,modelValue:A(h).slippage,"onUpdate:modelValue":l[0]||(l[0]=e=>A(h).slippage=e),modelModifiers:{trim:!0},clearable:"",placeholder:e.$t("custom"),onInput:l[1]||(l[1]=e=>B(e,"slippage")),style:{width:"221px"},onFocus:ue},{suffix:b((()=>l[5]||(l[5]=[H("span",null,"%",-1)]))),_:1},8,["modelValue","placeholder"])])]),H("div",Xe,[H("span",el,D(e.$t("protection")),1),j(d,{modelValue:A(h).isPrivate,"onUpdate:modelValue":l[2]||(l[2]=e=>A(h).isPrivate=e),class:"ml-auto",style:{"--el-switch-on-color":"#3c6cf6",zoom:"0.9",height:"14px"}},null,8,["modelValue"])]),H("div",ll,[H("span",al,D("solana"===e.chain?e.$t("priorityFee"):e.$t("extraGas")),1),l[7]||(l[7]=H("div",{class:"flex-1"},null,-1)),H("div",null,[j(r,{ref_key:"inputRef",ref:S,modelValue:A(h).priorityFee,"onUpdate:modelValue":l[3]||(l[3]=e=>A(h).priorityFee=e),inputmode:"decimal",clearable:"",placeholder:"solana"===e.chain?e.$t("customFee1"):e.$t("customEvmFee1"),onInput:l[4]||(l[4]=e=>B(e,"priorityFee")),style:{width:"221px"},onFocus:R},{suffix:b((()=>[H("span",null,D("solana"===e.chain?"SOL":"GWEI"),1)])),_:1},8,["modelValue","placeholder"])])])],512),[[q,A(y)]])])}}}),[["__scopeId","data-v-b00b5de9"]]),ul={class:"flex flex-1 items-center"},nl=i({__name:"dateTime",emits:["change"],setup(e,{expose:l,emit:a}){const{advancedForm:t}=N(ze()),u={second:1,minute:60,hour:3600,day:86400},{t:n}=M(),o=a,i=c(null),s=c("hour"),r=c(null),d=c("hour"),p={second:1,minute:2,hour:3,day:4},v=f((()=>[{value:"second",name:n("SS")},{value:"minute",name:n("min2")},{value:"hour",name:n("H1")},{value:"day",name:n("D")}]));function m(e){if(!e||e<=0)return{value:null,unit:"minute"};const l=Object.entries(u).sort(((e,l)=>l[1]-e[1]));for(const[a,t]of l)if(e%t==0)return{value:e/t,unit:a};return{value:e,unit:"second"}}L([i,s,r,d],(()=>{p[s.value]==p[d.value]&&i.value&&r.value&&i.value>=r.value&&(r.value=i.value+1),p[s.value]>p[d.value]&&(d.value=s.value);const e=Number(i.value||0)*(u[s.value]||0),l=Number(r.value||0)*(u[d.value]||0);o("change",{startTime:e,endTime:l})}),{deep:!0}),L((()=>{var e;return null==(e=t.value)?void 0:e.minTokenAge}),(()=>{var e,l;if(null==(e=t.value)?void 0:e.minTokenAge){const{value:e,unit:a}=m(null==(l=t.value)?void 0:l.minTokenAge);i.value=e||null,s.value=a||"minute"}else i.value=null,s.value="minute"})),L((()=>{var e;return null==(e=t.value)?void 0:e.maxTokenAge}),(()=>{var e,l;if(null==(e=t.value)?void 0:e.maxTokenAge){const{value:e,unit:a}=m(null==(l=t.value)?void 0:l.maxTokenAge);r.value=e||null,d.value=a||"minute"}else r.value=null,d.value="minute"})),ue((()=>{var e,l,a,u;if(null==(e=t.value)?void 0:e.minTokenAge){const{value:e,unit:a}=m(null==(l=t.value)?void 0:l.minTokenAge);i.value=e||null,s.value=a||"minute"}else i.value=null,s.value="minute";if(null==(a=t.value)?void 0:a.maxTokenAge){const{value:e,unit:l}=m(null==(u=t.value)?void 0:u.maxTokenAge);r.value=e||null,d.value=l||"minute"}else r.value=null,d.value="minute"}));return l({reset:()=>{t.value.minTokenAge=0,t.value.maxTokenAge=0,i.value=null,s.value="hour",r.value=null,d.value="hour"}}),(e,l)=>{const a=Ve,t=Te,u=Ce;return x(),g("div",ul,[j(u,{class:"flex-1 input-number-date",align:"left",modelValue:A(i),"onUpdate:modelValue":l[1]||(l[1]=e=>ne(i)?i.value=e:null),min:0,controls:!1,style:{width:"221px"}},{suffix:b((()=>[j(t,{class:"small",modelValue:A(s),"onUpdate:modelValue":l[0]||(l[0]=e=>ne(s)?s.value=e:null),"suffix-icon":_e},{default:b((()=>[(x(!0),g(h,null,k(A(v),((e,l)=>(x(),y(a,{key:l,label:e.name,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["modelValue"]),l[4]||(l[4]=H("span",{class:"gap px-4px"},"~",-1)),j(u,{class:"flex-1 input-number-date",align:"left",modelValue:A(r),"onUpdate:modelValue":l[3]||(l[3]=e=>ne(r)?r.value=e:null),min:0,controls:!1,style:{width:"221px"}},{suffix:b((()=>[j(t,{class:"small",modelValue:A(d),"onUpdate:modelValue":l[2]||(l[2]=e=>ne(d)?d.value=e:null),"suffix-icon":_e},{default:b((()=>[(x(!0),g(h,null,k(A(v),((e,l)=>(x(),y(a,{key:l,label:e.name,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])}}}),ol={class:"mt-5px flex items-center text-12px"},il=te(i({__name:"clockTime",props:{boundary:{type:HTMLElement,default:void 0}},emits:["change"],setup(e,{expose:l,emit:a}){const{advancedForm:t}=N(ze()),u=a;ue((()=>{n.value[0]=t.value.enableAt?t.value.enableAt+":00":null,n.value[1]=t.value.disableAt?t.value.disableAt+":00":null}));const n=c([null,null]);function o(e){const l=new Date;return l.setUTCHours(e,0,0,0),`${String(l.getHours()).padStart(2,"0")}:00`}L((()=>{var e;return null==(e=t.value)?void 0:e.enableAt}),(()=>{var e;(null==(e=t.value)?void 0:e.enableAt)?n.value[0]=t.value.enableAt?o(t.value.enableAt):null:n.value[0]=null})),L((()=>{var e;return null==(e=t.value)?void 0:e.disableAt}),(()=>{var e;(null==(e=t.value)?void 0:e.disableAt)?n.value[1]=t.value.disableAt?o(t.value.disableAt):null:n.value[1]=null})),ue((()=>{var e,l;(null==(e=t.value)?void 0:e.enableAt)?n.value[0]=t.value.enableAt?o(t.value.enableAt):null:n.value[0]=null,(null==(l=t.value)?void 0:l.disableAt)?n.value[1]=t.value.disableAt?o(t.value.disableAt):null:n.value[1]=null}));return l({reset:()=>{n.value=[null,null]}}),(e,l)=>{const a=He;return x(),g("div",ol,[j(a,{modelValue:A(n)[0],"onUpdate:modelValue":l[0]||(l[0]=e=>A(n)[0]=e),start:"00:00",end:"23:00",step:"01:00",format:"HH:00",placeholder:e.$t("startTime"),style:{width:"221px"},onChange:l[1]||(l[1]=e=>u("change",A(n)))},null,8,["modelValue","placeholder"]),l[4]||(l[4]=H("span",{class:"gap px-4px"},"~",-1)),j(a,{modelValue:A(n)[1],"onUpdate:modelValue":l[2]||(l[2]=e=>A(n)[1]=e),start:"00:00",end:"23:00",step:"01:00",format:"HH:00",placeholder:e.$t("endTime1"),style:{width:"221px"},onChange:l[3]||(l[3]=e=>u("change",A(n)))},null,8,["modelValue","placeholder"])])}}}),[["__scopeId","data-v-e338978d"]]),sl={class:"color-[--main-text]"},rl={class:"px-20px"},dl={class:"text-14px flex-start"},pl={class:"flex-between gap-16px mt-8px mb-19px"},cl={class:"flex-between text-14px"},vl={class:"color-[--main-text]"},ml=["onClick"],fl={class:"color-[--secondary-text] text-12px mt-12px leading-[1.5]"},yl={class:"flex-start",style:{gap:"4px"}},xl={class:"tabs"},bl=["onClick"],gl=["innerHTML"],hl={class:"flex-between w-full"},kl={class:"text-12px color-[--main-text]"},Al={class:"text-12px color-[--third-text]"},Tl={class:"w-full"},Vl={class:"flex-between"},wl={class:"text-16px"},_l={class:"flex-start item"},Cl={class:"flex-1"},Bl={class:"flex-start item mt-16px"},$l={class:"flex-1"},Fl={class:"flex-start item mt-16px"},Sl={class:"flex-1"},Rl={class:"flex-start item mt-16px"},Ml={class:"flex-1"},Pl={class:"mt-16px"},Il={class:"flex-between"},Nl={class:"text-14px"},Ll={class:"w-full"},Ul={class:"text-14px"},El={class:"color-[--third-text] text-12px leading-16px"},Ol={class:"text-14px color-[--yellow] flex-start gap-4px mt-16px"},jl={class:"color-[--yellow] text-12px leading-16px"},Hl={class:"form-footer w-full bg-[--dialog-bg]"},zl=te(i({__name:"tradeDialog",props:{modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:l}){oe();const{t:a}=M(),t=$(),{setting:u,settingCopyTrade:n,form:o,advancedForm:i,blacklist:s,activeCopyAddress:r,type:d}=N(ze()),{getFollowingInfo:p}=ze(),v=e,m=l,V=c({buyType:2,buyAmount:.2,sellType:2,takeProfitRatio:100,stopLossRatio:50,minBuyValue:"300",minMarketCap:"300000",minTokenAge:0,maxTokenAge:3600}),_=c({buyType:2,buyAmount:.1,sellType:2,takeProfitRatio:100,stopLossRatio:50,minBuyValue:"100",minMarketCap:"45000",minTokenAge:0,maxTokenAge:600}),C=ie("formRef"),B=F(!1),S=F(!1),R=F(!1),P=f({get:()=>v.modelValue,set:e=>m("update:modelValue",e)}),I=f((()=>[{label:a("highStrategy"),id:"high",description:a("highStrategyTip")},{label:a("lowStrategy"),id:"low",description:a("lowStrategyTip")}])),E=F("solana"),O=c(null),z=c(null),q=f((()=>{var e;if(0==Number(null==(e=ge.value)?void 0:e.balance)||!t.evmAddress)return!0;if(!o.value.followAddress)return!0;if(2===o.value.buyType&&!o.value.buyAmount)return!0;if(3===o.value.buyType){if(!o.value.buyAmount)return!0;if(!o.value.maxBuyRatio)return!0}return!1}));const Q=(e,l,t)=>{""===l?t(new Error(a("cannotBeEmpty"))):ye(l,o.value.chain)?t():t(new Error(a("pleaseEnterCorrectAddress")))},X=(e,l,t)=>{2===o.value.sellType?o.value.takeProfitRatio?t():t(new Error(a("cannotBeEmpty"))):t()},ae=(e,l,t)=>{2===o.value.sellType?o.value.stopLossRatio?t():t(new Error(a("cannotBeEmpty"))):t()},te=(e,l,t)=>{var u,n,i;1==o.value.buyType?t():o.value.buyAmount?(null==(u=o.value)?void 0:u.buyAmount)&&Number((null==(n=o.value)?void 0:n.buyAmount)||0)>Number((null==(i=ge.value)?void 0:i.balance)||0)?t(new Error(a("insufficientBalance"))):t():t(new Error(a("cannotBeEmpty")))},ue=f((()=>({followAddress:[{validator:Q,trigger:"blur"}],takeProfitRatio:[{validator:X,trigger:"blur"}],stopLossRatio:[{validator:ae,trigger:"blur"}],buyAmount:[{validator:te,trigger:"change"}]}))),be=f((()=>{var e,l,a;if(t.evmAddress){const u=null==(a=null==(l=null==(e=t.userInfo)?void 0:e.addresses)?void 0:l.filter)?void 0:a.call(l,(e=>se.includes(e.chain)&&"xlayer"!==e.chain));if(u&&u.length>0)return u}return[{chain:E.value}]})),ge=f((()=>{var e,l,a;return null==(a=null==(l=null==(e=null==t?void 0:t.userInfo)?void 0:e.addresses)?void 0:l.find)?void 0:a.call(l,(e=>{var l;return(null==(l=o.value)?void 0:l.chain)==e.chain}))})),he=f((()=>[{name:a("fixedAmount"),id:2,tip:a("fixedAmountTip")},{name:a("maxCopyTrade"),id:3,tip:a("maxCopyTradeTip")},{name:a("buyRatio"),id:1,tip:a("buyRatioTip")}])),ke=f((()=>[{name:a("sellManually"),id:0},{name:a("sellAutomatically"),id:1},{name:a("stopLimit"),id:2}])),Ce=f((()=>{var e,l;return(null==(l=null==(e=null==s?void 0:s.value)?void 0:e.map)?void 0:l.call(e,(e=>e.value)))||[]}));function Be(){R.value=!0,setTimeout((()=>{var e,l,a;R.value=!1,(i.value.maxBuyValue||i.value.minBuyValue)&&(i.value.maxBuyValue="",i.value.minBuyValue=""),(i.value.maxMarketCap||i.value.minMarketCap)&&(i.value.maxMarketCap="",i.value.minMarketCap=""),(i.value.enableAt||i.value.disableAt)&&(i.value.enableAt=0,i.value.disableAt=0,null==(e=O.value)||e.reset()),(i.value.maxTokenAge||i.value.minTokenAge)&&(i.value.maxTokenAge=0,i.value.minTokenAge=0,null==(l=z.value)||l.reset()),(null==(a=s.value)?void 0:a.length)>0&&(s.value=[]),localStorage.removeItem("copy-blacklist"),localStorage.setItem("copy-advancedForm",JSON.stringify({...i.value}))}),500)}L((()=>P.value),(e=>{var l,a,t,u;if(2==d.value){const e=localStorage.getItem("copy_setting_add");e&&(null==(l=JSON.parse(e))?void 0:l[o.value.chain])&&(n.value[o.value.chain]=JSON.parse(e)[o.value.chain],o.value.slippage=(null==(a=n.value[o.value.chain])?void 0:a.slippage)||9,o.value.isPrivate=(null==(t=n.value[o.value.chain])?void 0:t.isPrivate)||!1,o.value.priorityFee=(null==(u=n.value[o.value.chain])?void 0:u.priorityFee)||"solana"==o.value.chain?"0.04":"1");const r=localStorage.getItem("copy-advancedForm");r&&JSON.parse(r)&&(i.value=JSON.parse(r));const d=localStorage.getItem("copy-blacklist");d&&JSON.parse(d)?s.value=JSON.parse(d):s.value=[]}})),L((()=>o.value.chain),(()=>{var e;null==(e=C.value)||e.validateField("followAddress")}));const $e=(e,l)=>{var a,t;let u=e.replace(/[^\d.]/g,"");const n=u.split(".");n.length>2&&(u=n[0]+"."+n.slice(1).join("")),u.startsWith(".")&&(u="0"+u),"buyAmount"===l&&Number(u)>Number((null==(a=null==ge?void 0:ge.value)?void 0:a.balance)||"0")&&(u=le((null==(t=null==ge?void 0:ge.value)?void 0:t.balance)||0,5)),o.value[l]=u};function Fe(e,l,a){const t=e[a];t&&(i.value[t]=l.replace(/-|[^\d.]/g,""))}function Re(e,l,a){const t=e[a]||"";if(i.value[t])if(1==a){if(!i.value[e[0]])return;Number.parseFloat(i.value[t])<=Number.parseFloat(i.value[e[0]])&&(i.value[t]=i.value[e[0]])}else{if(!i.value[e[1]])return;Number.parseFloat(i.value[t])>=Number.parseFloat(i.value[e[1]])&&(i.value[t]=i.value[e[1]])}}function Me(){var e,l,a,u,c,v;let m={...Object.fromEntries(Object.entries(i.value).filter((([e,l])=>l&&""!==l))),tgUid:(null==(e=null==t?void 0:t.userInfo)?void 0:e.tgUid)||"",chain:o.value.chain,creatorAddress:(null==(l=ge.value)?void 0:l.address)||"",followAddress:o.value.followAddress,buyType:o.value.buyType,buyAmount:new Y(o.value.buyAmount||0).multipliedBy(10**(null==(a=ge.value)?void 0:a.decimals)),maxBuyRatio:100*Number(o.value.maxBuyRatio),sellType:o.value.sellType,takeProfitRatio:100*Number(o.value.takeProfitRatio),stopLossRatio:100*Number(o.value.stopLossRatio),ignoreHeld:o.value.ignoreHeld,slippage:100*o.value.slippage,isPrivate:o.value.isPrivate,priorityFee:o.value.priorityFee||"solana"==(null==(u=o.value)?void 0:u.chain)?"0.04":"1",tokenBlacklist:null==(c=null==Ce?void 0:Ce.value)?void 0:c.filter(Boolean)};null==(v=C.value)||v.validate((e=>{e&&(B.value=!0,Se(m).then((e=>{o.value.id?xe.success("修改跟单成功"):(xe.success("创建跟单成功"),r.value[m.chain].push(m.followAddress),2==d.value&&(localStorage.setItem("copy_setting_add",JSON.stringify({...n.value})),localStorage.setItem("copy-advancedForm",JSON.stringify({...i.value})),localStorage.setItem("copy-blacklist",JSON.stringify({...s.value})))),P.value=!1,p()})).catch((e=>{var l;xe.error((null==(l=null==e?void 0:e.response)?void 0:l._data)||e.message||e)})).finally((()=>{B.value=!1})))}))}function Pe(){var e;s.value.push({id:(null==(e=s.value)?void 0:e.length)+1,value:""})}function Ie(e){const[l,a]=e.split(":").map(Number),t=new Date;return t.setHours(l,a,0,0),t.getUTCHours()}const Ne=([e,l])=>{i.value.enableAt=e?Ie(e):0,i.value.disableAt=l?Ie(l):0},Le=({startTime:e,endTime:l})=>{i.value.minTokenAge=e||0,i.value.maxTokenAge=l||0};return(e,l)=>{const t=J,u=G,n=Z,r=de,d=Ae,p=Ve,c=Te,v=pe,m=we,f=ce,$=re,F=fe;return x(),y(F,{modelValue:A(P),"onUpdate:modelValue":l[27]||(l[27]=e=>ne(P)?P.value=e:null),class:"[&&]:bg-[--dialog-bg] hidden-scrollbar draw-copy",size:720,"header-class":"!mb-5 [&&]:color-[--main-text]","append-to-body":""},{header:b((()=>[H("span",sl,D(e.$t("walletCopyTrade")),1)])),footer:b((()=>[H("div",Hl,[j(f,{type:"primary",size:"large",class:"w-full",disabled:A(q),onClick:W(Me,["stop","prevent"]),onKeydown:me(W(Me,["prevent"]),["enter"]),loading:A(B)},{default:b((()=>[K(D(e.$t("confirm")),1)])),_:1},8,["disabled","onKeydown","loading"])])])),default:b((()=>[H("div",rl,[j(t,{class:"!m-0 !mb-5 !border-t-[--dialog-divider]"}),j($,{ref_key:"formRef",ref:C,class:"mt-18px",rules:A(ue),model:A(o),"label-width":"auto",autocomplete:"off","label-position":"left",onSubmit:W(Me,["prevent"])},{default:b((()=>[H("div",dl,[j(u,{name:"custom:new-trade",class:"text-12px mr-4px"}),H("span",null,D(e.$t("noviceOrderTemplate")),1)]),H("div",pl,[(x(!0),g(h,null,k(A(I),((l,a)=>(x(),g("div",{class:"item bg-[--border] px-12px py-12px rounded-8px hover:opacity-80",key:a},[H("div",cl,[H("span",vl,D(l.label),1),H("a",{href:"",class:"!color-[--yellow]",onClick:W((e=>{return a=l.id,S.value=!0,void("low"==a?(o.value.buyType=V.value.buyType,o.value.buyAmount=V.value.buyAmount,o.value.sellType=V.value.sellType,o.value.takeProfitRatio=V.value.takeProfitRatio,o.value.stopLossRatio=V.value.stopLossRatio,i.value.minBuyValue=V.value.minBuyValue,i.value.minMarketCap=V.value.minMarketCap,i.value.minTokenAge=V.value.minTokenAge,i.value.maxTokenAge=V.value.maxTokenAge):(o.value.buyType=_.value.buyType,o.value.buyAmount=_.value.buyAmount,o.value.sellType=_.value.sellType,o.value.takeProfitRatio=_.value.takeProfitRatio,o.value.stopLossRatio=_.value.stopLossRatio,i.value.minBuyValue=_.value.minBuyValue,i.value.minMarketCap=_.value.minMarketCap,i.value.minTokenAge=_.value.minTokenAge,i.value.maxTokenAge=_.value.maxTokenAge));var a}),["stop","prevent"])},D(e.$t("oneClickApplication")),9,ml)]),H("div",fl,D(l.description),1)])))),128))]),j(r,{label:e.$t("walletAddress"),"label-position":"top",prop:"followAddress"},{default:b((()=>[j(n,{modelValue:A(o).followAddress,"onUpdate:modelValue":l[0]||(l[0]=e=>A(o).followAddress=e),modelModifiers:{trim:!0},clearable:"",placeholder:e.$t("enterAddress")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),j(r,{label:e.$t("chain"),"label-position":"top"},{default:b((()=>[j(c,{style:{width:"100%"},"suffix-icon":_e,modelValue:A(o).chain,"onUpdate:modelValue":l[1]||(l[1]=e=>A(o).chain=e)},{prefix:b((()=>[j(d,{chain:A(o).chain,width:16},null,8,["chain"])])),default:b((()=>[(x(!0),g(h,null,k(A(be),(({chain:e})=>{var l;return x(),y(p,{key:e,label:null==(l=A(ee)(e))?void 0:l.name,value:e},{default:b((()=>{var l;return[H("div",yl,[j(d,{chain:e,width:16},null,8,["chain"]),K(" "+D(null==(l=A(ee)(e))?void 0:l.name),1)])]})),_:2},1032,["label","value"])})),128))])),_:1},8,["modelValue"])])),_:1},8,["label"]),j(r,{label:e.$t("copyTradeMethod"),"label-position":"top"},{default:b((()=>[H("div",xl,[(x(!0),g(h,null,k(A(he),(e=>(x(),g("button",{key:e.id,class:w([{active:e.id===A(o).buyType},"flex-start"]),type:"button",onClick:W((l=>A(o).buyType=e.id),["stop"])},[H("span",null,D(e.name||""),1),j(v,{placement:"top"},{content:b((()=>[H("div",{innerHTML:e.tip},null,8,gl)])),default:b((()=>[j(u,{name:"majesticons:question-mark-circle-line",class:"ml-4px text-12px color-[--third-text]"})])),_:2},1024)],10,bl)))),128))])])),_:1},8,["label"]),j(r,{prop:"buyAmount"},{default:b((()=>{var a,t,u,i,s;return[2===A(o).buyType?(x(),y(n,{key:0,modelValue:A(o).buyAmount,"onUpdate:modelValue":l[2]||(l[2]=e=>A(o).buyAmount=e),modelModifiers:{trim:!0,number:!0},clearable:"",placeholder:"0.00",onInput:l[3]||(l[3]=e=>$e(e,"buyAmount"))},{suffix:b((()=>{var e;return[H("span",null,D(null==(e=A(ee)(A(o).chain||""))?void 0:e.main_name),1)]})),_:1},8,["modelValue"])):3===A(o).buyType?(x(),g(h,{key:1},[j(n,{modelValue:A(o).maxBuyRatio,"onUpdate:modelValue":l[4]||(l[4]=e=>A(o).maxBuyRatio=e),modelModifiers:{trim:!0},clearable:"",placeholder:e.$t("fixedRatio"),onInput:l[5]||(l[5]=e=>$e(e,"maxBuyRatio"))},{suffix:b((()=>l[28]||(l[28]=[H("span",null,"%",-1)]))),_:1},8,["modelValue","placeholder"]),j(n,{class:"mt-10px",modelValue:A(o).buyAmount,"onUpdate:modelValue":l[6]||(l[6]=e=>A(o).buyAmount=e),modelModifiers:{trim:!0},clearable:"",placeholder:e.$t("maxBuyAmount"),onInput:l[7]||(l[7]=e=>$e(e,"buyAmount"))},{suffix:b((()=>{var e;return[H("span",null,D(null==(e=A(ee)(A(o).chain||""))?void 0:e.main_name),1)]})),_:1},8,["modelValue","placeholder"])],64)):T("",!0),H("div",hl,[H("span",kl,"≈$ "+D(("formatNumber"in e?e.formatNumber:A(le))(((null==(a=A(ge))?void 0:a.price)||0)*Number((null==(t=A(ge))?void 0:t.balance)||0),1)),1),H("span",Al,D(e.$t("balance1"))+": "+D(("formatNumber"in e?e.formatNumber:A(le))((null==(u=A(ge))?void 0:u.balance)||0,5))+" "+D(null==(s=A(ee)((null==(i=A(ge))?void 0:i.chain)||""))?void 0:s.main_name),1)])]})),_:1}),j(r,{label:e.$t("buyType"),"label-position":"top"},{default:b((()=>[j(c,{style:{width:"100%"},"suffix-icon":_e,modelValue:A(o).sellType,"onUpdate:modelValue":l[8]||(l[8]=e=>A(o).sellType=e)},{default:b((()=>[(x(!0),g(h,null,k(A(ke),((e,l)=>(x(),y(p,{key:l,label:e.name,value:e.id},{default:b((()=>[K(D(e.name),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["label"]),2===A(o).sellType?(x(),g(h,{key:0},[j(r,{prop:"takeProfitRatio"},{default:b((()=>[j(n,{class:"mt-10px",modelValue:A(o).takeProfitRatio,"onUpdate:modelValue":l[9]||(l[9]=e=>A(o).takeProfitRatio=e),modelModifiers:{trim:!0},clearable:"",placeholder:e.$t("takeProfitRatio"),onInput:l[10]||(l[10]=e=>$e(e,"takeProfitRatio"))},{suffix:b((()=>l[29]||(l[29]=[H("span",null,"%",-1)]))),_:1},8,["modelValue","placeholder"])])),_:1}),j(r,{prop:"stopLossRatio"},{default:b((()=>[j(n,{class:"mt-10px",modelValue:A(o).stopLossRatio,"onUpdate:modelValue":l[11]||(l[11]=e=>A(o).stopLossRatio=e),modelModifiers:{trim:!0},clearable:"",placeholder:e.$t("stopLossRatio"),onInput:l[12]||(l[12]=e=>$e(e,"stopLossRatio"))},{suffix:b((()=>l[30]||(l[30]=[H("span",null,"%",-1)]))),_:1},8,["modelValue","placeholder"])])),_:1})],64)):T("",!0),j(r,{label:e.$t("ignoreHeld"),"label-position":"left"},{default:b((()=>[j(m,{modelValue:A(o).ignoreHeld,"onUpdate:modelValue":l[13]||(l[13]=e=>A(o).ignoreHeld=e),class:"ml-auto",style:{"--el-switch-on-color":"#3c6cf6",zoom:"0.9",height:"14px"}},null,8,["modelValue"])])),_:1},8,["label"]),j(r,null,{default:b((()=>[H("div",Tl,[H("div",Vl,[H("span",wl,D(e.$t("advanced")),1),H("div",{onClick:l[14]||(l[14]=e=>S.value=!A(S)),class:"flex-center cursor-pointer text-12px color-[--primary-color] ml-8px"},[H("span",null,D(A(S)?e.$t("Collapse"):e.$t("Expand")),1),j(u,{name:A(S)?"radix-icons:triangle-up":"radix-icons:triangle-down",class:"text-16px"},null,8,["name"])]),l[31]||(l[31]=H("div",{class:"flex-1"},null,-1)),j(f,{class:"reset",type:"primary",onClick:W(Be,["stop"])},{default:b((()=>[j(u,{name:"custom:refresh-left",class:w(A(R)?"animate-spin":"")},null,8,["class"]),K(D(e.$t("reset")),1)])),_:1})]),A(S)?(x(),y(ve,{key:0,name:"fade"},{default:b((()=>[H("div",null,[H("div",_l,[H("span",Cl,D(e.$t("buyAmount")),1),j(n,{modelValue:A(i).minBuyValue,"onUpdate:modelValue":l[15]||(l[15]=e=>A(i).minBuyValue=e),modelModifiers:{trim:!0,number:!0},class:"flex-1",placeholder:e.$t("minor"),clearable:"",onBlur:l[16]||(l[16]=e=>Re(["minBuyValue","maxBuyValue"],e.target.value,0)),onInput:l[17]||(l[17]=e=>Fe(["minBuyValue","maxBuyValue"],e,0))},{suffix:b((()=>l[32]||(l[32]=[H("span",null,"$",-1)]))),_:1},8,["modelValue","placeholder"]),l[34]||(l[34]=H("span",{class:"gap px-4px"},"~",-1)),j(n,{modelValue:A(i).maxBuyValue,"onUpdate:modelValue":l[18]||(l[18]=e=>A(i).maxBuyValue=e),modelModifiers:{trim:!0,number:!0},class:"flex-1",placeholder:e.$t("max1"),clearable:"",onBlur:l[19]||(l[19]=e=>Re(["minBuyValue","maxBuyValue"],e.target.value,1)),onInput:l[20]||(l[20]=e=>Fe(["minBuyValue","maxBuyValue"],e,1))},{suffix:b((()=>l[33]||(l[33]=[H("span",null,"$",-1)]))),_:1},8,["modelValue","placeholder"])]),H("div",Bl,[H("span",$l,D(e.$t("tokenMCap")),1),j(n,{modelValue:A(i).minMarketCap,"onUpdate:modelValue":l[21]||(l[21]=e=>A(i).minMarketCap=e),modelModifiers:{trim:!0,number:!0},class:"flex-1",placeholder:e.$t("minor"),clearable:"",onBlur:l[22]||(l[22]=e=>Re(["minMarketCap","maxMarketCap"],e.target.value,0)),onInput:l[23]||(l[23]=e=>Fe(["minMarketCap","maxMarketCap"],e,0))},{suffix:b((()=>l[35]||(l[35]=[H("span",null,"$",-1)]))),_:1},8,["modelValue","placeholder"]),l[37]||(l[37]=H("span",{class:"gap px-4px"},"~",-1)),j(n,{modelValue:A(i).maxMarketCap,"onUpdate:modelValue":l[24]||(l[24]=e=>A(i).maxMarketCap=e),modelModifiers:{trim:!0,number:!0},class:"flex-1",placeholder:e.$t("max1"),clearable:"",onBlur:l[25]||(l[25]=e=>Re(["minMarketCap","maxMarketCap"],e.target.value,1)),onInput:l[26]||(l[26]=e=>Fe(["minMarketCap","maxMarketCap"],e,1))},{suffix:b((()=>l[36]||(l[36]=[H("span",null,"$",-1)]))),_:1},8,["modelValue","placeholder"])]),H("div",Fl,[H("span",Sl,D(e.$t("tokenCreationTime")),1),j(nl,{ref_key:"dateTime_Ref",ref:z,onChange:Le},null,512)]),H("div",Rl,[H("span",Ml,D(e.$t("effectiveCopyTrade")),1),j(il,{ref_key:"clockTime_Ref",ref:O,onChange:Ne},null,512)]),H("div",Pl,[H("div",Il,[H("span",Nl,D(e.$t("black")),1),l[38]||(l[38]=H("div",{class:"flex-1"},null,-1))]),(x(!0),g(h,null,k(A(s),((l,t)=>(x(),g("div",{class:"flex-start mb-5px",key:t},[j(n,{modelValue:A(s)[t].value,"onUpdate:modelValue":e=>A(s)[t].value=e,modelModifiers:{trim:!0},clearable:"",placeholder:e.$t("plsEnterAddress"),onBlur:e=>function(e){var l;const t=s.value[e].value,u=ye(t,o.value.chain);-1!==s.value.findIndex(((l,a)=>l.value===t&&a!==e))&&s.value.splice(e,1),u||(xe.error(a("pleaseEnterCorrectAddress")),null==(l=s.value)||l.splice(e,1))}(t)},null,8,["modelValue","onUpdate:modelValue","placeholder","onBlur"]),j(u,{class:"text-18px text-[--third-text] cursor-pointer ml-30px hover:color-[--primary-color]",name:"ic:baseline-delete",onClick:e=>function(e){s.value.splice(e,1)}(t)},null,8,["onClick"])])))),128)),H("div",{class:"bg-#3F80F71A flex items-center justify-center gap-8px rounded-8px mt-8px color-[--primary-color] px-12px py-12px cursor-pointer",onClick:W(Pe,["stop","prevent"])},[j(u,{name:"majesticons:plus-circle-line",class:"text-18px"}),K(D(e.$t("addBlack")),1)])])])])),_:1})):T("",!0)])])),_:1}),j(r,null,{default:b((()=>[H("div",Ll,[H("span",Ul,D(e.$t("cancelORPause")),1),H("div",El,D(e.$t("cancelORPauseTip")),1),A(o).chain&&("isEvmChain"in e?e.isEvmChain:A(U))(A(o).chain)?(x(),g(h,{key:0},[H("span",Ol,[j(u,{name:"majesticons:info-circle"}),K(D(e.$t("warning")),1)]),H("div",jl,D(e.$t("sellOutTip")),1)],64)):T("",!0),j(tl,{chain:A(o).chain,visible:A(P)},null,8,["chain","visible"])])])),_:1})])),_:1},8,["rules","model"])])])),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-d11c2b9f"]]),Jl=i({__name:"operate",props:{id:{type:Number,default:0},chain:{type:String,default:""},status:{type:String,default:""}},emits:["updataRow"],setup(e,{emit:l}){const a=$(),t=l,{copyTradeVisible:u,form:n,settingCopyTrade:o,advancedForm:i,blacklist:s,type:r}=N(ze()),{getFollowingInfo:d}=ze(),p=e,{id:c,chain:v,status:m}=be(p),h=oe(),{mode:k}=N(ge()),{t:V}=M(),w=F(!1),_=F(!1),C=f((()=>{var e,l,t;return null==(t=null==(l=null==(e=null==a?void 0:a.userInfo)?void 0:e.addresses)?void 0:l.find)?void 0:t.call(l,(e=>v.value==e.chain))}));function B(){if(!a.evmAddress)return;w.value=!0;const e={chain:v.value,followId:c.value};Re(e).then((e=>{t("updataRow",e.status),"copy-trade"==h.name&&d()})).finally((()=>{w.value=!1}))}function S(){if(!a.evmAddress)return;w.value=!0;const e={chain:v.value,id:c.value};ae.confirm("关闭后不再继续跟单，确认关闭？","关闭跟单",{type:"warning",icon:he(ke),confirmButtonText:V("confirm"),cancelButtonText:V("cancel"),customClass:`${k.value} delete_confirm`}).then((()=>{Me(e).then((e=>{xe.success(V("success")),t("updataRow","cancelled"),"copy-trade"==h.name&&d()})).finally((()=>{w.value=!1}))}))}function R(){if(!a.evmAddress)return;const e={chain:v.value,id:c.value};_.value=!0,Pe(e).then((e=>{var l,a,t;u.value=!0,r.value=1,n.value={...Object.fromEntries(Object.entries(e).filter((([e])=>e in n.value)))},n.value.takeProfitRatio=String((null==e?void 0:e.takeProfitRatio)/100),n.value.stopLossRatio=String((null==e?void 0:e.stopLossRatio)/100),n.value.maxBuyRatio=String((null==e?void 0:e.maxBuyRatio)/100),n.value.buyAmount=(null==(l=C.value)?void 0:l.decimals)?new Y(n.value.buyAmount||0).div(10**(null==(a=C.value)?void 0:a.decimals)):"",2===n.value.buyType&&(n.value.maxBuyRatio=""),n.value.slippage=e.slippage/100,n.value.isPrivate=e.isPrivate,n.value.priorityFee=null==e?void 0:e.priorityFee,o.value[e.chain]={slippage:n.value.slippage,isPrivate:n.value.isPrivate,priorityFee:n.value.priorityFee},i.value={minBuyValue:"0"==e.minBuyValue?"":e.minBuyValue,maxBuyValue:"0"==e.maxBuyValue?"":e.maxBuyValue,minMarketCap:"0"==e.minMarketCap?"":e.minMarketCap,maxMarketCap:"0"==e.maxMarketCap?"":e.maxMarketCap,minTokenAge:e.minTokenAge,maxTokenAge:e.maxTokenAge,enableAt:e.enableAt,disableAt:e.disableAt},s.value=null==(t=null==e?void 0:e.tokenBlacklist)?void 0:t.map(((e,l)=>({id:l+1,value:e})))})).finally((()=>{_.value=!1}))}return(e,l)=>{const a=G,t=ce;return x(),g("div",null,["watching"===A(m)?(x(),y(t,{key:0,class:"hover:opacity-80",size:"small",style:{"--el-button-bg-color":"#3F80F71A"},loading:A(w),onClick:W(B,["stop","prevent"])},{default:b((()=>[j(a,{name:"custom:pause",class:"color-[--main-text] text-12px mr-4px"}),K(" "+D(e.$t("pauseCopyTrade")),1)])),_:1},8,["loading"])):T("",!0),"pause"===A(m)?(x(),y(t,{key:1,class:"hover:opacity-80",size:"small",style:{"--el-button-bg-color":"#12B8861A","--el-button-text-color":"#12B886"},loading:A(w),onClick:W(B,["stop","prevent"])},{default:b((()=>[j(a,{name:"custom:open",class:"text-12px mr-4px"}),K(" "+D(e.$t("watchingCopyTrade")),1)])),_:1},8,["loading"])):T("",!0),"watching"===A(m)||"pause"===A(m)?(x(),y(t,{key:2,class:"hover:opacity-80",size:"small",style:{"--el-button-bg-color":"#3F80F71A"},loading:A(_),onClick:W(R,["stop","prevent"])},{default:b((()=>[j(a,{name:"custom:editor",class:"text-10px mr-4px"}),K(" "+D(e.$t("parameterModification")),1)])),_:1},8,["loading"])):T("",!0),"watching"===A(m)||"pause"===A(m)?(x(),y(t,{key:3,class:"hover:opacity-80",size:"small",style:{"--el-button-bg-color":"#3F80F71A"},onClick:W(S,["stop","prevent"])},{default:b((()=>[j(a,{name:"custom:close-bolder",class:"text-7px mr-4px"}),K(" "+D(e.$t("close")),1)])),_:1})):(x(),y(t,{key:4,class:"color-[--down-color] hover:opacity-80",size:"small",style:{"--el-button-bg-color":"#3F80F71A"}},{default:b((()=>[j(a,{name:"custom:close-bolder",class:"text-7px mr-4px"}),K(" "+D(e.$t("cancelled1")),1)])),_:1}))])}}});export{zl as T,Jl as _,ze as u};
