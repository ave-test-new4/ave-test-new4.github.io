import{f as e,V as l,g as t,r as a,pV as s,T as o,M as i,c as n,o as r,F as u,b$ as c,b as d,J as p,B as v,w as m,a as x,i as y,cg as f,t as g,A as h,aJ as k,bf as b,bg as T,a6 as w,a1 as _,L as S,d as j,ab as A,fc as $,fd as L,fe as B,ff as D,fg as F,s as U,E as C,pW as I,bG as z,bt as R,pX as M,pY as H,bu as V,_ as Y,W as P,aE as O,aR as W,am as E,y as q,b_ as X,v as N,ce as G,m as J,p as Z,pZ as K,p_ as Q,n as ee,O as le,ar as te,K as ae,a3 as se,D as oe,eo as ie,a2 as ne,cz as re,aZ as ue,a_ as ce,bv as de,ap as pe,cO as ve,U as me,bH as xe,aq as ye,an as fe,C as ge,bY as he,aL as ke,el as be,cE as Te}from"./LNDzZpPm.js";import{a as we,E as _e}from"./CyofXtRf.js";import{E as Se,a as je,b as Ae}from"./BrHgemS_.js";import"./BcS6nOuf.js";import"./CqaOUC0Y.js";import{u as $e,S as Le}from"./BPo-K5-z.js";import"./DuC4p7MX.js";import"./CAu_L1SH.js";import"./4BOpdlp6.js";import"./CdYdV4TG.js";import"./vmSyQCMq.js";import"./DQUqQXp4.js";import"./B_bYtbjB.js";import"./njOOFaJF.js";import"./Dmaw2k36.js";import"./7PWpoxWf.js";import"./DsasURJA.js";import"./FG6gRdvh.js";import"./CytQXV1W.js";import"./saZFXB17.js";import"./BpVPSrXI.js";import"./BmJn-QVY.js";import"./BZp9YwGa.js";import"./B4pLZScH.js";import"./CHAOnMYe.js";import"./Dl5uLHiY.js";import"./FmdACanA.js";import"./fQpEmYRS.js";import"./FpEH-fmd.js";import"./Ct3nesK2.js";import"./4ADxCC58.js";import"./CzFZvokD.js";import"./D6I9a_bc.js";const Be=["src"],De={class:"inline-block"},Fe={class:"flex flex-col"},Ue={class:"mt-5px block ml-auto text-10px color-#fff m-w-180px text-center"},Ce={class:"flex items-center justify-start mt-40px"},Ie={class:"icon-token-container share",style:{"margin-right":"10px"}},ze=["src"],Re=["src"],Me=["src"],He={class:"text-20px"},Ve={class:"mt-5px text-[#666] block"},Ye={class:"mt-15px"},Pe={class:"text-[#999]"},Oe={class:"mt-20px share-table"},We={key:1,style:{color:"#999"}},Ee={key:1,style:{color:"#999"}},qe={key:1,style:{color:"#999"}},Xe={key:1,style:{color:"#999"}},Ne={class:"absolute right-30px bottom-30px flex justify-end text-center"},Ge={class:"text-right mt-10px"},Je={class:"text-20px font-semibold block"},Ze={class:"text-12px mt-10px"},Ke={class:"ml-10px"},Qe=["src","alt"],el={class:"text-14px font-400 mt-5px block"},ll={class:"flex justify-between mx-auto mt-20px text-12px w-300px color-#999"},tl={class:"mt-8px"},al=Y(e({__name:"share",props:{statistics:{type:Object,required:!0},address:{type:String,required:!0},chain:{type:String,required:!0}},setup(e){const Y=e,P=l(),O=t((()=>{var e;return!!(null==(e=null==P?void 0:P.userInfo)?void 0:e.evmAddress)})),W=a(!1),E=s("shareDom"),q=a(""),X=a(""),N=o(),G=i(),J=t((()=>{var e;return{ups:G.globalConfig.pc_share_image.replace(/^.*\|/,"").split(",").map((e=>G.token_logo_url+"pc_share/"+e)),downs:(null==(e=G.globalConfig.pc_share_image)?void 0:e.replace(/\|.*$/,"")).split(",").map((e=>G.token_logo_url+"pc_share/"+e))}})),Z=a();async function K(){var e,l,t;const a={token:2===(null==(e=Y.statistics)?void 0:e.swapType)?null==(l=Y.statistics)?void 0:l.inTokenAddress:Y.statistics.outTokenAddress,acc:Y.address},s=await I({...a});Z.value={...Y.statistics,...s,profitRate:null==s?void 0:s.profit_realized_ratio},W.value=!0,function(){const e=G.globalConfig.inviter_url_v2||"https://share.ave.ai",l=z.get("refCode")||"",t=l?"&code="+l:"",a=e+"?lang="+N.locale+t;R.toDataURL(a,{margin:1}).then((e=>{X.value=e})).catch((e=>{}))}(),function(e=!1){const l=e?J.value.ups:J.value.downs,t=(a=1,s=l.length,Math.floor(Math.random()*(s-a+1))+a);var a,s;q.value=l[t]||(e?M:H)}(Number(null==(t=Y.statistics)?void 0:t.total_profit_ratio)>0)}function Q(){E.value&&V(E.value,{backgroundColor:null,scale:3,allowTaint:!0,useCORS:!0,scrollY:0,scrollX:0}).then((e=>{!function(e,l){let t="";t="string"==typeof e?e:URL.createObjectURL(e);const a=document.createElement("a");a.href=t,a.download=l,a.click(),window.URL.revokeObjectURL(t)}(e.toDataURL("image/png"),`ave-${Date.now()}.png`)}))}return(e,l)=>{const t=v,a=k,s=C;return r(),n(u,null,[c(e.$slots,"default",{},(()=>[d(t,{name:"custom:share",class:"text-12px color-[--d-999-l-666] ml-6px cursor-pointer",onClick:p(K,["self","stop"])})]),!0),d(s,{modelValue:y(W),"onUpdate:modelValue":l[2]||(l[2]=e=>U(W)?W.value=e:null),title:e.$t("share"),width:"628","append-to-body":""},{default:m((()=>{var t,s,o,i,c,v,k,U,C,I,z,R,M,H,V,W,N,J,K,ee;return[x("div",null,[x("div",{ref_key:"shareDom",ref:E,class:"relative p-25px z-1"},[x("img",{class:"absolute w-588px left--1px top--1px z--1 h-[101%]",src:y(q),alt:"share"},null,8,Be),x("div",De,[x("div",Fe,[l[3]||(l[3]=x("div",{class:"flex items-center"},[x("img",{src:f,class:"h-24px",height:"24",alt:"",srcset:""}),x("span",{class:"ml-5px text-20px"},"Ave.ai")],-1)),x("span",Ue,g(e.$t("campaignTitle")),1)])]),x("div",Ce,[x("div",Ie,[d(a,{class:"token-icon token-logo",src:("getSymbolDefaultIcon"in e?e.getSymbolDefaultIcon:y(b))({logo_url:2===y(Z).swapType?null==(t=y(Z))?void 0:t.inTokenLogoUrl:y(Z).outTokenLogoUrl,chain:y(Z).chain,symbol:2===y(Z).swapType?null==(s=y(Z))?void 0:s.inTokenSymbol:y(Z).outTokenSymbol})},{error:m((()=>{var e,l;return[x("img",{class:"token-icon",src:y(T)(null==(e=y(Z))?void 0:e.chain,2===y(Z).swapType?null==(l=y(Z))?void 0:l.inTokenSymbol:y(Z).outTokenSymbol),alt:"",srcset:""},null,8,ze)]})),placeholder:m((()=>{var e,l;return[x("img",{class:"token-icon",src:y(T)(null==(e=y(Z))?void 0:e.chain,2===y(Z).swapType?null==(l=y(Z))?void 0:l.inTokenSymbol:y(Z).outTokenSymbol),alt:"",srcset:""},null,8,Re)]})),_:1},8,["src"]),(null==(o=y(Z))?void 0:o.chain)?(r(),n("img",{key:0,class:"w-12px h-12px relative left-[-7px]",src:`${y(G).token_logo_url}chain/${y(Z).chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,Me)):h("",!0)]),x("span",He,g(2===y(Z).swapType?null==(i=y(Z))?void 0:i.inTokenSymbol:y(Z).outTokenSymbol),1)]),x("span",Ve,g((null==(k=y(O)?null==(v=null==(c=y(P))?void 0:c.userInfo)?void 0:v.evmAddress:Y.address)?void 0:k.slice(0,6))+"..."+(null==(I=y(O)?null==(C=null==(U=y(P))?void 0:U.userInfo)?void 0:C.evmAddress:Y.address)?void 0:I.slice(-6))),1),x("div",Ye,[x("span",Pe,g(e.$t("RIO")),1),(null==(z=y(Z))?void 0:z.profitRate)?(r(),n("div",{key:0,class:"mt-5px",style:w([{"font-size":"40px","font-weight":"700"},{color:(null==(R=y(Z))?void 0:R.profitRate)>0?"#12B886":"#ff646d"}])},g((null==(M=y(Z))?void 0:M.profitRate)>0?"+":"")+g(y(_)((null==(H=y(Z))?void 0:H.profitRate)||0,1))+"%",5)):(r(),n("div",{key:1,class:"mt-5px",style:w([{"font-size":"40px","font-weight":"700"},{color:"#999"}])},"--"))]),x("table",Oe,[x("tbody",null,[x("tr",null,[x("td",{style:w({width:y(S)(e.$t("campaignBuyAvg"))+20+"px"})},g(e.$t("campaignBuyAvg")),5),x("td",null,[(null==(V=y(Z))?void 0:V.avg_buy_price)>0?(r(),n(u,{key:0},[j(" $"+g(y(_)((null==(W=y(Z))?void 0:W.avg_buy_price)||0)),1)],64)):(r(),n("span",We,"--"))])]),x("tr",null,[x("td",{style:w({width:y(S)(e.$t("campaignSellAvg"))+20+"px"})},g(e.$t("campaignSellAvg")),5),x("td",null,[(null==(N=y(Z))?void 0:N.avg_sell_price)>0?(r(),n(u,{key:0},[j(" $"+g(y(_)((null==(J=y(Z))?void 0:J.avg_sell_price)||0)),1)],64)):(r(),n("span",Ee,"--"))])]),x("tr",null,[x("td",{style:w({width:y(S)(e.$t("campaignBuyTime"))+20+"px"})},g(e.$t("campaignBuyTime")),5),x("td",null,[(null==(K=y(Z))?void 0:K.last_buy_time)?(r(),n(u,{key:0},[j(g(y(A)(y(Z).last_buy_time,"YYYY-MM-DD HH:mm:ss")),1)],64)):(r(),n("span",qe,"--"))])]),x("tr",null,[x("td",{style:w({width:y(S)(e.$t("campaignSellTime"))+20+"px"})},g(e.$t("campaignSellTime")),5),x("td",null,[(null==(ee=y(Z))?void 0:ee.last_sell_time)?(r(),n(u,{key:0},[j(g(y(A)(y(Z).last_sell_time,"YYYY-MM-DD HH:mm:ss")),1)],64)):(r(),n("span",Xe,"--"))])])])]),x("div",Ne,[x("div",Ge,[x("span",Je,g(e.$t("campaignSubTitle")),1),x("span",Ze,g(e.$t("campaignDesc")),1)]),x("div",Ke,[x("img",{src:y(X),alt:e.$t("campaignScan"),width:"60px",height:"60px"},null,8,Qe),x("span",el,g(e.$t("campaignScan")),1)])])],512),x("div",ll,[x("div",{class:"flex-col flex items-center cursor-pointer",onClick:p(Q,["stop"])},[l[4]||(l[4]=x("img",{src:$,height:"48",alt:"",srcset:""},null,-1)),x("span",tl,g(e.$t("download")),1)]),x("div",{class:"flex-col flex items-center cursor-pointer",onClick:l[0]||(l[0]=p(((...l)=>("jumpX"in e?e.jumpX:y(L))&&("jumpX"in e?e.jumpX:y(L))(...l)),["stop"]))},l[5]||(l[5]=[x("img",{src:B,height:"48",alt:"",srcset:""},null,-1),x("span",{class:"mt-8px"},"Twitter",-1)])),x("div",{class:"flex-col flex items-center cursor-pointer",onClick:l[1]||(l[1]=p(((...l)=>("jumpTg"in e?e.jumpTg:y(D))&&("jumpTg"in e?e.jumpTg:y(D))(...l)),["stop"]))},l[6]||(l[6]=[x("img",{src:F,height:"48",alt:"",srcset:""},null,-1),x("span",{class:"mt-8px"},"Telegram",-1)]))])])]})),_:1},8,["modelValue","title"])],64)}}}),[["__scopeId","data-v-e7819ad4"]]),sl={key:0,class:"flex flex-col items-center justify-center py-30px"},ol={key:0,src:ue},il={key:1,src:ce},nl={key:1},rl={class:"flex items-center justify-start"},ul={class:"icon-token-container mr-5px"},cl={class:"relative"},dl=["src"],pl=["src"],vl=["src"],ml={class:"text-[var(--d-eaecef-l-333333)] text-13px"},xl={class:"flex items-center justify-start"},yl={class:"icon-token-container mr-5px"},fl={class:"relative"},gl=["src"],hl=["src"],kl=["src"],bl={class:"text-[var(--d-eaecef-l-333333)] text-13px"},Tl={class:"flex flex-row-reverse"},wl={class:"flex items-center"},_l={key:0,style:{background:"rgba(18, 184, 134, 0.10)"},class:"text-13px text-center text-[#12B886] px-5px py-2px rounded-4px"},Sl={key:1,style:{background:"rgba(246, 70, 93, 0.10)"},class:"text-13px text-center text-[#F6465D] px-5px py-2px rounded-4px"},jl={key:0,style:{background:"rgba(18, 184, 134, 0.10)"},class:"text-13px text-center text-[#12B886] px-5px py-2px rounded-4px"},Al={key:1,style:{background:"rgba(246, 70, 93, 0.10)"},class:"text-13px text-center text-[#F6465D] px-5px py-2px rounded-4px"},$l={class:"text-[--secondary-text] text-right"},Ll={class:"text-[--secondary-text] text-right"},Bl={class:"text-[--secondary-text] text-right"},Dl={key:0,class:"text-[--secondary-text] text-right"},Fl={key:1,class:"text-[--secondary-text] text-right"},Ul={class:"flex flex-row-reverse"},Cl={class:"flex items-center"},Il={class:"text-[--secondary-text] text-right truncate"},zl={key:0},Rl={key:1,style:{color:"var(--down-color)","word-break":"break-all"}},Ml={key:2},Hl={key:3},Vl={key:4,style:{color:"var(--custom-text-1-color)"}},Yl={class:"text-[--secondary-text] text-right"},Pl={class:"flex items-center flex-row-reverse"},Ol=Y(e({__name:"unified",props:{chain:{type:String,required:!0},currentToken:{type:Boolean,required:!0},userAddress:{type:String,required:!0}},setup(e,{expose:s}){const{formatUnits:o}=ie,c=e,f=l(),w=P(),S=O(),$=W(),{mode:L}=E(q()),B=X(),{t:D}=N(),F=i(),U=q(),C=t((()=>{var e;return!!(null==(e=null==f?void 0:f.userInfo)?void 0:e.evmAddress)})),I=t((()=>C.value?c.chain:w.chain)),z=t((()=>{var e;return c.currentToken&&(null==(e=G(S.params.id||""))?void 0:e.address)||""})),R=a({isLimit:void 0,isBuy:void 0,statusType:""}),M=a([]),H=a(!1),V=t((()=>Math.max(B.commonHeight-360,450)));function Y(e,l){if(!e||!l)return!1;if("solana"===e){return l.length>30&&!l.startsWith("0x")}if(["bsc","ethereum","polygon","arbitrum","base"].includes(e)){return l.startsWith("0x")&&42===l.length}return!0}function ue(e){"all"===e?(R.value.isBuy=void 0,R.value.isLimit=void 0):"LimitSell"===e?(R.value.isBuy=0,R.value.isLimit=1):"LimitBuy"===e?(R.value.isBuy=1,R.value.isLimit=1):"MarketSell"===e?(R.value.isBuy=0,R.value.isLimit=0):"MarketBuy"===e&&(R.value.isBuy=1,R.value.isLimit=0),ve()}function ce(e){R.value.statusType="all"===e?"":e,ve()}function pe(e){let l;l=C.value?ye(e.swapType)?e.outTokenAddress:null==e?void 0:e.inTokenAddress:fe(e.swapType)?e.outTokenAddress:null==e?void 0:e.inTokenAddress,l&&$.push(`/token/${l}-${e.chain}`)}J([()=>I.value,()=>c.userAddress,()=>c.currentToken,()=>S.params.id],(([e,l])=>{Y(e,l)&&Z((()=>{ve()}))}),{immediate:!0});const ve=async()=>{var e;H.value=!0;try{const l=I.value;if(!Y(l,c.userAddress))return void(H.value=!1);if(C.value){const t=await K({page:0,pageSize:1e3,chain:l,walletAddress:c.userAddress,token:z.value,timeSort:!0,tradeVolumeSort:!1,isSuccess:!1,status:R.value.statusType,isLimit:R.value.isLimit,isBuy:R.value.isBuy,tgUid:null==(e=null==f?void 0:f.userInfo)?void 0:e.tgUid,minTradeVolume:0,maxTradeVolume:1e5});M.value=t||[],U.mySwapList=t||[]}else{const e=z.value,t=await Q({chain:l,creatorAddress:c.userAddress,token:e,mode:1,onlySuccess:!1,pageSize:100,pageNo:1}),a=(null==t?void 0:t.list)||[];if(a.length>0){const e=a.map(ge);M.value=e,U.mySwapList=e}else M.value=[],U.mySwapList=[]}}catch(l){}finally{H.value=!1}};function me(e){const l={1:D("buy"),2:D("sell"),3:"Wrap",4:"Unwrap",5:`${D("limit")}/${D("buy")}`,6:`${D("limit")}/${D("sell")}`,7:D("followBuy"),8:D("followSell"),12:D("trailingStop"),13:D("listingOnDex"),14:D("devSell")};return l[e]?l[e]:""}function xe(e){const l={1:D("buy"),2:D("sell"),3:D("limitBuy1"),4:D("limitSell1"),5:"Wrap",6:"Unwrap"};return l[e]?l[e]:""}function ye(e){return 1===e||5===e||7===e}function fe(e){return 1===e||3===e||5===e||7===e}function ge(e){const l=parseFloat(e.outputAmount||"0"),t=parseFloat(e.inAmount||"0"),a=parseFloat(e.inPrice||"0"),s=parseFloat(e.outPrice||"0");return{chain:I.value,swapType:e.swapType,inTokenSymbol:e.inToken,outTokenSymbol:e.outToken,inTokenLogoUrl:e.inLogoUrl,outTokenLogoUrl:e.outLogoUrl,inTokenAddress:e.inTokenAddress,outTokenAddress:e.outTokenAddress,inTokenDecimals:e.inDecimals,outTokenDecimals:e.outDecimals,inPrice:a,outPrice:s,inValue:t*a/Math.pow(10,e.inDecimals||0),outValue:l*s/Math.pow(10,e.outDecimals||0),inAmount:t.toString(),outAmount:l.toString(),createTime:e.createTime,txHash:e.txHash,status:e.status,userAddress:e.creatorAddress,errorLog:e.errorLog||""}}return ee((()=>{ve()})),s({getTxHistory:ve,refreshData:()=>{ve()}}),(e,l)=>{var t;const a=k,s=_e,i=v,f=Ae,w=je,S=Se,$=we,B=te;return r(),n("div",null,[le((r(),ae($,{data:M.value,fit:"",stripe:"",height:y(V),"row-class-name":"text-12px","header-row-class-name":"text-12px",style:{width:"100%"},onRowClick:pe},{empty:m((()=>[H.value?(r(),n("span",nl)):(r(),n("div",sl,["light"===y(L)?(r(),n("img",ol)):h("",!0),"dark"===y(L)?(r(),n("img",il)):h("",!0),x("span",null,g(y(D)("emptyNoData")),1)]))])),default:m((()=>[d(s,{label:y(D)("token"),align:"left"},se({_:2},[y(C)?{name:"default",fn:m((({row:e})=>[x("div",rl,[x("div",ul,[x("div",cl,[d(a,{class:"w-32px h-32px rounded-full",src:y(b)({chain:null==e?void 0:e.chain,symbol:ye(e.swapType)?e.outTokenSymbol:null==e?void 0:e.inTokenSymbol,logo_url:ye(e.swapType)?e.outTokenLogoUrl:null==e?void 0:e.inTokenLogoUrl})},{error:m((()=>[x("img",{class:"w-32px h-32px",src:y(T)(null==e?void 0:e.chain,ye(e.swapType)?e.outTokenSymbol:null==e?void 0:e.inTokenSymbol),alt:"",srcset:""},null,8,dl)])),placeholder:m((()=>[x("img",{class:"w-32px h-32px",src:y(T)(null==e?void 0:e.chain,ye(e.swapType)?e.outTokenSymbol:null==e?void 0:e.inTokenSymbol),alt:"",srcset:""},null,8,pl)])),_:2},1032,["src"]),(null==e?void 0:e.chain)?(r(),n("img",{key:0,class:"w-12px h-12px absolute bottom-3px right-0 rd-50%",src:`${y(F).token_logo_url}chain/${e.chain}.png`,alt:"",srcset:""},null,8,vl)):h("",!0)])]),x("span",ml,g(ye(e.swapType)?e.outTokenSymbol:null==e?void 0:e.inTokenSymbol),1)])])),key:"0"}:{name:"default",fn:m((({row:e})=>[x("div",xl,[x("div",yl,[x("div",fl,[d(a,{class:"w-32px h-32px rounded-full",src:y(b)({chain:null==e?void 0:e.chain,symbol:fe(e.swapType)?e.outTokenSymbol:null==e?void 0:e.inTokenSymbol,logo_url:fe(e.swapType)?e.outTokenLogoUrl:null==e?void 0:e.inTokenLogoUrl})},{error:m((()=>[x("img",{class:"w-32px h-32px",src:y(T)(null==e?void 0:e.chain,fe(e.swapType)?e.outTokenSymbol:null==e?void 0:e.inTokenSymbol),alt:"",srcset:""},null,8,gl)])),placeholder:m((()=>[x("img",{class:"w-32px h-32px",src:y(T)(null==e?void 0:e.chain,fe(e.swapType)?e.outTokenSymbol:null==e?void 0:e.inTokenSymbol),alt:"",srcset:""},null,8,hl)])),_:2},1032,["src"]),(null==e?void 0:e.chain)?(r(),n("img",{key:0,class:"w-12px h-12px absolute bottom-3px right-3px rd-50%",src:`${y(F).token_logo_url}chain/${e.chain}.png`,alt:"",srcset:""},null,8,kl)):h("",!0)])]),x("span",bl,g(fe(e.swapType)?e.outTokenSymbol:null==e?void 0:e.inTokenSymbol),1)])])),key:"1"}]),1032,["label"]),d(s,{label:y(D)("type"),align:"right",prop:"isBuy"},{header:m((()=>[x("div",Tl,[x("div",wl,[x("div",null,g(y(D)("type")),1),y(C)?(r(),ae(S,{key:0,trigger:"click",onCommand:ue},{dropdown:m((()=>[d(w,null,{default:m((()=>[d(f,{command:"all"},{default:m((()=>[j(g(y(D)("all")),1)])),_:1}),d(f,{class:oe([0===R.value.isBuy&&1===R.value.isLimit&&"active-dropdown-item"]),command:"LimitSell"},{default:m((()=>[j(g(y(D)("limit"))+"/"+g(y(D)("sell")),1)])),_:1},8,["class"]),d(f,{class:oe([1===R.value.isBuy&&1===R.value.isLimit&&"active-dropdown-item"]),command:"LimitBuy"},{default:m((()=>[j(g(y(D)("limit"))+"/"+g(y(D)("buy")),1)])),_:1},8,["class"]),d(f,{class:oe([0===R.value.isBuy&&0===R.value.isLimit&&"active-dropdown-item"]),command:"MarketSell"},{default:m((()=>[j(g(y(D)("market"))+"/"+g(y(D)("sell")),1)])),_:1},8,["class"]),d(f,{class:oe([1===R.value.isBuy&&0===R.value.isLimit&&"active-dropdown-item"]),command:"MarketBuy"},{default:m((()=>[j(g(y(D)("market"))+"/"+g(y(D)("buy")),1)])),_:1},8,["class"])])),_:1})])),default:m((()=>{var e,l;return[d(i,{name:"custom:filter",class:oe([[(null==(e=R.value)?void 0:e.isBuy)>=0&&(null==(l=R.value)?void 0:l.isLimit)>=0&&"color-#286DFF"],"color-[--third-text] cursor-pointer text-10px"])},null,8,["class"])]})),_:1})):h("",!0)])])])),default:m((({row:e})=>[y(C)?(r(),n(u,{key:0},[ye(e.swapType)?(r(),n("div",_l,g(me(e.swapType)),1)):(r(),n("div",Sl,g(me(e.swapType)),1))],64)):h("",!0),y(C)?h("",!0):(r(),n(u,{key:1},[fe(e.swapType)?(r(),n("div",jl,g(xe(e.swapType)),1)):(r(),n("div",Al,g(xe(e.swapType)),1))],64))])),_:1},8,["label"]),d(s,{label:y(D)("price"),align:"right"},se({_:2},[y(C)?{name:"default",fn:m((({row:e})=>[x("div",$l,"$"+g(ye(e.swapType)?y(_)((null==e?void 0:e.outPrice)||0):y(_)((null==e?void 0:e.inPrice)||0)),1)])),key:"0"}:{name:"default",fn:m((({row:e})=>[x("div",Ll,"$"+g(fe(e.swapType)?y(_)((null==e?void 0:e.outPrice)||0):y(_)((null==e?void 0:e.inPrice)||0)),1)])),key:"1"}]),1032,["label"]),d(s,{label:y(D)("volume4"),align:"right"},{default:m((({row:e})=>[x("div",Bl,"$"+g(y(_)(Number(null==e?void 0:e.inValue)||(null==e?void 0:e.outValue)||0,2)),1)])),_:1},8,["label"]),d(s,{label:y(D)("amount1"),align:"right"},{header:m((()=>[x("span",null,g(y(D)("amount1")),1)])),default:m((({row:e})=>[y(C)?(r(),n("span",Dl,[ye(e.swapType)?(r(),n(u,{key:1},[j(g(y(_)(y(o)(new(y(ne))((null==e?void 0:e.outAmount)||0).toFixed(0),e.outTokenDecimals||0).toString(),4))+" "+g(null==e?void 0:e.outTokenSymbol),1)],64)):(r(),n(u,{key:0},[j(g(y(_)(y(o)(new(y(ne))((null==e?void 0:e.inAmount)||0).toFixed(0),e.inTokenDecimals||0).toString(),4))+" "+g(null==e?void 0:e.inTokenSymbol),1)],64))])):(r(),n("span",Fl,[fe(e.swapType)?(r(),n(u,{key:1},[j(g("cancelled"===e.status?"0":y(_)(y(o)(new(y(ne))((null==e?void 0:e.outAmount)||0).toFixed(0),e.outTokenDecimals||0).toString(),4))+" "+g(null==e?void 0:e.outTokenSymbol),1)],64)):(r(),n(u,{key:0},[j(g("cancelled"===e.status?"0":y(_)(y(o)(new(y(ne))((null==e?void 0:e.inAmount)||0).toFixed(0),e.inTokenDecimals||0).toString(),4))+" "+g(null==e?void 0:e.inTokenSymbol),1)],64))]))])),_:1},8,["label"]),y(C)?(r(),ae(s,{key:0,label:y(D)("status"),align:"right"},{header:m((()=>[x("div",Ul,[x("div",Cl,[x("div",null,g(y(D)("status")),1),d(S,{trigger:"click",onCommand:ce},{dropdown:m((()=>[d(w,null,{default:m((()=>[d(f,{command:"all"},{default:m((()=>[j(g(y(D)("all")),1)])),_:1}),d(f,{class:oe(["confirmed"===R.value.statusType&&"active-dropdown-item"]),command:"confirmed"},{default:m((()=>[j(g(y(D)("completed")),1)])),_:1},8,["class"]),d(f,{class:oe(["cancelled"===R.value.statusType&&"active-dropdown-item"]),command:"cancelled"},{default:m((()=>[j(g(y(D)("cancelled1")),1)])),_:1},8,["class"]),d(f,{class:oe(["error"===R.value.statusType&&"active-dropdown-item"]),command:"error"},{default:m((()=>[j(g(y(D)("failed")),1)])),_:1},8,["class"]),d(f,{class:oe(["auto_cancelled"===R.value.statusType&&"active-dropdown-item"]),command:"auto_cancelled"},{default:m((()=>[j(g(y(D)("autoCancelled")),1)])),_:1},8,["class"])])),_:1})])),default:m((()=>[d(i,{name:"custom:filter",class:oe([[R.value.statusType&&"color-#286DFF"],"color-[--third-text] cursor-pointer text-10px"])},null,8,["class"])])),_:1})])])])),default:m((({row:l})=>[x("div",Il,["confirmed"===l.status?(r(),n("span",zl,g(y(D)("completed")),1)):"error"===l.status?(r(),n("span",Rl,[j(g(y(D)("failed")),1),(null==l?void 0:l.errorLog)?(r(),n(u,{key:0},[j("("+g(("formatBotError"in e?e.formatBotError:y(re))(null==l?void 0:l.errorLog))+")",1)],64)):h("",!0)])):"cancelled"===l.status?(r(),n("span",Ml,g(y(D)("cancelled1")),1)):"auto_cancelled"===l.status?(r(),n("span",Hl,g(y(D)("autoCancelled")),1)):(r(),n("span",Vl,g(y(D)("pending")),1))])])),_:1},8,["label"])):h("",!0),d(s,{label:y(D)("CreateTime"),align:"right"},{default:m((({row:e})=>[x("span",Yl,g(y(A)(e.createTime,"YYYY/MM/DD HH:mm")),1)])),_:1},8,["label"]),d(s,{label:y(D)("operate"),align:"right"},{default:m((({row:e})=>[x("div",Pl,[d(i,{name:"custom:browser",class:"text-16px ml-8px clickable color-[--third-text]",onClick:p((l=>function(e){e.txHash&&window.open(de(e.chain,e.txHash,"tx"))}(e)),["stop","prevent"])},null,8,["onClick"]),"confirmed"==e.status&&2===e.swapType&&"solana"===e.chain?(r(),ae(al,{key:0,statistics:e,address:y(C)?c.userAddress:e.userAddress,chain:e.chain},null,8,["statistics","address","chain"])):h("",!0)])])),_:1},8,["label"])])),_:1},8,["data","height"])),[[B,H.value&&!(null==(t=M.value)?void 0:t.length)]])])}}}),[["__scopeId","data-v-e93dc7b1"]]),Wl={ref:"mySwap"},El={key:0,class:"px-12px mb-10px flex justify-between items-center"},ql={key:0,class:"flex items-center whitespace-nowrap w-[80%] overflow-x-auto scrollbar-hide"},Xl=["onClick"],Nl={key:1,class:"flex items-center"},Gl={class:"flex items-center"},Jl={class:"transaction-stats"},Zl={class:"stat-item"},Kl={class:"stat-label text-[--third-text]"},Ql={class:"stat-value table-field-text text-[--secondary-text]"},et={class:"stat-change table-field-text text-[--secondary-text]"},lt={class:"stat-item"},tt={class:"stat-label text-[--third-text]"},at={class:"stat-item"},st={class:"stat-label text-[--third-text]"},ot={class:"stat-item"},it={class:"stat-label text-[--third-text]"},nt={class:"stat-item"},rt={class:"stat-label text-[--third-text]"},ut={class:"stat-value table-field-text text-[--secondary-text]"},ct={class:"stat-change table-field-text text-[--secondary-text]"},dt={class:"stat-item"},pt={class:"stat-label text-[--third-text]"},vt={class:"stat-value table-field-text text-[--secondary-text]"},mt={class:"stat-change table-field-text text-[--secondary-text]"},xt=Y(e({__name:"index",setup(e){var s;const o=l(),i=P(),{t:c}=N(),p=X(),v=O(),m=pe(),f=a(),k=null==(s=G(v.params.id))?void 0:s.chain,b=a(k||i.chain||"solana"),T=ve("mySwapBotOrderOnlyCurrentToken",!0),S=a(),A=me("mySwap");$e(S);const $=t((()=>{var e;return[...(null==(e=o.userInfo)?void 0:e.addresses)||[]].sort(((e,l)=>"solana"===e.chain?-1:"solana"===l.chain?1:"bsc"===e.chain?-1:"bsc"===l.chain?1:0))})),L=t((()=>S.value?parseFloat(S.value.balance_usd||0):0)),B=t((()=>S.value?parseFloat((100*S.value.balance_ratio).toString()||"0"):0)),D=t((()=>S.value?parseFloat(S.value.total_profit||0):0)),F=t((()=>S.value?ne(S.value.total_profit_ratio||0).times(100).toFixed():0)),C=t((()=>{var e,l;return S.value?S.value.symbol:null==(l=null==(e=p.tokenInfo)?void 0:e.token)?void 0:l.symbol})),I=t((()=>S.value?parseFloat((S.value.realized_profit||0).toString()||"0"):0)),z=t((()=>{var e;return S.value&&"--"!==S.value.realized_ratio?ne((null==(e=S.value)?void 0:e.realized_ratio)||0).times(100).toString():0})),R=t((()=>S.value?parseFloat(S.value.unrealized_profit||0):0)),M=t((()=>S.value?parseFloat((100*S.value.unrealized_ratio).toString()||"0"):0)),H=t((()=>S.value&&S.value.total_purchase>0?_(S.value.bought,4):"0")),V=t((()=>{const e=S.value?parseFloat(S.value.average_purchase_price_usd||0):0;return e>0?`$${_(e,8)}`:"--"})),Y=t((()=>S.value&&S.value.total_sold>0?_(S.value.sold||0,4):"0")),W=t((()=>{const e=S.value&&"--"!==S.value.average_sold_price_usd?parseFloat(S.value.average_sold_price_usd||0):0;return e>0?`$${_(e,8)}`:"--"})),E=me("selectWallet"),q=t((()=>{var e,l,t,a,s,n,r,u,c;return(null==(e=E.value)?void 0:e.evmAddress)?(null==(r=null==(n=null==(s=null==(a=null==(t=null==(l=null==o?void 0:o.walletList)?void 0:l.find)?void 0:t.call(l,(e=>{var l;return e.evmAddress===(null==(l=E.value)?void 0:l.evmAddress)})))?void 0:a.addresses)?void 0:s.find)?void 0:n.call(s,(e=>e.chain===b.value)))?void 0:r.address)||"":(null==(u=null==o?void 0:o.userInfo)?void 0:u.evmAddress)?null==(c=$.value.find((e=>(null==e?void 0:e.chain)===b.value)))?void 0:c.address:i.address||""}));const K=e=>e.startsWith("-")?e.slice(1):e,Q=async()=>{var e;const l=i.address?i.chain:b.value;if(![...be,"ton","polygon"].includes(l))return void(S.value=null);const t=(null==(e=G(v.params.id||""))?void 0:e.address)||"";if(!q.value||!t)return;const a={user_address:q.value,chain:l,user_token:t},s=await Te(a);S.value=s[0]};let le=null,te=0;function se(){Q(),f.value&&f.value.getTxHistory()}return J((()=>m.wsResult[ye.TGBOT]),(e=>{var l,t;if(!e)return;const a=null==(l=G(String(v.params.id)))?void 0:l.chain;$.value.find((e=>(null==e?void 0:e.chain)===a))&&(b.value=a),Q(),null==(t=f.value)||t.getTxHistory(),setTimeout((()=>{var e;null==(e=f.value)||e.getTxHistory()}),3e3),le?te=0:le=xe((()=>{if(te>=15)return le&&(clearInterval(le),le=null),void(te=0);Q(),te+=1}),2e3)}),{immediate:!0}),J([()=>v.params.id],(()=>{var e;const l=null==(e=G(String(v.params.id)))?void 0:e.chain;$.value.find((e=>(null==e?void 0:e.chain)===l))&&(b.value=l),le&&(clearInterval(le),le=null),se()})),J(q,(()=>{Q()})),ee((()=>{var e;const l=null==(e=G(String(v.params.id)))?void 0:e.chain;$.value.find((e=>(null==e?void 0:e.chain)===l))&&(b.value=l),Q()})),fe((()=>{se()})),(e,l)=>{var t,a,s,p,v,m,k;const P=ke;return r(),n("div",Wl,[(null==(a=null==(t=y(o))?void 0:t.userInfo)?void 0:a.evmAddress)||y(i).address?(r(),n("div",El,[(null==(p=null==(s=y(o))?void 0:s.userInfo)?void 0:p.evmAddress)?(r(),n("div",ql,[(r(!0),n(u,null,ge($.value,(e=>(r(),n("a",{key:e.chain,href:"javascript:;",class:oe("decoration-none shrink-0 text-12px lh-16px text-center px-12px py-4px rounded-4px\n          "+(b.value===e.chain?"bg-[--border] color-[--main-text]":"color-[--third-text]")),onClick:l=>{return t=e.chain,b.value=t,void Z((()=>{Q()}));var t}},g(y(he)(e.chain).name),11,Xl)))),128))])):(r(),n("div",Nl,l[1]||(l[1]=[x("span",{class:"text-12px text-[--third-text] px-12px py-4px"},null,-1)]))),x("div",Gl,[d(P,{modelValue:y(T),"onUpdate:modelValue":l[0]||(l[0]=e=>U(T)?T.value=e:null),label:y(c)("currentToken"),size:"small",style:{"font-size":"12px",color:"var(--d-666-l-333)"}},null,8,["modelValue","label"])]),y(o).evmAddress?(r(),ae(Le,{key:2,ref:"selectWallet",chain:b.value,boundary:y(A)},null,8,["chain","boundary"])):h("",!0)])):h("",!0),x("div",Jl,[x("div",Zl,[x("div",Kl,g(y(c)("balance1")),1),x("div",Ql,"$"+g(y(_)(L.value,2)),1),x("div",et,[j(g(y(_)((null==(v=S.value)?void 0:v.balance_amount)||0,4))+" "+g(C.value)+" ",1),x("span",{style:w({color:B.value>=0?"#12B886":"#ff646d"})}," ("+g(B.value>=0?"+":"")+g(y(_)(B.value,2))+"%) ",5)])]),x("div",lt,[x("div",tt,g(y(c)("totalProfit")),1),x("div",{class:"stat-value table-field-text text-[--secondary-text]",style:w({color:D.value>=0?"#12B886":"#ff646d"})},g(D.value>=0?"+":"-")+"$"+g(K(y(_)(D.value,2))),5),x("div",{class:"stat-change text-[--secondary-text]",style:w({color:F.value>=0?"#12B886":"#ff646d"})},g(F.value>=0?"+":"")+g(y(_)(F.value,2))+"% ",5)]),x("div",at,[x("div",st,g(y(c)("realizedProfit")),1),x("div",{class:"stat-value table-field-text text-[--secondary-text]",style:w({color:I.value>=0?"#12B886":"#ff646d"})},g(I.value>=0?"+":"-")+"$"+g(K(y(_)(I.value,2))),5),x("div",{class:"stat-change text-[--secondary-text]",style:w({color:z.value>=0?"#12B886":"#ff646d"})},g(z.value>=0?"+":"")+g(y(_)(z.value,2))+"% ",5)]),x("div",ot,[x("div",it,g(y(c)("unrealizedProfit")),1),x("div",{class:"stat-value table-field-text text-[--secondary-text]",style:w({color:R.value>=0?"#12B886":"#ff646d"})},g(R.value>=0?"+":"-")+"$"+g(K(y(_)(R.value,2))),5),x("div",{class:"stat-change text-[--secondary-text]",style:w({color:M.value>=0?"#12B886":"#ff646d"})},g(M.value>=0?"+":"")+g(y(_)(M.value,2))+"% ",5)]),x("div",nt,[x("div",rt,g(y(c)("buyPriceWithSlash")),1),x("div",ut,g(H.value)+" "+g(C.value),1),x("div",ct,g(V.value),1)]),x("div",dt,[x("div",pt,g(y(c)("sellPriceWithSlash")),1),x("div",vt,g(Y.value)+" "+g(C.value),1),x("div",mt,g(W.value),1)])]),(null==(k=null==(m=y(o))?void 0:m.userInfo)?void 0:k.evmAddress)||y(i).address?(r(),ae(Ol,{key:1,ref_key:"unifiedRef",ref:f,chain:b.value,currentToken:y(T),userAddress:q.value||""},null,8,["chain","currentToken","userAddress"])):h("",!0)],512)}}}),[["__scopeId","data-v-e83e0e00"]]);export{xt as default};
