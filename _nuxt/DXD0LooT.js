const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DwDJvvHe.js","./LNDzZpPm.js","./entry.BpkB0Wh2.css","./CqaOUC0Y.js","./scrollbar.wwf0UyhQ.css","./Cl1KJRwQ.js","./CAu_L1SH.js","./4BOpdlp6.js","./CdYdV4TG.js","./input-number.HwP0nlBD.css","./vmSyQCMq.js","./switch.DT829VzR.css","./DQUqQXp4.js","./BcS6nOuf.js","./tag.C2CcED8f.css","./select.CdhMYGFy.css","./slippageSet.BuiJxkhK.css","./slippageSetMarket.BkBYExOE.css","./C3-dVZ_q.js","./draggable.BbLDMgda.css","./RFi1iHSl.js","./CzFZvokD.js","./radio-group.3FtdSGho.css","./BrHgemS_.js","./dropdown.CsqGwJyz.css","./D-K915qb.js","./DsasURJA.js","./DuC4p7MX.js","./remind.B6TrAqUJ.css","./saZFXB17.js","./CxxVZToV.js","./FpEH-fmd.js","./CLvFcI0Y.js","./DSef3GLz.js","./CyofXtRf.js","./table.D1Uy_Ymd.css","./XXbWVT46.js","./pagination.ta_PL2z7.css","./CSZL48hR.js","./ChbAheob.js","./perp.BIrIKJPc.css","./CaxwGV-A.js","./9dry2T_v.js","./fQpEmYRS.js","./FG6gRdvh.js","./Dl5uLHiY.js","./slider.LN1DrOuY.css","./D6i2W5JX.js","./ptpwaLtc.js","./proPopover.BtSs7_qu.css","./By0H2_f6.js","./index.BjUoTqWJ.css","./DRPZaXSw.js","./default.9l99RQ49.css","./radio-button.CHRh4ZEq.css","./CctE0S-S.js","./trackerPop.DpbEw8Dn.css"])))=>i.map(i=>d[i]);
import{cd as e,_ as t,v as l,bT as a,T as i,r as n,M as o,g as s,m as r,N as u,K as c,o as d,w as p,a as v,O as h,c as m,F as g,C as x,i as f,D as b,t as w,b as _,A as y,P as k,oy as H,B as W,G as C,d as $,aT as F,Q as R,s as S,aL as V,aK as j,a$ as D,e3 as T,bQ as A,H as O,a4 as z,am as N,aD as U,n as q,I as B,aB as E,p as I,aM as M,as as L,ay as P}from"./LNDzZpPm.js";import{_ as K}from"./C3-dVZ_q.js";import{a as Q,E as G}from"./CyofXtRf.js";import"./BcS6nOuf.js";import"./CqaOUC0Y.js";import{u as J,a as X}from"./Cl1KJRwQ.js";function Y(t){const{$api:l}=e();return l("/v2api/twitter/v1/kol/homepage",{method:"get",query:t})}function Z(t){const{$api:l}=e();return l("/v2api/twitter/v1/kol/follow",{method:"post",body:{author_id:t}})}function ee(){const{$api:t}=e();return t("/v2api/twitter/v1/kol/unfollow/all",{method:"post",body:{}})}function te(t){const{$api:l}=e();return l("/v2api/twitter/v1/kol/tweet",{method:"get",query:{tweet_id:t}})}const le={class:"px-20px pb-10px"},ae={class:"flex gap-16px mb-20px"},ie=["onClick"],ne={class:"flex items-center gap-12px mb-20px"},oe={class:"flex items-center gap-4px"},se={key:0,class:"flex flex-col items-center pt-60px"},re={class:"color-[--third-text] text-12px mb-20px mt-4px lh-12px"},ue={class:"text-[--third-text] text-12px"},ce=["onClick"],de={class:"flex items-center gap-8px"},pe={class:"color-[--main-text] text-14px lh-20px truncate max-w-150px"},ve={key:0,class:"w-14px h-14px bg-#000 rounded-full"},he=["src"],me={class:"text-12px color-[--secondary-text] lh-14px"},ge={class:"flex justify-end items-center gap-4px text-12px"},xe={class:"flex items-center"},fe={class:"text-[--main-text]"},be=t({__name:"drawer",props:{visible:{type:Boolean},visibleModifiers:{}},emits:["update:visible"],setup(t){const{t:N}=l(),U=a(t,"visible"),q=J(),B=i(),E=n([]),I=n({}),M=n(!1),L=n(!1),P=n(!1),K=o(),X=n([]),Y=n({keyword:"",cursor:"",tags:""}),te=n(!1),be=n(!1),we=n([]),_e=n(1),ye=1,ke=2,He=s((()=>[{label:N("hotSub"),value:ye},{label:N("mySub"),value:ke}])),We=s((()=>_e.value===ke));function Ce(e){X.value=e?E.value.map((e=>e.tag)):[],P.value=!1}function $e(e){const t=e.length;L.value=t===E.value.length,P.value=t>0&&t<E.value.length}const Fe=()=>{Y.value.page_token="",te.value=!1,be.value=!1,we.value=[]},Re=()=>{M.value=!1,Y.value.tags=X.value.toString(),Fe(),Ve()},Se=H((()=>{Fe(),Ve()}),300),Ve=async()=>{te.value=!0;try{let t=null;if(t=_e.value===ye?await function(t){const{$api:l}=e();return l("/v2api/twitter/v1/kol/hot",{method:"get",query:t})}(Y.value):await function(t){const{$api:l}=e();return l("/v2api/twitter/v1/kol/follow/list",{method:"get",query:t})}(Y.value),t){Y.value.page_token=t.page_token||"";const e=t.authors||[];be.value=!t.page_token,Y.value.page_token||be.value?we.value=[...we.value,...e]:we.value=e,!be.value&&we.value.length<40&&Ve()}}catch(t){}finally{te.value=!1}};Ve(),r((()=>U.value),(e=>{e&&(Y.value.keyword="",_e.value=ye,Fe(),Ve())}));const je=(e,t)=>{q.list.forEach((l=>{l.author.author_id===e&&(l.author.follow_status=t)}))},De=async(t,l)=>{try{await function(t){const{$api:l}=e();return l("/v2api/twitter/v1/kol/unfollow",{method:"post",body:{author_id:t}})}(t),z.success(N("cancelFollowed")),We.value?we.value=we.value.filter((e=>e.author_id!==t)):we.value[l].follow_status=0,je(t,0)}catch(a){z.error(N("failed"))}},Te=async()=>{try{const t=await function(){const{$api:t}=e();return t("/v2api/twitter/v1/kol/config",{method:"get",query:{}})}();E.value=(null==t?void 0:t.tag_configs)||[],I.value=((null==t?void 0:t.tag_configs)||[]).reduce(((e,t)=>(e[t.tag]=t.name,e)),{})}catch(t){}};r((()=>B.locale),Te),Te();const Ae=(e=[])=>e.map((e=>I.value[e])).join(","),Oe=()=>{O.confirm(N("deleteAllTips"),N("deleteAll"),{confirmButtonText:N("confirm"),cancelButtonText:N("cancel"),type:"warning"}).then((async()=>{await ee(),z.success(N("success")),we.value=[]}))},ze=()=>{_e.value=ye,Fe(),Ve()};return(e,t)=>{const l=W,a=k,i=C,n=D,o=G,s=F,r=V,H=j,O=R,q=Q,B=A,I=u("tooltip"),J=T;return d(),c(B,{modelValue:U.value,"onUpdate:modelValue":t[5]||(t[5]=e=>U.value=e),class:"[--el-dialog-bg-color:--dialog-bg]",title:f(N)("twitterTracker"),size:440},{default:p((()=>[v("div",le,[v("div",ae,[(d(!0),m(g,null,x(f(He),(e=>(d(),m("span",{key:e.value,class:b(["text-16px cursor-pointer",f(_e)===e.value?"color-[--main-text]":"color-[--secondary-text]"]),onClick:t=>{return l=e.value,_e.value=l,Fe(),Y.value.tags="",X.value=[],void Ve();var l}},w(e.label),11,ie)))),128))]),v("div",ne,[_(a,{modelValue:f(Y).keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>f(Y).keyword=e),class:"[&&]:[--el-input-height:36px] [&&]:[--el-input-bg-color:--border]",placeholder:f(N)("searchAccount"),clearable:"",onInput:f(Se)},{prefix:p((()=>[_(l,{class:"text-16px",name:"custom:search"})])),_:1},8,["modelValue","placeholder","onInput"]),2===f(_e)?(d(),c(i,{key:0,disabled:0===f(we).length,onClick:Oe},{default:p((()=>[v("div",oe,[_(l,{name:"custom:delete-all"}),$(" "+w(f(N)("deleteAll")),1)])])),_:1},8,["disabled"])):y("",!0)]),h((d(),c(q,{data:f(we),"header-cell-class-name":"text-12px",style:{width:"100%"},"infinite-scroll-disabled":f(be)||f(te),"infinite-scroll-distance":20,"infinite-scroll-delay":200},{empty:p((()=>[f(We)?(d(),m("div",se,[_(l,{name:"custom:twitter-empty",class:"text-61px mb-12px color-[--icon-color]"}),v("span",re,w(f(N)("twitterEmpty")),1),_(i,{type:"primary",class:"text-12px w-266px h-40px",onClick:ze},{default:p((()=>[$(w(f(N)("attention")),1)])),_:1})])):(d(),c(n,{key:1,class:"pt-40px"},{default:p((()=>[v("span",ue,w(f(N)("emptyNoData")),1)])),_:1}))])),default:p((()=>[_(o,{type:"index",label:"#"}),_(o,{label:f(N)("account")},{default:p((({row:e})=>[v("div",{class:"flex items-center gap-12px cursor-pointer",onClick:t=>(e=>{window.open(e.twitter_url,"_blank")})(e)},[_(s,{wallet_logo:{logo:e.profile_pic,name:e.name},"icon-size":"32px"},null,8,["wallet_logo"]),v("div",null,[v("div",de,[h((d(),m("span",pe,[$(w(e.name),1)])),[[I,e.name]]),e.chain?(d(),m("div",ve,[v("img",{class:"w-full h-full rounded-full block",src:`${f(K).token_logo_url}chain/${e.chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,he)])):y("",!0)]),v("div",me,"@"+w(e.username),1)])],8,ce)])),_:1},8,["label"]),_(o,{width:"75",align:"right",label:f(N)("tags")},{header:p((()=>[v("div",ge,[v("span",null,w(e.$t("tags")),1),_(O,{visible:f(M),"onUpdate:visible":t[4]||(t[4]=e=>S(M)?M.value=e:null),placement:"bottom",width:164,trigger:"click","popper-class":"el-drawer-popover"},{reference:p((()=>[_(l,{name:"custom:filter",class:b((f(X).length>0?"color-[--secondary-text]":"color-[--third-text]")+" cursor-pointer text-10px shrink-0")},null,8,["class"])])),default:p((()=>[_(r,{modelValue:f(L),"onUpdate:modelValue":t[1]||(t[1]=e=>S(L)?L.value=e:null),class:"width_100 [--el-checkbox-height:16px] mb-12px",indeterminate:f(P),onChange:Ce},{default:p((()=>[$(w(e.$t("all")),1)])),_:1},8,["modelValue","indeterminate"]),_(H,{modelValue:f(X),"onUpdate:modelValue":t[2]||(t[2]=e=>S(X)?X.value=e:null),onChange:$e},{default:p((()=>[(d(!0),m(g,null,x(f(E),((e,t)=>(d(),c(r,{key:t,class:"w-full [--el-checkbox-height:16px] mb-12px",label:e.name,value:e.tag},{default:p((()=>[$(w(e.name),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"]),v("div",xe,[_(i,{class:"min-w-0 flex-1",style:{"--border":"var(--gray-button-hover)"},onClick:t[3]||(t[3]=e=>M.value=!1)},{default:p((()=>[$(w(f(N)("cancel")),1)])),_:1}),_(i,{class:"min-w-0 flex-1",type:"primary",onClick:Re},{default:p((()=>[$(w(f(N)("confirm")),1)])),_:1})])])),_:1},8,["visible"])])])),default:p((({row:e})=>[v("span",fe,w(Ae(e.tags||[])),1)])),_:1},8,["label"]),_(o,{width:"40",align:"right",label:""},{default:p((({row:e,$index:t})=>[1===e.follow_status||2===f(_e)?(d(),c(l,{key:0,class:"cursor-pointer",name:"custom:twitter-del",onClick:l=>De(e.author_id,t)},null,8,["onClick"])):(d(),c(l,{key:1,class:"cursor-pointer",name:"custom:twitter-add",onClick:l=>(async(e,t)=>{try{await Z(e),z.success(N("followed")),we.value[t].follow_status=1,je(e,1)}catch(l){z.error(N("failed"))}})(e.author_id,t)},null,8,["onClick"]))])),_:1})])),_:1},8,["data","infinite-scroll-disabled"])),[[J,Ve]])])])),_:1},8,["modelValue","title"])}}},[["__scopeId","data-v-de6fc195"]]),we={__name:"index",setup(e){const t=n(!1),a=J(),i=X(),{t:o}=l(),{placement:u}=N(a),x=n(0),{width:b}=U();r((()=>u.value),(()=>{x.value++,C()})),q((()=>{a.visible?y():setTimeout((()=>{y()}),3e3)})),r((()=>a.visible),(()=>{a.visible&&y()}));const w=B(null),y=async()=>{const e=await E((()=>import("./DwDJvvHe.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56]),import.meta.url);w.value=e.default},k=s((()=>({minWidth:360,minHeight:160,maxWidth:438,initialHeight:a.winHeight-95,centerScrollHeight:a.boundingRect.height-140,otherScrollHeight:a.winHeight-230}))),H=s((()=>({center:{className:"top-0 left-0 fixed",initialWidth:a.boundingRect.width,initialHeight:a.boundingRect.height,x:a.boundingRect.x,y:a.boundingRect.y,minWidth:k.value.minWidth,minHeight:k.value.minHeight,parent:!0,handles:["tl","tm","tr","mr","br","bm","bl","ml"],dragHandle:".drag-handle"},left:{className:"[&&]:relative shrink-0 left fixed! top-61px",style:`left:${i.leftWidth.twitter}px`,axis:"x",x:0,minWidth:k.value.minWidth,maxWidth:k.value.maxWidth,initialWidth:a.fixedWidth,initialHeight:k.value.initialHeight,parent:!0,handles:["mr"],dragHandle:".drag-handle"},right:{className:"[&&]:relative shrink-0 right fixed! top-61px left-0",axis:"x",x:i.rightWidth.twitter,y:0,minWidth:k.value.minWidth,maxWidth:k.value.maxWidth,initialWidth:a.fixedWidth,initialHeight:k.value.initialHeight,parent:!0,handles:["ml"],dragHandle:".drag-handle"}}[u.value]))),W=B(!0),C=()=>{W.value=!1,I((()=>{W.value=!0}))},$=s((()=>{let e={};return e="center"===u.value?{class:"border-1px border-solid border-[--d-1A1A1A-l-F2F2F2] shadow-[0_5px_10px_0_var(--d-FFFFFF14-l-00000014)]",scrollHeight:k.value.centerScrollHeight}:{scrollHeight:k.value.otherScrollHeight},e}));function F(e,t){(Math.abs(e)<1||e+a.boundingRect.width>=b.value)&&i.fixedCount>=3?z.warning(o("popTips")):"left"===u.value?a.onLeftDragStop(e,t):"right"===u.value?a.onRightDragStop(e,t):a.onDragStop(e,t)}function R(e,t){"center"===u.value?a.onResizing(e,t):a.onFixedResizing(e)}function V(e){if("center"!==u.value)return null;a.onDrag(e)}return(e,l)=>{const i=K,n=be;return d(),m(g,null,[h(_(i,P({class:{"left-drag":f(a).isLeftFixed,"right-drag":f(a).isRightFixed},shouldRenderChild:f(W)},f(H),{onOnDragStop:F,onOnResizing:R,onOnDrag:V}),{default:p((()=>[(d(),c(L(f(w)),P(f($),{onSetDrawerVisible:l[0]||(l[0]=e=>t.value=!0)}),null,16))])),_:1},16,["class","shouldRenderChild"]),[[M,f(a).visible]]),v("div",null,[_(n,{visible:f(t),"onUpdate:visible":l[1]||(l[1]=e=>S(t)?t.value=e:null)},null,8,["visible"])])],64)}}},_e=Object.freeze(Object.defineProperty({__proto__:null,default:we},Symbol.toStringTag,{value:"Module"}));export{te as a,Z as f,Y as g,_e as i,ee as u};
