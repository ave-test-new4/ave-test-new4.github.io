import{f as e,l as a,V as l,am as t,y as n,R as s,v as o,aR as r,I as i,r as c,N as d,c as p,o as u,O as x,b as m,ar as v,K as f,w as h,F as b,d as g,t as y,B as w,J as k,a as C,A as I,i as $,bs as _,bY as B,a1 as T,a$ as R,D as A,s as N,E as j,C as D,Q as M,H as U,ez as E,eA as V,a4 as F,bF as S,a2 as W,_ as q}from"./LNDzZpPm.js";import{E as z,a as O}from"./CyofXtRf.js";import"./BcS6nOuf.js";import"./CqaOUC0Y.js";import{c as Q}from"./BR9e6NRM.js";import H from"./DItkWHBM.js";import"./DuC4p7MX.js";const J={key:0,class:"table-empty"},K={key:1},Y={key:1,class:"flex-start"},G=["src"],L={key:0,class:"border-solid border-0.5px border-#286dff color-#286dff rounded-4px text-10px px-4px py-1px overflow-hidden text-ellipsis whitespace-nowrap max-w-100px ml-10px line-height-15px"},P=["onMouseenter"],X={key:0,class:"mr-5px"},Z={key:1,class:"bg-[--primary-color] rounded-4px text-10px px-4px py-3px overflow-hidden text-ellipsis whitespace-nowrap max-w-100px line-height-19px height-19px"},ee={key:2,class:"bg-[--signal-green] rounded-4px text-10px px-4px py-3px overflow-hidden text-ellipsis whitespace-nowrap max-w-100px line-height-19px height-19px"},ae=["onClick"],le={class:"font-500 text-12px"},te={key:2},ne={class:"flex-between"},se={class:"text-24px"},oe={class:"w-480px flex flex-col items-center justify-center mb-20px"},re={class:"text-14px color-[--secondary-text] mt-26px"},ie={class:"color-[--primary-color] mr-4px text-17px"},ce={class:"mt-26px color-[--main-text] text-14px block"},de={class:"px-10px py-10px text-14px"},pe={class:"color-[var(--third-text)] text-left text-12px"},ue={class:"color-[var(--main-text)] text-left pl-5px"},xe={key:1},me={class:"color-[var(--third-text)] text-left text-12px"},ve={class:"color-[var(--main-text)] text-left pl-5px"},fe={class:"color-[var(--main-text)] text-left pl-5px"},he={class:"color-[var(--main-text)] text-left pl-5px"},be=q(e({__name:"list",props:{tableData:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["refresh","getMultiWalletsAllChain"],setup(e,{emit:q}){var be,ge;const ye=null==(be=a())?void 0:be.parent,we=null==(ge=null==ye?void 0:ye.exposed)?void 0:ge.getMultiWalletsAllChain,{getUserInfo:ke}=l(),Ce=q,{token_logo_url:Ie,mode:$e}=t(n()),{theme:_e}=t(s()),{t:Be}=o(),Te=r(),{evmAddress:Re}=t(l()),Ae=i(!1),Ne=c(null),je=i(!1),De=i(0),Me=c(null),Ue=c({buttonRefs:{},currentBtnRef:{}});function Ee(e){U.confirm(Be("walletRemoveTip2"),Be("walletRemove"),{type:"warning",icon:E(V),confirmButtonText:Be("confirm"),cancelButtonText:Be("cancel"),customClass:`${$e.value} delete_confirm`}).then((()=>{var a,l,t;const n=(null==(t=null==(l=null==(a=e.balancesInfo)?void 0:a.filter((e=>"bsc"==e.chain)))?void 0:l[0])?void 0:t.address)||"";Q(n).then((()=>{F.success(Be("success")),Ce("refresh"),ke()}))})).catch((e=>{}))}function Ve(e){Ne.value=e,Ae.value=!0,setTimeout((()=>{!async function(){var e,a;const l=document.getElementById("qr-chain-canvas-code");if(!l)return;S.toCanvas({canvas:l,content:(null==(e=Ne.value)?void 0:e.address)||"",width:200,nodeQrCodeOptions:{margin:2},logo:{src:`${Ie.value}chain/${(null==(a=Ne.value)?void 0:a.chain)||"bsc"}.png`,logoRadius:8}}).catch((e=>{}))}()}),200)}function Fe(e){if(e.isChildren){const a=Te.resolve({path:`/address/${e.address}/${e.chain}`});window.open(a.href,"_blank")}}const Se=({row:e})=>e.isChildren?"cursor-pointer":"";return(a,l)=>{const t=R,n=w,s=z,o=O,r=j,i=M,c=d("copy"),F=v;return u(),p("div",null,[x((u(),f(o,{data:e.tableData,style:{width:"100%"},"row-key":"id","tree-props":{children:"balancesInfo",hasChildren:"hasChildren"},"default-expand-all":!1,class:"table-list hidden-scrollbar bot-manage-table","header-row-class-name":"text-12px sticky top-0 z-10 font-500","row-class-name":Se,onRowClick:Fe},{empty:h((()=>{var a;return[e.loading||0!=(null==(a=e.tableData)?void 0:a.length)?(u(),p("span",K)):(u(),p("div",J,[m(t)]))]})),default:h((()=>[m(s,{prop:"name",label:"钱包","min-width":200},{default:h((({row:e})=>{var t,s;return[e.isChildren?(u(),p(b,{key:0},[g(y(null==(s=null==(t=e.name)?void 0:t.replace)?void 0:s.call(t,new RegExp("(.{6})(.+)(.{4})"),"$1...$3"))+" ",1),x(m(n,{name:"bxs:copy",class:"ml-5px mb--1px clickable color-[--third-text]",onClick:l[0]||(l[0]=k((()=>{}),["stop"]))},null,512),[[c,e.address]])],64)):(u(),p("div",Y,[C("img",{class:"mr-8px",style:{"border-radius":"50%"},height:"24",src:("generateAvatarIcon"in a?a.generateAvatarIcon:$(_))((null==e?void 0:e.name)||""),alt:""},null,8,G),g(" "+y(e.name)+" ",1),m(H,{remark:e.remark,address:e.evmAddress,chain:"bsc",showAddress:!0,onRefresh:l[1]||(l[1]=e=>Ce("refresh"))},null,8,["remark","address"]),$(Re)==e.evmAddress?(u(),p("span",L,y(a.$t("currentWallet")),1)):I("",!0)]))]})),_:1}),m(s,{prop:"chain",label:a.$t("chain"),align:"right"},{default:h((({row:e})=>{var l;return[g(y(null==(l=("getChainInfo"in a?a.getChainInfo:$(B))(null==e?void 0:e.chain))?void 0:l.name),1)]})),_:1},8,["label"]),m(s,{prop:"balance",label:a.$t("balance1"),align:"right"},{default:h((({row:e,$index:t})=>[C("div",{ref:e=>$(Ue).currentBtnRef[t]=e,onMouseenter:a=>function(e,a){var l,t,n;je.value=!0,De.value=a,Me.value={...e},(null==(l=Me.value)?void 0:l.balancesInfo)&&(Me.value.balancesInfo=null==(n=null==(t=Me.value)?void 0:t.balancesInfo)?void 0:n.reduce(((e,a)=>{if(["eth","base"].includes(a.chain)){const l=e.find((e=>"eth"===e.chain));l?l.mainTokenBalance=new W(l.mainTokenBalance).plus(a.mainTokenBalance).toFixed():e.push({...a,chain:"eth"})}else e.push(a);return e}),[]))}(e,t),onMouseleave:l[2]||(l[2]=e=>je.value=!1)}," $"+y(("formatNumber"in a?a.formatNumber:$(T))((null==e?void 0:e.balance)||0,2)),41,P)])),_:1},8,["label"]),m(s,{prop:"source",label:a.$t("origin"),align:"right"},{default:h((({row:e})=>[(null==e?void 0:e.isChildren)?I("",!0):(u(),p(b,{key:0},[e.source?(u(),p("span",X,y(e.source),1)):I("",!0),1==e.genSource?(u(),p("span",Z,y(a.$t("import")),1)):(u(),p("span",ee,y(a.$t("create")),1))],64))])),_:1},8,["label"]),m(s,{label:a.$t("operate"),align:"right"},{default:h((({row:e})=>["delete"==e.operate&&$(Re)!==e.evmAddress?(u(),f(n,{key:0,class:"text-14px text-[--third-text] cursor-pointer hover:color-[--main-text]",name:"ic:baseline-delete",onClick:k((a=>async function(e){we&&(await we(),Number(null==e?void 0:e.balance)>0?U.confirm(Be("walletRemoveTip1"),Be("walletRemove"),{type:"warning",icon:E(V),confirmButtonText:Be("confirm"),cancelButtonText:Be("cancel"),customClass:`${$e.value} delete_confirm`}).then((()=>{Ee(e)})):Ee(e))}(e)),["stop","prevent"])},null,8,["onClick"])):(null==e?void 0:e.isChildren)?(u(),p("div",{key:1,class:"bg-[--main-input-button-bg] rounded-4px inline-flex items-center gap-4px py-2px px-4px cursor-pointer",onClick:k((a=>Ve(e)),["stop","prevent"])},[m(n,{name:"custom:download",class:"text-10px"}),C("span",le,y($(Be)("deposit2")),1)],8,ae)):(u(),p("span",te))])),_:1},8,["label"])])),_:1},8,["data"])),[[F,e.loading]]),m(r,{modelValue:$(Ae),"onUpdate:modelValue":l[4]||(l[4]=e=>N(Ae)?Ae.value=e:null),width:"500",class:A([$(_e)]),"append-to-body":"","close-on-click-modal":!1,"popper-style":{padding:"20px","border-radius":"8px"},"show-close":!1},{header:h((()=>[C("div",ne,[C("span",se,y(a.$t("deposit2")),1),m(n,{name:"material-symbols-light:close",class:"text-30px cursor-pointer",onClick:l[3]||(l[3]=k((e=>Ae.value=!1),["stop","prevent"]))})])])),default:h((()=>{var e,t,n;return[C("div",oe,[l[6]||(l[6]=C("canvas",{id:"qr-chain-canvas-code"},null,-1)),C("div",re,[C("span",ie,y(null==(t=("getChainInfo"in a?a.getChainInfo:$(B))((null==(e=$(Ne))?void 0:e.chain)||""))?void 0:t.name),1),g(y(a.$t("walletAddress")),1)]),C("span",ce,y(null==(n=$(Ne))?void 0:n.address),1)])]})),_:1},8,["modelValue","class"]),m(i,{visible:$(je),"onUpdate:visible":l[5]||(l[5]=e=>N(je)?je.value=e:null),"virtual-ref":$(Ue).currentBtnRef[$(De)],"virtual-triggering":"",trigger:"contextmenu",placement:"right","popper-class":"text-center","popper-style":{padding:0,"border-radius":"8px"}},{default:h((()=>{var e,t,n,s,o,r,i;return[C("table",de,[C("tbody",null,[(null==(e=$(Me))?void 0:e.balancesInfo)?(u(!0),p(b,{key:0},D(null==(t=$(Me))?void 0:t.balancesInfo,((e,l)=>{var t;return u(),p("tr",{key:l},[C("td",pe,y(null==(t=("getChainInfo"in a?a.getChainInfo:$(B))((null==e?void 0:e.chain)||""))?void 0:t.main_name),1),C("td",ue,y(("formatNumber"in a?a.formatNumber:$(T))((null==e?void 0:e.mainTokenBalance)||0,2)),1)])})),128)):(u(),p("tr",xe,[C("td",me,y((null==(s=("getChainInfo"in a?a.getChainInfo:$(B))((null==(n=$(Me))?void 0:n.chain)||""))?void 0:s.main_name)||a.$t("mainToken")),1),C("td",ve,y(("formatNumber"in a?a.formatNumber:$(T))((null==(o=$(Me))?void 0:o.mainTokenBalance)||0,2)),1)])),C("tr",null,[l[7]||(l[7]=C("td",{class:"color-[var(--third-text)] text-left text-12px"},"USDT",-1)),C("td",fe,y(("formatNumber"in a?a.formatNumber:$(T))((null==(r=$(Me))?void 0:r.usdtTokenBalance)||0,2)),1)]),C("tr",null,[l[8]||(l[8]=C("td",{class:"color-[var(--third-text)] text-left text-12px"},"USDC",-1)),C("td",he,y(("formatNumber"in a?a.formatNumber:$(T))((null==(i=$(Me))?void 0:i.usdcTokenBalance)||0,2)),1)])])])]})),_:1},8,["visible","virtual-ref"])])}}}),[["__scopeId","data-v-6e5b5d3c"]]);export{be as default};
