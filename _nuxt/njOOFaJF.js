import{f as e,r as l,v as o,g as t,q as a,K as n,o as i,w as r,a as s,J as u,c,A as d,b as p,F as v,C as m,i as x,aL as b,P as f,s as h,G as g,d as k,B as y,t as _,D as w,Q as C,af as $,a4 as S,b_ as V,T as P,V as N,W as F,y as T,e9 as D,cl as M,m as B,ex as A,ey as E,M as I,a1 as L,ab as U,_ as R,ad as j,am as H,aE as O,I as Y,aQ as W,j as z,ce as G,n as K,cx as q,O as J,cJ as Q,ar as X,e as Z,a7 as ee,E as le,H as oe,ez as te,eA as ae,cm as ne,eg as ie,bI as re,eB as se,eC as ue,eD as ce,eE as de,eF as pe,eG as ve,ap as me,R as xe,eH as be,eI as fe,eJ as he,eK as ge,eL as ke,eM as ye,eN as _e,a2 as we,bV as Ce,Y as $e,eO as Se,eP as Ve,eQ as Pe,ak as Ne,ee as Fe,a5 as Te,eR as De,aq as Me,eS as Be,x as Ae,e8 as Ee,aD as Ie,U as Le,eT as Ue,aj as Re,a6 as je,aM as He,a8 as Oe,eU as Ye,eV as We,eW as ze}from"./LNDzZpPm.js";import{E as Ge}from"./vmSyQCMq.js";import{E as Ke}from"./Dmaw2k36.js";import{u as qe}from"./7PWpoxWf.js";import{E as Je}from"./B_bYtbjB.js";import{E as Qe}from"./CdYdV4TG.js";import{E as Xe}from"./CqaOUC0Y.js";import{u as Ze,d as el,e as ll}from"./DsasURJA.js";import{u as ol}from"./FG6gRdvh.js";const tl={class:"flex mt-4px"},al=e({__name:"collect",props:{iconClass:{},isCollected:{type:Boolean},userFavoriteGroups:{}},emits:["collect","newGroupAndCollect"],setup(e,{emit:V}){const P=e,N=V,F=l(0),T=l(""),D=l(!1),M=l(!1),B=l(!1),{t:A}=o(),E=t((()=>[{name:A("defaultGroup"),group_id:0}].concat(P.userFavoriteGroups)));function I(){$()&&(P.isCollected?N("collect"):M.value=!0)}const L=()=>{if(T.value){if(E.value.find((e=>e.name===T.value)))return void S.error(A("groupNameAlreadyExists"));N("newGroupAndCollect",T.value)}else N("collect",F.value);U()};function U(){M.value=!1,T.value="",D.value=!1}return document.addEventListener("click",U),a((()=>{document.removeEventListener("click",U)})),(e,l)=>{const o=y,t=b,a=f,$=g,S=C;return i(),n(S,{"popper-class":"[&&]:[--el-popover-padding:0]",visible:x(M),trigger:"click",width:"248px"},{reference:r((()=>[p(o,{name:"custom:star",class:w(`${e.iconClass} ${e.isCollected?"color-[--yellow]":"color-[--icon-color]"}`),onClick:u(I,["self","stop"])},null,8,["class"])])),default:r((()=>[s("div",{class:"flex flex-col gap-8px p-12px",onClick:l[2]||(l[2]=u((()=>{}),["stop"]))},[(i(!0),c(v,null,m(x(E),(e=>(i(),c("div",{key:e.group_id},[p(t,{class:"[--el-checkbox-height:14px]",label:e.name,modelValue:x(F)===e.group_id,onChange:l=>{return o=e.group_id,F.value=o,void(T.value="");var o}},null,8,["label","modelValue","onChange"])])))),128)),x(D)?(i(),n(a,{key:0,modelValue:x(T),"onUpdate:modelValue":l[0]||(l[0]=e=>h(T)?T.value=e:null),modelModifiers:{trim:!0},clearable:"",placeholder:e.$t("enterGroupName"),maxlength:20},null,8,["modelValue","placeholder"])):d("",!0),p($,{disabled:x(D),class:"w-full",onClick:l[1]||(l[1]=e=>D.value=!0)},{default:r((()=>[p(o,{name:"material-symbols:add-circle",class:"mr-4px"}),k(_(e.$t("newGroup")),1)])),_:1},8,["disabled"]),s("div",tl,[p($,{class:"flex-1",onClick:U},{default:r((()=>[k(_(e.$t("cancel")),1)])),_:1}),p($,{loading:x(B),class:"flex-1",type:"primary",onClick:L},{default:r((()=>[k(_(e.$t("confirm")),1)])),_:1},8,["loading"])])])])),_:1},8,["visible"])}}});function nl(){const{t:e}=o(),l=V(),a=P(),n=N(),i=F(),r=T(),s=t((()=>{var o,t,r,s;return((null==n?void 0:n.evmAddress)||(null==i?void 0:i.address)?[{id:"trade",name:e("mine")}]:[]).concat(null==(s=null==(r=null==(t=null==(o=l.totalHolders)?void 0:o.filter)?void 0:t.call(o,(e=>{var l;return((null==e?void 0:e.total_address)||0)>0&&(null==(l=["16","19","25","30","31"])?void 0:l.includes(e.type))})))?void 0:r.map)?void 0:s.call(r,(e=>({id:e.type,name:null==e?void 0:e[D(a.locale)]}))))})),u=M("tv_markTabsVisible",!0),c=M("tv_markTabsChecked",{trade:!0,16:!1,19:!1,25:!0,30:!1,31:!0});const d=new Map,p=new Map;function v({el:e,side:l,type:o,urlPrefix:t,name:a,bucketTime:n}){var i;const r="buy"===l,s="31"===o;let u=r?`${t}signals/marks/mark-buy-${o}.png`:`${t}signals/marks/mark-sell-${o}.png`;(null==(i=e.wallet_logo)?void 0:i.logo)&&e.wallet_logo.logo.includes(".webp")&&(u=e.wallet_logo.logo);let c="transparent",d=0;return s&&(d=2,c=r?"#12B886":"#F6465D"),{id:`${e.tx_time}-${l}-${o}`,time:n,color:{background:"transparent",border:c},imageUrl:u,label:r?"B":"S",labelFontColor:"#fff",minSize:Number(e.volume)>=2e3?30:25,hoveredBorderWidth:d,borderWidth:d,text:m(a,o,e,r,n),showLabelWhenImageLoaded:!1,user_address:e.wallet_address,tx_time:e.tx_time}}function m(l,o,t,a,n){var i;const r=e(a?"bought":"sold"),s=null==l?void 0:l.replace(/\(.*\)$/,"");if(30===Number(o)){const l=e(a?"netInflow":"netOutflow"),o=e(a?"inflow":"outflow"),i=e(a?"campaignBuyAvg":"campaignSellAvg");return`${s} ${l}\n        ${o}: ${L(t.volume,2)}(${L(t.txns,0)})\n        ${i}: $${L(Number(t.volume)/(Number(t.amount)||1),4)}\n        ${l}: ${L(t.volume,2)}\n        ${U(n,"YYYY-MM-DD HH:mm")}\n      `}return`${(null==(i=t.wallet_logo)?void 0:i.name)||`${s}`} ${r}\n        ${e("amountB")}: ${L(t.amount,2)}\n        ${e("amountU")}: $${L(t.volume,2)}\n        ${e("price")}: $${L(Number(t.volume)/(Number(t.amount)||1),4)}\n        ${e("Txs")}: ${L(t.txns)}\n        ${U(n,"YYYY-MM-DD HH:mm")}\n        `}function x(e,l,o,t){var a,n,i,r,s,u,c,d,p;const v=[],m={},x=(null==(a=I().globalConfig)?void 0:a.token_logo_url)||"https://www.iconaves.com/",f=Number(l);for(const b of e){const e=Math.floor(b.time/f)*f;if(30===Number(o)){const l=(null==(n=null==b?void 0:b.buy)?void 0:n.volume)||0,o=(null==(i=null==b?void 0:b.sell)?void 0:i.volume)||0,t=`${e}-${l>o?"buy":"sell"}`,a=m[t]??(m[t]={time:e,side:l>o?"buy":"sell",amount:0,txns:0,volume:0,buyAmount:0,sellAmount:0,buyTxns:0});a.buyAmount=(null==(r=null==b?void 0:b.buy)?void 0:r.amount)||0,a.sellAmount=(null==(s=null==b?void 0:b.sell)?void 0:s.amount)||0,a.amount=Math.abs(a.buyAmount-a.sellAmount),a.buyTxns=(null==(u=null==b?void 0:b.buy)?void 0:u.txns)||0,a.sellTxns=(null==(c=null==b?void 0:b.sell)?void 0:c.txns)||0,a.txns=a.buyTxns+a.sellTxns,a.volume=Math.abs(l-o),a.buyVolume=(null==(d=null==b?void 0:b.buy)?void 0:d.volume)||0,a.sellVolume=(null==(p=null==b?void 0:b.sell)?void 0:p.volume)||0}else{if(b.buy){const l=`${e}-buy`,o=m[l]??(m[l]={time:e,side:"buy",amount:0,txns:0,volume:0});o.amount+=b.buy.amount,o.txns+=b.buy.txns,o.volume+=b.buy.volume}if(b.sell){const l=`${e}-sell`,o=m[l]??(m[l]={time:e,side:"sell",amount:0,txns:0,volume:0});o.amount+=b.sell.amount,o.txns+=b.sell.txns,o.volume+=b.sell.volume}}}for(const h of Object.values(m)){const e="buy"===h.side;v.push({id:`${h.time}-${h.side}-${o}`,time:h.time,color:{background:"transparent",border:"transparent"},imageUrl:e?`${x}signals/marks/mark-buy-${o}.png`:`${x}signals/marks/mark-sell-${o}.png`,label:e?"B":"S",labelFontColor:"#fff",minSize:20,hoveredBorderWidth:0,borderWidth:0,text:b(h,o,t),showLabelWhenImageLoaded:!1})}return v.sort(((e,l)=>e.time-l.time))}function b(l,o,t){const a="buy"===l.side;if(30===Number(o)){const o=e(a?"netInflow":"netOutflow"),{buyVolume:n,sellVolume:i,buyTxns:r,sellTxns:s,volume:u}=l,c=(n||0)>0?`\n${e("inflow")}: ${L(n||0,2)}(${L(r||0,0)})\n${e("campaignBuyAvg")}: $${L((n||0)/(l.buyAmount||1),2)}`:"",d=(i||0)>0?`\n${e("outflow")}: $${L(i||0,4)}(${L(s||0,0)})\n${e("campaignSellAvg")}: $${L((i||0)/(l.sellAmount||1),2)}`:"";return`${null==t?void 0:t.replace(/\(.*\)$/,"")} ${o}${c}${d}\n${e(a?"netInflow":"netOutflow")}: ${L(u,2)}\n${U(l.time,"YYYY-MM-DD HH:mm")}\n`}const n=e(a?"bought":"sold"),{amount:i,txns:r,volume:s}=l;return`${null==t?void 0:t.replace(/\(.*\)$/,"")} ${n}\n${e("amountB")}: ${L(i,2)}\n${e("amountU")}: $${L(s,2)}\n${e("price")}: $${L(s/(i||1),4)}\n${e("Txs")}: ${L(r)}\n${U(l.time,"YYYY-MM-DD HH:mm")}\n`}return B((()=>{var e;return null==(e=l.token)?void 0:e.token}),(()=>{d.clear(),p.clear()})),{marksTabs:s,markTabsChecked:c,createMarkButton:function(e,l){var o;const t=null==e?void 0:e.createButton();t&&(null==(o=s.value)||o.forEach((l=>{var o;const a=document.createElement("button");a.style.display="flex",a.style.alignItems="center",a.style.cursor="pointer",a.style.backgroundColor="transparent",a.style.border="none",a.style.outline="none",a.style.fontSize="12px",(null==(o=c.value)?void 0:o[null==l?void 0:l.id])&&(a.style.color="#3F80F7"),a.innerText=l.name,t.appendChild(a),a.onclick=()=>{var o,t,n,i,r,s;c.value[l.id]?(c.value[l.id]=!1,a.style.color="inherit",null==(n=null==(t=null==(o=null==e?void 0:e.activeChart)?void 0:o.call(e))?void 0:t.clearMarks)||n.call(t)):(c.value[l.id]=!0,a.style.color="#3F80F7"),null==(s=null==(r=null==(i=null==e?void 0:e.activeChart)?void 0:i.call(e))?void 0:r.refreshMarks)||s.call(r)}})),l.push(t))},getMarks:function({from:e,to:l,interval:o,onDataCallback:t,pair:a,chain:n,token:i,user:r}){s.value.forEach((s=>{var u,m,b,f;const h=a+"-"+n+"-"+r+"-"+o+"-"+s.id+"-"+e+"-"+l;if(d.has(h)&&(null==(u=c.value)?void 0:u[s.id])){const e=x(d.get(h)||[],o,s.id,s.name);t(e||[])}else if(p.has(h)&&(null==(m=c.value)?void 0:m[s.id])){const e=p.get(h);t(e)}else"trade"===s.id&&(null==(b=c.value)?void 0:b[s.id])?A({from:e,to:l,interval:o,pair:a+"-"+n,token_address:i,user_address:r}).then((e=>{const l=x(e,o,s.id,s.name);d.set(h,e||[]),t(l||[])})):(null==(f=c.value)?void 0:f[s.id])&&E({from:e,to:l,interval:o,pair_id:a+"-"+n,type:s.id}).then((e=>{if(Array.isArray(e)){const l=function(e,l,o,t){var a;const n=[],i=(null==(a=I().globalConfig)?void 0:a.token_logo_url)||"https://www.iconaves.com/",r=Number(l);for(const s of e){const e=Math.floor(s.time/r)*r;for(const l of s.holders){const{wallet_address:a,wallet_logo:r}=l;l.buy&&n.push(v({el:{...l.buy,wallet_address:a,wallet_logo:r},side:"buy",type:o,name:t,bucketTime:e,urlPrefix:i})),l.sell&&n.push(v({el:{...l.sell,wallet_address:a,wallet_logo:r},side:"sell",type:o,name:t,bucketTime:e,urlPrefix:i}))}}return n}(e||[],o,s.id,s.name);p.set(h,l),t(l||[])}}))}))},wsTxUpdateMarks:function({tx:e,interval:o,user:t},a){var n,i,r,s,u,c;const p=null==(n=null==l?void 0:l.token)?void 0:n.token,v=null==(i=null==l?void 0:l.token)?void 0:i.chain,m=null==l?void 0:l.pairAddress,x={time:e.time};if("maker"in e){if(p!==e.target||e.maker!==t)return;const l=e.direction;"buy"===l&&(x.buy={amount:Number((null==e?void 0:e.target_amt)||0),txns:1,volume:Number((null==e?void 0:e.price_u)||0)*Number((null==e?void 0:e.target_amt)||0)}),"sell"===l&&(x.sell={amount:Number((null==e?void 0:e.target_amt)||0),txns:1,volume:Number((null==e?void 0:e.price_u)||0)*Number((null==e?void 0:e.target_amt)||0)})}else{if(p!==e.from_address&&p!==e.to_address||e.wallet_address!==t)return;const o=(null==(r=null==l?void 0:l.token)?void 0:r.token)===e.to_address?"buy":"sell";e.time,"buy"===o&&(Number((null==e?void 0:e.to_amount)||0),Number((null==e?void 0:e.to_price_usd)||0),Number((null==e?void 0:e.to_amount)||0)),"sell"===o&&(Number((null==e?void 0:e.from_amount)||0),Number((null==e?void 0:e.from_price_usd)||0),Number((null==e?void 0:e.from_amount)||0))}d.forEach(((e,l)=>{l.startsWith(m+"-"+v+"-"+t+"-"+o+"-trade")&&e.push(x)})),null==(c=null==(u=null==(s=null==a?void 0:a.activeChart)?void 0:s.call(a))?void 0:u.refreshMarks)||c.call(u)},profilingMarksCache:p,createDisplayButton:function(l,o){const t=null==l?void 0:l.createButton();if(t)return t.innerHTML=`<div style="cursor:pointer;display:flex;gap:8px;align-items:center">${e("display")}<svg xmlns="http://www.w3.org/2000/svg" width="9" height="6" viewBox="0 0 9 6" fill="#C8C7D8">\n<path d="M0.801296 0C0.123025 0 -0.2475 0.791086 0.186718 1.31215L3.47869 5.26251C3.79852 5.64631 4.388 5.64631 4.70784 5.26251L7.99981 1.31215C8.43402 0.791085 8.0635 0 7.38523 0H0.801296Z" fill="#C8C7D8"/>\n<script xmlns=""/></svg></div>`,t.onclick=e=>{const l=t.getBoundingClientRect(),o=l.left-320+44,a=l.top+34;r.klineSettingPop.position=[o,a],r.klineSettingPop.visible=!r.klineSettingPop.visible;let n=e.target;for(;n&&!n.classList.contains("chart-page");)n=n.parentElement;n.onclick=l=>{l.currentTarget!==e.currentTarget&&(r.klineSettingPop.visible=!1,n=null)}},o.push(t),t.getBoundingClientRect()},markTabsVisible:u}}const il={key:0,class:"time"},rl={key:0,class:"text-center"},sl={class:"color-[--d-F5F5F5-l-111] text-14px mb-12px block"},ul={class:"color-[--d-F5F5F5-l-111] text-28px flex items-center"},cl={class:"bg-[--d-151A22-l-E8F1FF] px-16px py-8px radius-8px mr-6px text-center"},dl={class:""},pl={class:"bg-[--d-151A22-l-E8F1FF] px-16px py-8px radius-8px mr-6px text-center"},vl={class:"bg-[--d-151A22-l-E8F1FF] px-16px py-8px radius-8px mr-6px text-center"},ml={class:"bg-[--d-151A22-l-E8F1FF] px-16px py-8px radius-8px mr-6px text-center"},xl={key:1,class:"flex items-center bg-[--d-151A22-l-E8F1FF] py-8px px-24px radius-4px"},bl={key:0,class:"color-[--d-8CA0C3-l-566275] text-36px"},fl=R({__name:"unknownRisk",props:{isRank:{type:Boolean,default:!1}},emits:["refresh"],setup(e,{emit:l}){const o=l,a=e.isRank?qe():V(),u=t((()=>a.price)),p=t((()=>{var e;return(null==(e=a.token)?void 0:e.opening_at)||0}));function v(){o("refresh")}return(e,l)=>{var o;const t=j;return x(u)?d("",!0):(i(),c("div",il,[x(p)>0?(i(),c("div",rl,[s("span",sl,_(e.$t("countdown2Opening")),1),(i(),n(t,{key:x(p),timestamp:x(p),"end-time":0,onDone:v},{default:r((({formattedData:e})=>[s("div",ul,[s("div",cl,[s("span",dl,_((e.days<10?"0":"")+e.days),1),l[0]||(l[0]=s("span",{class:"text-12px mt-4px color-[--d-8CA0C3-l-566275] block"},"D",-1))]),s("div",pl,[s("span",null,_((e.hours<10?"0":"")+e.hours),1),l[1]||(l[1]=s("span",{class:"text-12px mt-4px color-[--d-8CA0C3-l-566275] block"},"H",-1))]),s("div",vl,[s("span",null,_((e.minutes<10?"0":"")+e.minutes),1),l[2]||(l[2]=s("span",{class:"text-12px mt-4px color-[--d-8CA0C3-l-566275] block"},"M",-1))]),s("div",ml,[s("span",null,_((e.seconds<10?"0":"")+e.seconds),1),l[3]||(l[3]=s("span",{class:"text-12px mt-4px color-[--d-8CA0C3-l-566275] block"},"S",-1))])])])),_:1},8,["timestamp"]))])):(i(),c("div",xl,[(null==(o=x(a))?void 0:o.loadingToken)?d("",!0):(i(),c("span",bl,_(e.$t("unknownRisk")),1))]))]))}}},[["__scopeId","data-v-66a26bf4"]]),hl={class:"flex-start items-center"},gl={class:"text-20px font-500 cursor-pointer"},kl={key:0,class:"content text-center"},yl={class:"mt-25px text-center"},_l={key:1},wl={class:"flex-between mt-16px"},Cl={class:"title block"},$l={key:0,class:"mr-4px"},Sl={key:1,class:"mr-4px"},Vl={class:"py-4px [&&]:m--12px flex flex-col"},Pl={class:"ml-4px mr-4px"},Nl={class:"ml-4px mr-4px"},Fl={class:"flex-between mt-24px"},Tl={class:"text-14px"},Dl={class:"text-12px color-[--third-text]"},Ml={class:"ml-5px text-12px"},Bl={class:"flex mt-20px"},Al={class:"ml-4px mr-4px"},El={class:"ml-4px mr-4px"},Il={class:"py-4px [&&]:m--12px flex flex-col"},Ll={class:"ml-4px mr-4px"},Ul={class:"ml-4px mr-4px"},Rl={class:"flex items-center justify-center mt-10px gap-10px"},jl=["id","value"],Hl=["for"],Ol={class:"slippage-input flex-1"},Yl={class:"color-[--main-text] mr-5px"},Wl={key:0,class:"flex-between mt-24px"},zl={class:"title block"},Gl={class:"list mt-32px"},Kl=["keys","onClick"],ql={class:"flex-between parent cursor-pointer"},Jl={class:"text-16px font-500 ml-8px"},Ql={key:0,class:"py-4px flex flex-col mt-16px"},Xl=["onClick"],Zl={class:"ml-4px color-[--secondary-text]"},eo={class:"ml-4px"},lo={key:0,class:"color-[--third-text] ml-4px"},oo={key:1,class:"color-[--down-color] ml-4px"},to={key:0,class:"empty text-14px color-[--icon-color] flex items-center justify-center flex-col mt-200px"},ao={class:"mt-10px"},no={class:"text-14px color-[--third-text] mt-20px"},io={class:"color-[--main-text]"},ro=R(e({__name:"dialogRemind",props:{modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:l}){const a=e,$=l,P=N(),{t:F}=o(),{mode:D}=H(T()),M=Ze(),{remindList:A,loadingRemind:E,len:I,remindCount:U}=H(M),{getNotifyList:R}=M,j=O(),ne=t({get:()=>a.modelValue??!1,set:e=>$("update:modelValue",e)}),ie=V(),re=Y(!1),se=Y(0),ue=Y(null),ce=Y(!1),de=W(),pe=z({direction:"up",is_repeatable:0,warning_price:0}),ve=Y(!1),me=Y(!1);Y(0);const xe=Y(!1),be=t((()=>de.currentAddress||"")),fe=t((()=>"up"==pe.direction?[25,50,100]:[50,30,15]));t((()=>null==ie?void 0:ie.tokenInfo));const he=t((()=>null==ie?void 0:ie.token)),ge=t((()=>j.params.id));t((()=>{const{chain:e}=G(ge.value,0);return e}));const ke=t((()=>{var e;return ce.value?null==(e=A.value)?void 0:e.filter((e=>{var l;return e.token==(null==(l=he.value)?void 0:l.token)})):A.value||[]}));function ye(){pe.warning_price=q((null==ie?void 0:ie.price)||0,4),pe.direction="up",pe.is_repeatable=0,window.Notification&&"granted"==Notification.permission?!1===re.value&&be.value&&R():re.value=!0}function _e(){window.Notification&&"denied"!==Notification.permission?Notification.requestPermission().then((e=>{"granted"===e&&(re.value=!1)})):window.Notification&&"denied"==Notification.permission?window.open("https://support.google.com/chrome/answer/3220216?hl=en&co=GENIE.Platform%3DDesktop"):window.location.href.startsWith("https")?S.error(F("unSupportNotify")):S.error(F("domainSafe"))}function we(){var e,l,o;if(I.value>=100)return void S.error(F("alertTip2"));if(!pe.warning_price)return void S.error(F("alertTip1"));let t={...pe,user_address:be.value,token:(null==(e=null==he?void 0:he.value)?void 0:e.token)||"",symbol:(null==(l=null==he?void 0:he.value)?void 0:l.symbol)||"",chain:(null==(o=null==he?void 0:he.value)?void 0:o.chain)||"",current_price:Number(null==ie?void 0:ie.price),warning_price:Number(pe.warning_price||0)};xe.value=!0,el(t,be.value).then((e=>{S.success(F("success")),R()})).catch((e=>{S.error(F("fail"))})).finally((()=>{xe.value=!1}))}function Ce(e,l=0){oe.confirm(F(1==l?"deleteGroupAlert":"deleteAlert"),F("tips"),{type:"warning",icon:te(ae),confirmButtonText:F("confirm"),cancelButtonText:F("cancel"),customClass:`${D.value} delete_confirm`}).then((()=>{ll(e,be.value).then((e=>{S.success(F("success")),R()})).catch((e=>{S.error(F("fail"))})).finally((()=>{}))})).catch((e=>{}))}function $e(e){pe.direction=e,ve.value=!1,ue.value=0,se.value=0}function Se(e){pe.is_repeatable=e,me.value=!1}function Ve(){let e=0;e=se.value?"up"==pe.direction?(1+se.value/100)*Number((null==ie?void 0:ie.price)||0):(1-se.value/100)*Number((null==ie?void 0:ie.price)||0):Number((null==ie?void 0:ie.price)||0),pe.warning_price=q(e||0,4)}function Pe(){ue.value?"up"==pe.direction?pe.warning_price=(1+ue.value/100)*Number((null==ie?void 0:ie.price)||0):pe.warning_price=(1-ue.value/100)*Number((null==ie?void 0:ie.price)||0):pe.warning_price=Number((null==ie?void 0:ie.price)||0),pe.warning_price=q(pe.warning_price||0,4)}B(U,(e=>{e&&ne.value&&ye()})),B((()=>ne.value),(e=>{e?ye():(me.value=!1,ve.value=!1)})),B((()=>be.value),(e=>{e&&!re.value?ye():A.value=[]})),B((()=>re.value),(e=>{e?A.value=[]:ye()})),K((()=>{}));const Ne=e=>{const l=e.replace(/[^0-9.]/g,"").replace(/^0+(\d)/,"$1").replace(/(\..*?)\..*/g,"$1");pe.warning_price=l},Fe=()=>{const e=Number(pe.warning_price);pe.warning_price=isNaN(e)?0:e},Te=()=>{P.changeConnectVisible(!0)},De=()=>{0==Number(pe.warning_price)&&(pe.warning_price="")},Me=()=>{0!==ue.value&&null!==ue.value||(ue.value=null)};return(e,l)=>{const o=y,t=Je,a=C,$=f,S=g,V=Qe,P=b,N=ee,F=Z,T=Xe,D=le,M=X;return i(),n(D,{modelValue:x(ne),"onUpdate:modelValue":l[11]||(l[11]=e=>h(ne)?ne.value=e:null),width:"640px",class:"dialog-box dialog-max dialog-remind dialog",onClose:l[12]||(l[12]=e=>ne.value=!1),"append-to-body":""},{header:r((()=>[s("div",hl,[s("span",gl,_(e.$t("alerts")),1)])])),default:r((()=>{var b,f;return[x(re)?(i(),c("div",kl,[p(o,{class:"text-30px",name:"custom:bell-close"}),s("div",yl,[k(_(e.$t("notifyDenyTipBefore"))+" ",1),s("a",{class:"set",href:"",onClick:u(_e,["stop","prevent"])},_(e.$t("notifyDenyTip")),1),k(" "+_(e.$t("notifyDenyTipAfter")),1)])])):(i(),c("div",_l,[p(t,{type:"warning",title:e.$t("remindTip"),closable:!1,"show-icon":"",style:{backgroundColor:"#FFA6221A",color:"#FFA622",border:"none",fontSize:"12px"}},null,8,["title"]),s("div",wl,[s("span",Cl,_(e.$t("alertFrequency")),1),p(a,{"popper-class":"[--el-popover-bg-color:--border]",placement:"bottom-end",trigger:"click",visible:x(me)},{reference:r((()=>[s("div",{class:"flex-start items-center cursor-pointer text-12px bg-[--border] px-8px py-8px",onClick:l[0]||(l[0]=u((e=>me.value=!x(me)),["stop"]))},[1==x(pe).is_repeatable?(i(),c("span",$l,_(e.$t("duplicate")),1)):(i(),c("span",Sl,_(e.$t("once")),1)),p(o,{name:x(me)?"radix-icons:triangle-up":"radix-icons:triangle-down",class:"text-16px color-[--main-text]"},null,8,["name"])])])),default:r((()=>[s("div",Vl,[s("div",{class:"flex-start items-center text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-list-hover] cursor-pointer",onClick:l[1]||(l[1]=u((e=>Se(1)),["stop"]))},[s("span",Pl,_(e.$t("duplicate")),1)]),s("div",{class:"flex-start items-center text-12px py-4px px-8px color hover:bg-[--dialog-list-hover] cursor-pointer",onClick:l[2]||(l[2]=u((e=>Se(0)),["stop"]))},[s("span",Nl,_(e.$t("once")),1)])])])),_:1},8,["visible"])]),s("div",Fl,[s("span",Tl,_(e.$t("triggerCondition")),1),l[13]||(l[13]=s("div",{class:"flex-1"},null,-1)),s("span",Dl,_(null==(b=x(he))?void 0:b.symbol)+" "+_(e.$t("currentPrice")),1),s("span",Ml,"$"+_(("formatNumber"in e?e.formatNumber:x(L))((null==(f=x(ie))?void 0:f.price)||0,{decimals:4,limit:6})),1)]),s("div",Bl,[p(a,{"popper-class":"[--el-popover-bg-color:--border]",placement:"bottom-start",trigger:"click",visible:x(ve)},{reference:r((()=>[s("div",{class:"flex-start items-center cursor-pointer text-12px bg-[--border] px-8px",onClick:l[3]||(l[3]=u((e=>ve.value=!x(ve)),["stop"]))},["up"==x(pe).direction?(i(),c(v,{key:0},[p(o,{class:"text-16px color-[--up-color]",name:"custom:arrow-up"}),s("span",Al,_(e.$t("gtPrice")),1)],64)):(i(),c(v,{key:1},[p(o,{class:"text-16px color-[--down-color]",name:"custom:arrow-down"}),s("span",El,_(e.$t("ltPrice")),1)],64)),p(o,{name:x(ve)?"radix-icons:triangle-up":"radix-icons:triangle-down",class:"text-16px color-[--main-text]"},null,8,["name"])])])),default:r((()=>[s("div",Il,[s("div",{class:"flex-start items-center text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-list-hover] cursor-pointer",onClick:l[4]||(l[4]=u((e=>$e("up")),["stop"]))},[p(o,{class:"text-16px",name:"custom:arrow-up"}),s("span",Ll,_(e.$t("gtPrice")),1)]),s("div",{class:"flex-start items-center text-12px py-4px px-8px color hover:bg-[--dialog-list-hover] cursor-pointer",onClick:l[5]||(l[5]=u((e=>$e("down")),["stop"]))},[p(o,{class:"text-16px",name:"custom:arrow-down"}),s("span",Ul,_(e.$t("ltPrice")),1)])])])),_:1},8,["visible"]),p($,{class:"ml-8px mr-8px flex-1 h-32px",modelValue:x(pe).warning_price,"onUpdate:modelValue":l[6]||(l[6]=e=>x(pe).warning_price=e),placeholder:e.$t("placeholderNotify"),onInput:Ne,onFocus:De,onBlur:Fe},null,8,["modelValue","placeholder"]),x(be)?(i(),n(S,{key:0,type:"primary",onClick:u(we,["stop","prevent"]),loading:x(xe)},{default:r((()=>[k(_(e.$t("createNotify")),1)])),_:1},8,["loading"])):(i(),n(S,{key:1,type:"primary",onClick:Te},{default:r((()=>[k(_(e.$t("connectWallet")),1)])),_:1}))]),s("div",Rl,[(i(!0),c(v,null,m(x(fe),((e,o)=>(i(),c("div",{key:o,class:"radio-group flex-1"},[J(s("input",{id:`radio-buy-${e}`,"onUpdate:modelValue":l[7]||(l[7]=e=>h(se)?se.value=e:null),type:"radio",value:e,class:"radio-input",onChange:u(Ve,["stop"])},null,40,jl),[[Q,x(se)]]),s("label",{for:`radio-buy-${e}`,class:w(["radio-item",{"no-checked":x(ue)}]),style:{"border-radius":"4px"}},_("up"==x(pe).direction?"+":"-")+_(e)+"%",11,Hl)])))),128)),s("div",Ol,[s("span",Yl,_("up"==x(pe).direction?"+":"-"),1),p(V,{modelValue:x(ue),"onUpdate:modelValue":l[8]||(l[8]=e=>h(ue)?ue.value=e:null),class:"bg-[--border] rounded-4px",name:"slippage",type:"number",placeholder:e.$t("custom"),max:"up"==x(pe).direction?1/0:99,min:0,step:.01,"controls-position":"right",controls:!1,clearable:"",onFocus:Me,onChange:Pe},null,8,["modelValue","placeholder","max"]),l[14]||(l[14]=s("span",{class:"color-[--main-text]"},"%",-1))])]),x(A).length>0?(i(),c("div",Wl,[s("span",zl,_(e.$t("createRecord")),1),p(P,{modelValue:x(ce),"onUpdate:modelValue":l[9]||(l[9]=e=>h(ce)?ce.value=e:null),label:e.$t("currentToken")},null,8,["modelValue","label"])])):d("",!0),J((i(),n(T,{class:"hidden-scrollbar",height:"600px"},{default:r((()=>{var t;return[s("div",Gl,[(i(!0),c(v,null,m(x(ke),((t,a)=>{var n;return i(),c("div",{class:"item",keys:a,onClick:u((e=>Ce(t.ids,1)),["stop","prevent"])},[s("div",ql,[p(F,{to:`/token/${t.token}-${t.chain}`,class:"flex no-underline items-center",onClick:l[10]||(l[10]=u((e=>ne.value=!1),["stop","prevent"]))},{default:r((()=>[p(N,{row:t,tokenClass:"w-32px h-32px"},null,8,["row"]),s("span",Jl,_(t.symbol),1)])),_:2},1032,["to"]),l[15]||(l[15]=s("div",{class:"flex-1"},null,-1)),p(o,{class:"delete text-16px cursor-pointer",name:"ic:baseline-delete"})]),(null==(n=t.children)?void 0:n.length)>0?(i(),c("ul",Ql,[(i(!0),c(v,null,m(null==t?void 0:t.children,((t,a)=>(i(),c("li",{class:"flex-start items-center text-14px py-8px px-8px color-[--main-text] hover:bg-[--dialog-list-hover] cursor-pointer",key:a,onClick:u((e=>Ce([t.id],0)),["stop","prevent"])},[p(o,{class:"text-16px",name:"custom:"+("up"==t.direction?"arrow-up":"arrow-down")},null,8,["name"]),s("span",Zl,"("+_("up"==t.direction?e.$t("gtPrice"):e.$t("ltPrice"))+")",1),s("span",eo,"$"+_(("formatNumber"in e?e.formatNumber:x(L))(t.warning_price||0,{decimals:4,limit:6})),1),0==t.is_repeatable&&(null==t?void 0:t.notified_times)>=1?(i(),c("span",lo,_(e.$t("expired2")),1)):(i(),c("span",oo,_(0==t.is_repeatable?e.$t("once"):e.$t("duplicate")),1)),l[16]||(l[16]=s("div",{class:"flex-1"},null,-1)),p(o,{class:"delete-children text-14px cursor-pointer",name:"ic:baseline-delete"})],8,Xl)))),128))])):d("",!0)],8,Kl)})),256)),0!=(null==(t=x(ke))?void 0:t.length)||x(E)?d("",!0):(i(),c("div",to,[p(o,{class:"text-40px",name:"custom:bell"}),s("span",ao,_(e.$t("emptyAlert")),1)]))])]})),_:1})),[[M,x(E)]]),s("div",no,[s("span",io,_(x(I)),1),k("/100 "+_(e.$t("alerts1")),1)])]))]})),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-244d652a"]]),so={id:"tv_chart_container",ref:"kline",style:{width:"100%",height:"100%"}},uo={class:"flex justify-between items-center mb-16px"},co={class:"flex flex-wrap gap-row-16px"},po={class:"flex flex-col gap-16px"},vo={class:"flex items-center gap-7px"},mo={class:"flex justify-between"},xo={class:"flex justify-between"},bo={class:"flex justify-between"},fo={class:"flex flex-col gap-16px"},ho={class:"flex items-center gap-7px"},go={class:"flex justify-between"},ko={class:"flex justify-between"},yo={class:"flex justify-between items-center mt-16px"},_o=R(e({__name:"index",props:{isRank:{type:Boolean}},emits:["refresh"],setup(e,{expose:f,emit:g}){const w=e,{t:C}=o(),$=ne(ie.KLINE_DATE_FILTER),S=w.isRank?qe():V(),D=N(),A=re(),E=T(),U=O(),R=F(),j=l(0),H=t((()=>[{id:"trade",name:C("mine")},{id:"16",name:C("insiders")},{id:"19",name:C("sniper2")},{id:"25",name:C("DEV")},{id:"30",name:C("smarter")},{id:"31",name:"KOL"}])),W=M("tv_markLines",{buy:{checked:!0,color:"#12B886"},sell:{checked:!1,color:"#F6465D"},top100Buy:{checked:!1,color:"#0D6EFD"},top100Sell:{checked:!1,color:"#FD3E3E"},kol:{checked:!1,color:"#FFA622"}}),z=l({}),q=t((()=>{var e;return w.isRank&&"klineRow"in S?null==(e=S.klineRow)?void 0:e.id:U.params.id})),Q=l(""),X=l(!1);let Z=!1,ee=!1;const le=l(!1),oe=t((()=>{var e,l;return(null==(e=G(q.value))?void 0:e.chain)||(null==(l=null==S?void 0:S.token)?void 0:l.chain)||""})),te=t((()=>{var e,l;return(null==(e=G(q.value))?void 0:e.address)||(null==(l=null==S?void 0:S.token)?void 0:l.token)})),ae=t((()=>{var e,l,o,t,a;return(null==(t=null==(o=null==(l=null==(e=D.userInfo)?void 0:e.addresses)?void 0:l.find)?void 0:o.call(l,(e=>e.chain===oe.value)))?void 0:t.address)||(null==(a=null==D?void 0:D.userInfo)?void 0:a.evmAddress)||(null==R?void 0:R.address)})),Je=t((()=>{var e;return(null==(e=null==S?void 0:S.token)?void 0:e.symbol)||"-"})),Qe=t((()=>null==S?void 0:S.pairAddress)),Xe=t((()=>{var e;return(null==(e=null==S?void 0:S.pair)?void 0:e.amm)||""}));let Ze=!1;function el(){var e,l,o,t,a,n;Z=!1,Al(),Il(),Ll(),Ul();const i=Qe.value;if(X.value&&"token-id"===U.name){const r=oe.value&&pe.includes(oe.value)||!1,s="tradingview.IntervalWidget.quicks",u=localStorage.getItem(s);sl.value=ve(sl.value,oe.value,r);u!==localStorage.getItem(s)&&pl(),cl&&(null==(e=null==cl?void 0:cl.activeChart)?void 0:e.call(cl))?(null==(l=null==cl?void 0:cl.resetCache)||l.call(cl),null==(a=null==(t=null==(o=null==cl?void 0:cl.activeChart)?void 0:o.call(cl))?void 0:t.clearMarks)||a.call(t),null==(n=null==cl?void 0:cl.setSymbol)||n.call(cl,Je.value+"---"+q.value+i+(S.selectedToken?"1":"0"),sl.value,(()=>{Z=!0}))):Vl()}}B((()=>q.value),(e=>{var l,o,t,a;e&&(null==(l=null==cl?void 0:cl.activeChart)?void 0:l.call(cl))&&(null==(a=null==(t=null==(o=null==cl?void 0:cl.activeChart)?void 0:o.call(cl))?void 0:t.removeAllShapes)||a.call(t))})),B(Qe,(e=>{e!==Q.value&&el()})),B((()=>S.selectedToken),(()=>{el()})),B(ae,(()=>{var e,l,o,t,a,n;X.value&&"token-id"===U.name&&(null==(o=null==(l=null==(e=null==cl?void 0:cl.activeChart)?void 0:e.call(cl))?void 0:l.clearMarks)||o.call(l),null==(n=null==(a=null==(t=null==cl?void 0:cl.activeChart)?void 0:t.call(cl))?void 0:a.refreshMarks)||n.call(a))}));const ll=me(),tl=P();let al=null,il=0;const rl=new Map,sl=Y(localStorage.getItem("tv_resolution")||"15"),ul=xe();let cl=null;const dl=M("tv_showMarket",!1);function pl(){var e;Z=!1,ee=!1,al=null,il=0,Al(),Ll(),Ul(),Il(),null==(e=null==cl?void 0:cl.remove)||e.call(cl),Vl()}B((()=>ul.theme),(e=>{cl&&(null==cl||cl.changeTheme(e).then((()=>{var e;Rl(),null==(e=null==cl?void 0:cl.applyOverrides)||e.call(cl,{"scalesProperties.textColor":ul.isDark?"#d5d5d5":"#333","paneProperties.backgroundType":"solid","paneProperties.background":Ne("--secondary-bg")})})))})),B((()=>tl.locale),(()=>{pl()}));let vl=[];function ml(){ee&&(vl.forEach((e=>{var l;null==(l=null==cl?void 0:cl.removeButton)||l.call(cl,e)})),vl=[],function(){const e=null==cl?void 0:cl.createButton();if(!e)return;const l=()=>{const l=dl.value;e.innerHTML=`\n        <span style="font-size: 12px; cursor: pointer;">\n          ${l?'Price / <span style="color:#286DFF">MCap</span>':'<span style="color:#286DFF">Price</span> / MCap'}\n        </span>`};e.onclick=()=>{var e,o,t,a;dl.value=!dl.value,l(),null==(e=null==cl?void 0:cl.resetCache)||e.call(cl),null==(a=null==(o=null==cl?void 0:cl.activeChart)?void 0:(t=o.call(cl)).resetData)||a.call(t)},l(),vl.push(e)}(),function(){const e=null==cl?void 0:cl.createButton({align:"right",useTradingViewStyle:!1});if(!e)return;const l=()=>{e.innerHTML='<div style="display: flex;align-items: center;cursor:pointer;padding: 7px 5px 7px 0;border-radius: 6px;" onMouseOver="this.style.background=\'none\'"  onMouseLeave="this.style.background=\'none\'"><img width="18" height="18" src="https://ave.s3.ap-east-1.amazonaws.com/im/alert.png" /></div>'};e.onclick=()=>{var e,l,o,t;le.value=!le.value,null==(e=null==cl?void 0:cl.resetCache)||e.call(cl),null==(t=null==(l=null==cl?void 0:cl.activeChart)?void 0:(o=l.call(cl)).resetData)||t.call(o)},l(),vl.push(e)}(),function(){const e=null==cl?void 0:cl.createButton({align:"right",useTradingViewStyle:!1});if(!e)return;e.innerHTML='<div style="cursor:pointer"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n<path d="M15.2182 3.04349C13.7649 1.95145 11.9578 1.30436 10 1.30436C5.19744 1.30436 1.30437 5.197 1.30437 9.99998C1.30437 11.3595 1.61643 12.646 2.17263 13.7925L1.09227 14.549C0.394018 13.1844 0 11.6381 0 9.99998C0 4.47692 4.47711 0 9.99999 0C12.2907 0 14.4009 0.770215 16.0869 2.0652V0.650475C16.0869 0.29128 16.3765 0 16.7391 0C17.0996 0 17.3913 0.292122 17.3913 0.650475V3.69649C17.3913 3.87652 17.3191 4.03871 17.2015 4.15676C17.0822 4.27482 16.9195 4.34783 16.7404 4.34783H13.6944C13.3352 4.34783 13.0435 4.05826 13.0435 3.69567C13.0435 3.33563 13.3356 3.04351 13.6944 3.04351H15.2182V3.04349ZM4.78177 16.9565C6.23513 18.0486 8.04198 18.6957 9.99999 18.6957C14.8026 18.6957 18.6956 14.8021 18.6956 10C18.6956 8.89779 18.4906 7.84394 18.1169 6.87417L19.2136 6.1065C19.7202 7.30301 20 8.61839 20 10C20 15.5222 15.5227 20 10 20C7.70955 20 5.59912 19.2298 3.91308 17.9348V19.3487C3.91308 19.7087 3.62348 20 3.26089 20C2.90065 20 2.60873 19.7079 2.60873 19.3487V16.3026C2.60873 16.1235 2.68093 15.9605 2.79832 15.8432C2.91783 15.7252 3.08045 15.6521 3.25964 15.6521H6.30566C6.66508 15.6521 6.95657 15.9417 6.95657 16.3043C6.95657 16.6644 6.66444 16.9565 6.30566 16.9565H4.78177V16.9565Z" fill="#9CA1A8"/>\n</svg></div>',e.onclick=()=>{var e,l,o,t;Tl.value=Ee.KLINE,null==(e=null==cl?void 0:cl.resetCache)||e.call(cl),null==(t=null==(l=null==cl?void 0:cl.activeChart)?void 0:(o=l.call(cl)).resetData)||t.call(o)},vl.push(e)}(),yl(cl,vl))}const{getMarks:xl,marksTabs:bl,markTabsChecked:hl,wsTxUpdateMarks:gl,profilingMarksCache:kl,createDisplayButton:yl,markTabsVisible:_l}=nl();B(bl,(()=>{Cl()})),B(_l,(e=>{var l,o,t,a,n,i;e?null==(t=null==(o=null==(l=null==cl?void 0:cl.activeChart)?void 0:l.call(cl))?void 0:o.refreshMarks)||t.call(o):null==(i=null==(n=null==(a=null==cl?void 0:cl.activeChart)?void 0:a.call(cl))?void 0:n.clearMarks)||i.call(n)}));let wl=0;function Cl(){if(X.value)wl=0,ml();else{if(wl>3)return;setTimeout((()=>{wl++,Cl()}),500)}}let $l=!1,Sl=0;async function Vl(){var e,l,o;const t=(null==(l=null==(e=Je.value)?void 0:e.toUpperCase)?void 0:l.call(e))||"-",a=oe.value&&pe.includes(oe.value)||!1;sl.value=ve(sl.value,oe.value,a);const n=(null==(o=I().globalConfig)?void 0:o.token_logo_url)||"https://www.iconaves.com/",i=await be();cl=new i({symbol:t.replace("<","＜")||" ",debug:!1,width:"100%",height:"100%",interval:sl.value,theme:ul.theme,container:"tv_chart_container",library_path:`${n}charting_library-29.4.0/charting_library/`,locale:he(tl.locale),disabled_features:["header_symbol_search","header_screenshot","header_compare","volume_force_overlay","header_undo_redo","header_settings","header_saveload","timeframes_toolbar"],enabled_features:["request_only_visible_range_on_reset",...a?["seconds_resolution"]:[]],charts_storage_url:location.host,charts_storage_api_version:"1.1",timezone:fe(),time_frames:[],loading_screen:{backgroundColor:ul.isDark?"#0B0D12":"#F6F9FF",foregroundColor:"#3F80F7"},custom_css_url:`${location.origin}/tv_custom_1.css`,custom_formatters:{priceFormatterFactory:()=>({format:e=>dl.value?L(e,{decimals:2,locale:"en"}):String(L(e,{decimals:4,limit:6,locale:"en"}))})},overrides:{volumePaneSize:"small","paneProperties.topMargin":"10","scalesProperties.textColor":ul.isDark?"#d5d5d5":"#333","paneProperties.backgroundType":"solid","paneProperties.background":ul.isDark?"#0B0D12":"#F6F9FF","paneProperties.vertGridProperties.style":2,"paneProperties.legendProperties.showLegend":!1,"paneProperties.legendProperties.showStudyArguments":!0,"paneProperties.legendProperties.showStudyTitles":!0,"paneProperties.legendProperties.showStudyValues":!0,"paneProperties.legendProperties.showSeriesTitle":!0,"paneProperties.legendProperties.showSeriesOHLC":!0,"mainSeriesProperties.candleStyle.drawWick":!0,"mainSeriesProperties.candleStyle.drawBorder":!0,"mainSeriesProperties.candleStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.hollowCandleStyle.drawWick":!0,"mainSeriesProperties.hollowCandleStyle.drawBorder":!0,"mainSeriesProperties.haStyle.drawWick":!0,"mainSeriesProperties.haStyle.drawBorder":!0,"mainSeriesProperties.haStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.dontDrawOpen":!1,"mainSeriesProperties.lineStyle.linewidth":2,"mainSeriesProperties.lineStyle.priceSource":"close","mainSeriesProperties.areaStyle.linewidth":2,"mainSeriesProperties.areaStyle.priceSource":"close"},datafeed:{onReady:e=>{const l=oe.value&&pe.includes(oe.value),o={supported_resolutions:"mixmax"===oe.value||"xlayer"===oe.value||"base"===oe.value?["1S","5S","15S","30S","1","5","15","30","60","120","240","1D","1W"]:["1S","1","5","15","30","60","120","240","1D","1W"],supports_marks:!0,supports_timescale_marks:!0,supports_time:!0};l||(o.supported_resolutions=["1","5","15","30","60","120","240","1D","1W"]),Rl(),setTimeout((()=>e(o)),50)},resolveSymbol:(e,l,o)=>{var t,a,n,i,r,s,u,c,d,p;try{const e=!(!oe.value||!(null==(a=null==(t=pe)?void 0:t.includes)?void 0:a.call(t,oe.value))),o=(null==(i=null==(n=Je.value)?void 0:n.toUpperCase)?void 0:i.call(n))||(null==(r=null==S?void 0:S.token)?void 0:r.symbol)||"-",p=Number(null==S?void 0:S.price)||0,v={name:o,ticker:o,description:(null==(u=null==(s=null==o?void 0:o.split)?void 0:s.call(o,"---"))?void 0:u[0])||"",exchange:"Ave.ai",timezone:fe(),format:dl.value?"volume":"price",minmov:1,minmove2:0,pricescale:p>0?10**Se(p).precision:1e10,volume_precision:2,fractional:!1,session:"24x7",has_intraday:!0,intraday_multipliers:["1","5","15","30","60","120","240"],has_seconds:e,seconds_multipliers:["1","5","15","30"],has_daily:!0,has_weekly_and_monthly:!0,supported_resolutions:["1S","5S","15S","30S","1","5","15","30","60","120","240","1D","1W"],data_status:"streaming",visible_plots_set:"ohlcv",type:"crypto",listed_exchange:(null==(d=null==(c=$e)?void 0:c(oe.value||"",Xe.value))?void 0:d.show_name)||""};e||(v.supported_resolutions=["1","5","15","30","60","120","240","1D","1W"],v.seconds_multipliers=[]),setTimeout((()=>l(v)),0)}catch(v){o((null==(p=null==v?void 0:v.toString)?void 0:p.call(v))||"resolveSymbol err")}},getBars:(e,l,o,t,a)=>{var n,i,r;const{from:s,to:u,firstDataRequest:c}=o;try{if(c)$l=!1,al=null,il=0;else if($l)return void t([],{noData:!0});const e={interval:ge(l),token_id:q.value,from:s,to:c?0:Math.max(u,Sl||0)},o=(null==(i=null==(n=ke)?void 0:n.includes)?void 0:i.call(n,oe.value))&&!w.isRank&&"tokenAllPair"in S&&(null==S?void 0:S.tokenAllPair)&&(null==S?void 0:S.selectedToken);o||(e.pair_id=Qe.value+"-"+oe.value,delete e.token_id),Ze=!0;(o?ye:_e)(e).then((e=>{var l,o;const a=(null==e?void 0:e.kline_data)||[],n=(null==(l=null==a?void 0:a.map)?void 0:l.call(a,(e=>({time:1e3*e.time,open:dl.value?new we(e.open||0).times((null==S?void 0:S.circulation)||0).toNumber():e.open,high:dl.value?new we(e.high||0).times((null==S?void 0:S.circulation)||0).toNumber():e.high,low:dl.value?new we(e.low||0).times((null==S?void 0:S.circulation)||0).toNumber():e.low,close:dl.value?new we(e.close||0).times((null==S?void 0:S.circulation)||0).toNumber():e.close,volume:e.volume}))))||[];Q.value=(null==e?void 0:e.pair)||"",c&&(al=(null==a?void 0:a[(null==a?void 0:a.length)-1])||null,il=Number((null==al?void 0:al.close)||0),al&&(al.time=1e3*al.time),$l=(null==n?void 0:n.length)<100),(null==a?void 0:a.length)>0&&(Sl=(null==(o=null==a?void 0:a[0])?void 0:o.time)||0),t(n,{noData:!(null==n?void 0:n.length)}),setTimeout((()=>{Ce("klineDataReady").emit()}),10)})).finally((()=>{Ze=!1}))}catch(d){a((null==(r=null==d?void 0:d.toString)?void 0:r.call(d))||"getBars err")}},subscribeBars:(e,l,o,t)=>{if(rl.has(q.value))return void Nl(l,o);const{address:a,chain:n}=G(q.value);let i=["multi_tx",a,n];We.includes(n)&&(i=["simple_tx",{tks:[{ch:n,tk:a}],rt:"json"}]);const r={jsonrpc:"2.0",method:"subscribe",params:i,id:1};Nl(l,o,ll.send(r)),rl.set(q.value,r)},unsubscribeBars:e=>{var l;if(e){const e=rl.get(q.value)||{};if((null==(l=null==e?void 0:e.params)?void 0:l[1])===te.value)return;rl.forEach((e=>{var l;(null==(l=null==e?void 0:e.params)?void 0:l[1])!==te.value&&ll.send({...e,method:"unsubscribe"})})),null==rl||rl.clear()}},searchSymbols:(e,l,o,t)=>{},getMarks:(e,l,o,t,a)=>{const n=ge(a);xl({from:l,to:o,interval:n,pair:Qe.value,token:q.value,chain:oe.value||"",user:ae.value,onDataCallback:t})}}}),Ve(),cl.onChartReady((()=>{var e,l,o,t,a;X.value=!0,Z=!0,ul.isDark?null==(e=null==cl?void 0:cl.applyOverrides)||e.call(cl,{"scalesProperties.textColor":"#d5d5d5"}):null==(l=null==cl?void 0:cl.applyOverrides)||l.call(cl,{"scalesProperties.textColor":"#333"}),null==(t=null==(o=null==cl?void 0:cl.activeChart)?void 0:o.call(cl))||t.onIntervalChanged().subscribe(null,(e=>{var l;sl.value!==e&&(sl.value=e,localStorage.setItem("tv_resolution",e),null==(l=null==cl?void 0:cl.resetCache)||l.call(cl))})),Pe(cl),El(),function(){var e;if(null==(e=null==cl?void 0:cl.activeChart)?void 0:e.call(cl)){let e=JSON.parse((null==localStorage?void 0:localStorage[Ye])||"[]");e=e.filter(((l,o)=>e.findIndex((e=>e.name===l.name))===o)),e.forEach((e=>{var l;null==(l=null==cl?void 0:cl.activeChart)||l.call(cl).createStudy(e.name,!1,!1)}))}}(),null==(a=null==cl?void 0:cl.applyOverrides)||a.call(cl,{"scalesProperties.textColor":ul.isDark?"#d5d5d5":"#333","paneProperties.backgroundType":"solid","paneProperties.background":Ne("--secondary-bg")})})),null==cl||cl.headerReady().then((()=>{ee=!0,ml()})),null==cl||cl.subscribe("onMarkClick",(e=>{var l,o;const{token:t,symbol:a,logo_url:n,chain:i}=(null==(l=S.tokenInfo)?void 0:l.token)||{},{target_token:r,token0_address:s,token0_symbol:u,token1_symbol:c,pair:d}=S.pair||{};let p=ae.value;for(const[,m]of kl){const l=null==(o=m.find((l=>l.id===e)))?void 0:o.user_address;if(l){p=l;break}}const v={drawerVisible:!0,tokenInfo:{id:U.params.id,symbol:a,logo_url:n,chain:i,address:t},pairInfo:{target_token:r,token0_address:s,token0_symbol:u,token1_symbol:c,pairAddress:d},user_address:p};A.$patch(v)}));let r=0;cl.subscribe("mouse_down",(()=>{r=performance.now()})),cl.subscribe("mouse_up",(e=>{var l,o,t;if(performance.now()-r>=200)return;const a=null==(t=null==(o=null==(l=null==cl?void 0:cl.activeChart)?void 0:l.call(cl))?void 0:o.getTimeScale)?void 0:t.call(o).coordinateToTime(e.clientX-56);if(a&&sl.value){const e=Fe[sl.value]||{val:sl.value,unit:"m"},l=Te(1e3*a).add(e.val,e.unit).unix();E.isClickKlineFilter&&(null==$?void 0:$.value)&&($.value=[String(a),String(l)])}})),null==cl||cl.subscribe("study_event",((e,l)=>{"create"!==l&&"remove"!==l||Pl||function(){var e,l,o,t;if(null==(e=null==cl?void 0:cl.activeChart)?void 0:e.call(cl)){let e=(null==(t=null==(o=null==(l=null==cl?void 0:cl.activeChart)?void 0:l.call(cl))?void 0:o.getAllStudies)?void 0:t.call(o))||[];e=e.filter(((l,o)=>e.findIndex((e=>e.name===l.name))===o)),localStorage.setItem(Ye,JSON.stringify(e.filter((e=>"Volume"!==e.name))))}}()})),window.onbeforeunload=()=>{Pl=!0}}let Pl=!1;function Nl(e,l,o=ll.getWSInstance()){null==o||o.onmessage((o=>{var t,a,n,i,r,s;const u=De(o);if(!u)return;const{event:c,data:d}=u;if(c===Me.SIMPLE_TX||c===Me.TX){const o=(null==d?void 0:d.msg)||(null==d?void 0:d.tx),u=ge(e),c=null==(t=G(q.value))?void 0:t.address;let p="";if(p="target"in o?o.target:[o.from_address,o.to_address].find((e=>e===c))||"",p===c&&!Ze){const e="pair"in o?o.pair:o.pair_address,t="price_u"in o?Number(o.price_u||0):Number((null==(n=null==(a=o.from_address)?void 0:a.toLowerCase)?void 0:n.call(a))===(null==(s=null==(r=null==(i=S.token)?void 0:i.token)?void 0:r.toLowerCase)?void 0:s.call(r))?o.from_price_usd:o.to_price_usd)||0;if(e===Qe.value&&(il=t),e!==Qe.value){const e=t;if(!il&&Math.abs(e-il)>.35*il)return}S.tokenPrice=t;const d=Be(o,c,al,u);d&&(al={...d});const p={...d};dl.value&&p&&(p.open=new we(p.open||0).times((null==S?void 0:S.circulation)||0).toNumber(),p.high=new we(p.high||0).times((null==S?void 0:S.circulation)||0).toNumber(),p.low=new we(p.low||0).times((null==S?void 0:S.circulation)||0).toNumber(),p.close=new we(p.close||0).times((null==S?void 0:S.circulation)||0).toNumber()),p&&(null==p?void 0:p.time)&&l(p)}gl({tx:o,interval:Number(u),user:ae.value},cl)}}),"kline")}let Fl=!1;const Tl=Ae("kHeight",Ee.KLINE),Dl=Ie().height,Ml=Le("kline");function Bl(e){let l=e.clientY;if(Fl=!0,!Ml)return;const{height:o}=ze(Ml);return Tl.value=o.value,document.onmousemove=e=>{if(!Fl)return;if(e.clientY>Dl.value)return void(Fl=!1);document.getElementById("tv_chart_container").style.pointerEvents="none";const o=e.clientY<l?Tl.value-(l-e.clientY):Tl.value+e.clientY-l;o<=Dl.value-164&&(Tl.value=o),l=e.clientY},document.onmouseup=()=>{document.getElementById("tv_chart_container").style.pointerEvents="auto",Fl=!1,document.onmousemove=null,document.onmouseup=null,S.centerTopHeight=Tl.value},!1}const{resetLimitPriceLineId:Al,subscribePriceMove:El}=se((()=>cl),(()=>Z),dl),{resetAvgPriceLineId:Il}=ue((()=>cl),(()=>Z),dl,W);Ue((()=>cl),(()=>Z),dl);const{resetBotAvgLineId:Ll}=ce((()=>cl),(()=>Z),dl,W),{resetKOLLine:Ul}=de((()=>cl),(()=>Z),dl,W);function Rl(){var e;const l=document.querySelector("#tv_chart_container iframe"),o=null==(e=null==l?void 0:l.contentWindow)?void 0:e.document.documentElement;o&&o.style.setProperty("--secondary-bg",Ne("--secondary-bg"))}Re((()=>{Pl=!0}));const jl=()=>{E.klineSettingPop.visible=!1};K((()=>{Vl(),ol((()=>{var e,l,o,t;null==(e=null==cl?void 0:cl.resetCache)||e.call(cl),null==(t=null==(l=null==cl?void 0:cl.activeChart)?void 0:(o=l.call(cl)).resetData)||t.call(o)})),document.addEventListener("click",jl)})),a((()=>{var e;document.removeEventListener("click",jl),rl.forEach((e=>{ll.send({...e,method:"unsubscribe"})})),null==rl||rl.clear(),null==(e=null==cl?void 0:cl.remove)||e.call(cl),cl=null}));const Hl=g;function Ol(){Hl("refresh"),pl()}const Yl=e=>{var l,o,t;e||null==(t=null==(o=null==(l=null==cl?void 0:cl.activeChart)?void 0:l.call(cl))?void 0:o.clearMarks)||t.call(o),setTimeout((()=>{var e,l,o;null==(o=null==(l=null==(e=null==cl?void 0:cl.activeChart)?void 0:e.call(cl))?void 0:l.refreshMarks)||o.call(l)}),20)};B((()=>E.klineSettingPop.visible),(e=>{e||(z.value={buy:!1,sell:!1,kol:!1,top100Buy:!1,top100Sell:!1})}));const Wl=()=>{W.value.top100Buy.color="#0D6EFD",W.value.top100Sell.color="#FD3E3E"},zl=()=>{W.value.buy.color="#19d92f",W.value.sell.color="#f6465d",W.value.kol.color="#ffa622"};return f({setScrollTop:e=>{j.value=e}}),(e,l)=>{const o=Ge,t=b,a=y,f=Ke,g=Oe;return i(),c(v,null,[s("div",{class:"relative",style:je({height:`${e.isRank?390:x(Tl)}px`})},[s("div",so,null,512),J(p(fl,{isRank:e.isRank,onRefresh:Ol},null,8,["isRank"]),[[He,x(X)]]),p(ro,{modelValue:x(le),"onUpdate:modelValue":l[0]||(l[0]=e=>h(le)?le.value=e:null)},null,8,["modelValue"])],4),e.isRank?d("",!0):(i(),c("div",{key:0,class:"w-full cursor-row-resize bg-[--border] gap-1px hover:bg-[--third-text] flex items-center justify-center h-4px",onMousedown:u(Bl,["stop","prevent"])},[(i(),c(v,null,m(4,(e=>s("span",{key:e,class:"bg-[--icon-color] w-2px h-2px rounded-full"}))),64))],32)),J(s("div",{style:je({transform:`translate3d(${x(E).klineSettingPop.position[0]}px,${x(E).klineSettingPop.position[1]-x(j)}px,0)`}),class:"absolute top-0 left-0 p-20px bg-[--dialog-bg] rounded-8px w-320px text-14px z-10",onClick:l[19]||(l[19]=u((()=>{}),["stop"]))},[s("div",uo,[k(_(e.$t("chainToken"))+" ",1),p(o,{modelValue:x(_l),"onUpdate:modelValue":l[1]||(l[1]=e=>h(_l)?_l.value=e:null),class:"[&&]:h-20px"},null,8,["modelValue"])]),J(s("div",co,[p(t,{key:"all",class:"flex-basis-1/3 [&&]:mr-0 [&&]:[--el-checkbox-height:16px]","model-value":!Object.values(x(hl)).some((e=>!e)),onChange:l[2]||(l[2]=e=>{Object.keys(x(hl)).forEach((l=>{x(hl)[l]=e})),Yl(e)})},{default:r((()=>[k(_(x(C)("all")),1)])),_:1},8,["model-value"]),(i(!0),c(v,null,m(x(H),(e=>(i(),n(t,{key:e.id,modelValue:x(hl)[e.id],"onUpdate:modelValue":l=>x(hl)[e.id]=l,class:"flex-basis-1/3 [&&]:mr-0 [&&]:[--el-checkbox-height:16px]",onChange:Yl},{default:r((()=>[k(_(e.name),1)])),_:2},1032,["modelValue","onUpdate:modelValue"])))),128))],512),[[He,x(_l)]]),l[20]||(l[20]=s("div",{class:"my-24px h-1px border-t-solid border-t-[--dialog-divider]"},null,-1)),s("div",po,[s("div",vo,[k(_(e.$t("indicatorLine"))+" ",1),p(a,{name:"custom:reset2",class:"cursor-pointer color-[--third-text] text-10px",onClick:zl})]),s("div",mo,[p(t,{modelValue:x(W).buy.checked,"onUpdate:modelValue":l[3]||(l[3]=e=>x(W).buy.checked=e),class:"[&&]:[--el-checkbox-height:16px]"},{default:r((()=>[k(_(e.$t("buyMa")),1)])),_:1},8,["modelValue"]),p(g,{visible:x(z).buy,"onUpdate:visible":l[5]||(l[5]=e=>x(z).buy=e),trigger:"click",teleported:!1},{content:r((()=>[p(f,{modelValue:x(W).buy.color,"onUpdate:modelValue":l[4]||(l[4]=e=>x(W).buy.color=e)},null,8,["modelValue"])])),default:r((()=>[s("div",{class:"w-14px h-14px rounded-2px border-solid border-[--border] cursor-pointer",style:je({background:x(W).buy.color})},null,4)])),_:1},8,["visible"])]),s("div",xo,[p(t,{modelValue:x(W).sell.checked,"onUpdate:modelValue":l[6]||(l[6]=e=>x(W).sell.checked=e),class:"[&&]:[--el-checkbox-height:16px]"},{default:r((()=>[k(_(e.$t("sellMa")),1)])),_:1},8,["modelValue"]),p(g,{visible:x(z).sell,"onUpdate:visible":l[8]||(l[8]=e=>x(z).sell=e),trigger:"click",teleported:!1},{content:r((()=>[p(f,{modelValue:x(W).sell.color,"onUpdate:modelValue":l[7]||(l[7]=e=>x(W).sell.color=e)},null,8,["modelValue"])])),default:r((()=>[s("div",{class:"w-14px h-14px rounded-2px border-solid border-[--border] cursor-pointer",style:je({background:x(W).sell.color})},null,4)])),_:1},8,["visible"])]),s("div",bo,[p(t,{modelValue:x(W).kol.checked,"onUpdate:modelValue":l[9]||(l[9]=e=>x(W).kol.checked=e),class:"[&&]:[--el-checkbox-height:16px]"},{default:r((()=>[k(_(e.$t("kolPosition")),1)])),_:1},8,["modelValue"]),p(g,{visible:x(z).kol,"onUpdate:visible":l[11]||(l[11]=e=>x(z).kol=e),trigger:"click",teleported:!1},{content:r((()=>[p(f,{modelValue:x(W).kol.color,"onUpdate:modelValue":l[10]||(l[10]=e=>x(W).kol.color=e)},null,8,["modelValue"])])),default:r((()=>[s("div",{class:"w-14px h-14px rounded-2px border-solid border-[--border] cursor-pointer",style:je({background:x(W).kol.color})},null,4)])),_:1},8,["visible"])])]),l[21]||(l[21]=s("div",{class:"my-24px h-1px border-t-solid border-t-[--dialog-divider]"},null,-1)),s("div",fo,[s("div",ho,[k(_(e.$t("top100"))+" ",1),p(a,{name:"custom:reset2",class:"cursor-pointer color-[--third-text] text-10px",onClick:Wl})]),s("div",go,[p(t,{modelValue:x(W).top100Buy.checked,"onUpdate:modelValue":l[12]||(l[12]=e=>x(W).top100Buy.checked=e),class:"[&&]:[--el-checkbox-height:16px]"},{default:r((()=>[k(_(e.$t("whaleBuy")),1)])),_:1},8,["modelValue"]),p(g,{visible:x(z).top100Buy,"onUpdate:visible":l[14]||(l[14]=e=>x(z).top100Buy=e),trigger:"click",teleported:!1},{content:r((()=>[p(f,{modelValue:x(W).top100Buy.color,"onUpdate:modelValue":l[13]||(l[13]=e=>x(W).top100Buy.color=e)},null,8,["modelValue"])])),default:r((()=>[s("div",{class:"w-14px h-14px rounded-2px border-solid border-[--border] cursor-pointer",style:je({background:x(W).top100Buy.color})},null,4)])),_:1},8,["visible"])]),s("div",ko,[p(t,{modelValue:x(W).top100Sell.checked,"onUpdate:modelValue":l[15]||(l[15]=e=>x(W).top100Sell.checked=e),class:"[&&]:[--el-checkbox-height:16px]"},{default:r((()=>[k(_(e.$t("whaleSell")),1)])),_:1},8,["modelValue"]),p(g,{visible:x(z).top100Sell,"onUpdate:visible":l[17]||(l[17]=e=>x(z).top100Sell=e),trigger:"click",teleported:!1},{content:r((()=>[p(f,{modelValue:x(W).top100Sell.color,"onUpdate:modelValue":l[16]||(l[16]=e=>x(W).top100Sell.color=e)},null,8,["modelValue"])])),default:r((()=>[s("div",{class:"w-14px h-14px rounded-2px border-solid border-[--border] cursor-pointer",style:je({background:x(W).top100Sell.color})},null,4)])),_:1},8,["visible"])])]),s("div",yo,[k(_(e.$t("clickChartFilter"))+" ",1),p(o,{modelValue:x(E).isClickKlineFilter,"onUpdate:modelValue":l[18]||(l[18]=e=>x(E).isClickKlineFilter=e),class:"[&&]:h-20px"},null,8,["modelValue"])])],4),[[He,x(E).klineSettingPop.visible]])],64)}}}),[["__scopeId","data-v-6c10e721"]]);export{_o as K,al as _};
