import{f as e,am as a,y as t,V as l,v as s,r as o,g as r,c as n,A as i,i as c,o as d,O as u,aM as p,a as v,b as m,t as f,B as x,F as y,C as g,K as h,c9 as k,P as w,G as b,J as C,w as $,d as _,a4 as A,p as T,fh as B,_ as I}from"./LNDzZpPm.js";import{d as V}from"./BR9e6NRM.js";const z={class:"tabs"},D={class:"text-14px color-[--main-text]"},P={class:"text-12px color-[--third-text] mt-8px"},S={class:"import part mt-24px"},U={class:"text-12px color-[--secondary-text] mb-10px block"},j={class:"grid grid-cols-3 gap-2"},E={class:"error-message"},K={key:0},L={class:"flex-between"},W=I(e({__name:"import",emits:["refresh"],setup(e,{emit:I}){const W=I,{showImport:Z}=a(t()),F=l(),{t:G}=s(),H=o(!1),J=o(Array(12).fill("")),M=o([]),O=o(""),R=r((()=>J.value.join(" ").trim()));r((()=>J.value.every((e=>""!==e.trim()))));const q=()=>{var e;if(J.value.some((e=>!e.trim())))return void(O.value=G("importTip1eTips2"));H.value=!0;const a=(null==(e=null==F?void 0:F.userInfo)?void 0:e.tgUid)||"",t=function(e,a){const t=B.enc.Base64.stringify(B.enc.Utf8.parse(e)),l=B.SHA256(a),s=B.lib.WordArray.create(l.words.slice(0,4));return B.AES.encrypt(t,l,{mode:B.mode.CBC,iv:s,padding:B.pad.Pkcs7}).ciphertext.toString(B.enc.Base64)}(R.value,a);V(t).then((e=>{A.success(G("success")),W("refresh"),Z.value=!1,N()})).catch((e=>{A.error(String(e))})).finally((()=>{H.value=!1}))};function N(){J.value=Array(12).fill(""),O.value=""}return(e,a)=>{const t=x,l=w,s=b;return c(Z)?(d(),n("div",{key:0,class:"pop-right",onClick:a[2]||(a[2]=e=>Z.value=!1)},[u(v("div",{class:"content",style:{flex:"1","max-width":"450px","overflow-y":"auto","overflow-x":"hidden"},onClick:a[1]||(a[1]=C((()=>{}),["stop","prevent"]))},[v("div",z,[v("div",null,f(e.$t("importWallet")),1),m(t,{name:"line-md:close",class:"text-20px color-[--main-text]",onClick:a[0]||(a[0]=e=>Z.value=!1)})]),v("div",null,[v("span",D,f(e.$t("allChain"))+" "+f(e.$t("automaticRecognition")),1),v("div",P,f(e.$t("importBotTip")),1)]),v("div",S,[v("span",U,f(e.$t("mnemonic")),1),v("div",j,[(d(!0),n(y,null,g(c(J),((e,a)=>(d(),h(l,{ref_for:!0,ref_key:"inputs",ref:M,key:a,modelValue:c(J)[a],"onUpdate:modelValue":e=>c(J)[a]=e,class:"input",placeholder:`${a+1}`,onInput:e=>((e,a)=>{let t=e.replace(/[^a-zA-Z]/g,"").toLowerCase();J.value[a]=t,e=t,12==(null==J?void 0:J.value.length)&&(O.value="")})(e,a),onKeydown:k((e=>{return l=a,void(" "!==(t=e).key&&"Enter"!==(null==t?void 0:t.key)||(t.preventDefault(),T((()=>{var e;return null==(e=M.value[l+1])?void 0:e.focus()}))));var t,l}),["enter"]),onPaste:e=>(e=>{var a,t,l;const s=null==(t=null==(a=e.clipboardData.getData("text"))?void 0:a.trim())?void 0:t.toLowerCase(),o=null==(l=null==s?void 0:s.replace(/\s+/g," "))?void 0:l.split(" ");12==(null==o?void 0:o.length)&&(e.preventDefault(),/^[a-zA-Z\s]+$/.test(s)?o.forEach(((e,a)=>{J.value[a]=e})):A.error(G("importTip1eTips")))})(e)},null,8,["modelValue","onUpdate:modelValue","placeholder","onInput","onKeydown","onPaste"])))),128))]),v("div",E,[c(O)?(d(),n("span",K,f(c(O)),1)):i("",!0)]),v("div",L,[m(s,{class:"width100 button",size:"small",onClick:C(N,["stop","prevent"])},{default:$((()=>[_(f(e.$t("reset")),1)])),_:1}),m(s,{class:"width100 button",block:"",size:"small",type:"primary",loading:c(H),onClick:C(q,["stop"])},{default:$((()=>[_(f(e.$t("confirm")),1)])),_:1},8,["loading"])])])],512),[[p,c(Z)]])])):i("",!0)}}}),[["__scopeId","data-v-d7ab7786"]]);export{W as default};
